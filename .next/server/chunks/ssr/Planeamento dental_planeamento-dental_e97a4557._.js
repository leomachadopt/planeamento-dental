module.exports=[59518,a=>{"use strict";let b=(0,a.i(48948).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],59518)},28647,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(18574),g=b([f]);[f]=g.then?(await g)():g;let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-250",a),...b}));h.displayName="Card";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));i.displayName="CardHeader";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));j.displayName="CardTitle";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));k.displayName="CardDescription";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));l.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter",a.s(["Card",()=>h,"CardContent",()=>l,"CardDescription",()=>k,"CardHeader",()=>i,"CardTitle",()=>j]),c()}catch(a){c(a)}},!1),61605,a=>{"use strict";let b=(0,a.i(48948).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],61605)},73837,a=>{"use strict";let b=(0,a.i(48948).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],73837)},63211,a=>{"use strict";let b=(0,a.i(48948).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],63211)},69008,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(23526),g=a.i(72747),h=a.i(28647),i=a.i(71946),j=a.i(56983),k=a.i(34159),l=a.i(43776),m=a.i(45398),n=a.i(83423),o=a.i(13230),p=a.i(51444),q=a.i(63211),r=a.i(61605),s=a.i(73837),t=a.i(59518),u=a.i(16537),v=a.i(91917),w=a.i(96012),x=a.i(48761),y=a.i(96646),z=b([h,i,j,k,l,m,w,y]);function A(){let a=(0,f.useRouter)(),{user:b}=(0,w.useAuthStore)(),[c,z]=(0,e.useState)([]),[A,B]=(0,e.useState)(!0),[C,D]=(0,e.useState)({}),[E,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)(""),[I,J]=(0,e.useState)(!1);(0,e.useEffect)(()=>{K()},[b?.clinicId]);let K=async()=>{if(!b?.clinicId)return void B(!1);try{B(!0);let a=await v.api.getDossiers(b.clinicId);for(let b of(z(a),a))try{let a=await v.api.getDossierReports(b.id);D(c=>({...c,[b.id]:a}))}catch(a){}}catch(a){console.error("Erro ao carregar dossiês:",a)}finally{B(!1)}},L=async()=>{if(!G.trim())return void y.toast.error("Digite o título do dossiê");if(!b?.clinicId)return void y.toast.error("Selecione uma clínica primeiro");J(!0);try{let c=await (0,x.createDossier)(b.clinicId,G.trim());H(""),F(!1),y.toast.success("Dossiê criado com sucesso!"),a.push(`/dossie/${c.id}/identity`),await K()}catch(a){console.error("Erro ao criar dossiê:",a),y.toast.error(a.message||"Erro ao criar dossiê")}finally{J(!1)}};return A?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,d.jsx)(u.Loader2,{className:"size-8 animate-spin text-teal-600"})}):(0,d.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Centro de Documentação Estratégica"}),(0,d.jsx)("p",{className:"text-slate-500 mt-1 max-w-2xl",children:"Gerencie seus dossiês estratégicos e visualize os relatórios gerados por IA para cada seção. Documente o negócio da sua clínica de forma estruturada e gere documentos formais."})]}),(0,d.jsx)("div",{className:"flex items-center gap-2",children:(0,d.jsxs)(k.Dialog,{open:E,onOpenChange:F,children:[(0,d.jsx)(k.DialogTrigger,{asChild:!0,children:(0,d.jsxs)(i.Button,{className:"bg-teal-600 hover:bg-teal-700 text-white shadow-md shadow-teal-200/50",children:[(0,d.jsx)(p.Plus,{className:"mr-2 size-4"}),"Novo Dossiê"]})}),(0,d.jsxs)(k.DialogContent,{children:[(0,d.jsxs)(k.DialogHeader,{children:[(0,d.jsx)(k.DialogTitle,{children:"Criar Novo Dossiê"}),(0,d.jsx)(k.DialogDescription,{children:"Crie um novo dossiê para documentar a estratégia da clínica. Cada dossiê representa um snapshot no tempo."})]}),(0,d.jsx)("div",{className:"space-y-4 py-4",children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(m.Label,{htmlFor:"dossier-title",children:"Título do Dossiê"}),(0,d.jsx)(l.Input,{id:"dossier-title",value:G,onChange:a=>H(a.target.value),placeholder:"Ex: Dossiê 2026 - Q1",onKeyDown:a=>{"Enter"===a.key&&L()}})]})}),(0,d.jsxs)(k.DialogFooter,{children:[(0,d.jsx)(i.Button,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),(0,d.jsx)(i.Button,{onClick:L,disabled:I,children:I?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.Loader2,{className:"mr-2 size-4 animate-spin"}),"Criando..."]}):"Criar Dossiê"})]})]})]})})]}),0===c.length?(0,d.jsx)(h.Card,{className:"border-dashed",children:(0,d.jsxs)(h.CardContent,{className:"text-center py-12",children:[(0,d.jsx)(o.BookOpenCheck,{className:"size-16 mx-auto mb-4 text-slate-400"}),(0,d.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum dossiê criado"}),(0,d.jsx)("p",{className:"text-slate-500 mb-6",children:"Comece criando um novo dossiê para documentar o negócio da sua clínica."}),(0,d.jsxs)(i.Button,{onClick:()=>F(!0),children:[(0,d.jsx)(p.Plus,{className:"mr-2 size-4"}),"Criar Primeiro Dossiê"]})]})}):(0,d.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(a=>{let b=C[a.id]||[],c=b.some(a=>a.has_report),e=b.filter(a=>"stale"===a.report_status).length,f=b.filter(a=>"generated"===a.report_status).length;return(0,d.jsxs)(h.Card,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(o.BookOpenCheck,{className:"size-5 text-teal-600"}),a.title]}),(0,d.jsxs)(h.CardDescription,{className:"mt-1",children:["Criado em ",new Date(a.created_at).toLocaleDateString("pt-PT")]})]}),(a=>{switch(a){case"finalized":return(0,d.jsxs)(j.Badge,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[(0,d.jsx)(r.CheckCircle2,{className:"size-3 mr-1"}),"Finalizado"]});case"archived":return(0,d.jsxs)(j.Badge,{variant:"outline",children:[(0,d.jsx)(s.Clock,{className:"size-3 mr-1"}),"Arquivado"]});default:return(0,d.jsxs)(j.Badge,{variant:"outline",children:[(0,d.jsx)(s.Clock,{className:"size-3 mr-1"}),"Em Edição"]})}})(a.status)]})}),(0,d.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-slate-600",children:"Relatórios gerados:"}),(0,d.jsxs)("span",{className:"font-semibold",children:[f," de ",b.length]})]}),e>0&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs text-amber-600",children:[(0,d.jsx)(t.AlertCircle,{className:"size-4"}),(0,d.jsxs)("span",{children:[e," relatório(s) desatualizado(s)"]})]})]}),b.length>0&&(0,d.jsxs)("div",{className:"space-y-1 pt-2 border-t",children:[b.slice(0,3).map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,d.jsx)("span",{className:"text-slate-600 truncate",children:a.section_name}),(a=>{if(!a)return(0,d.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:"Não gerado"});switch(a){case"generated":return(0,d.jsx)(j.Badge,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs",children:"Gerado"});case"stale":return(0,d.jsx)(j.Badge,{className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 text-xs",children:"Desatualizado"});case"error":return(0,d.jsx)(j.Badge,{className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 text-xs",children:"Erro"});default:return null}})(a.report_status)]},a.section_code)),b.length>3&&(0,d.jsxs)("div",{className:"text-xs text-slate-500 pt-1",children:["+",b.length-3," mais seções"]})]}),(0,d.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,d.jsx)(i.Button,{asChild:!0,variant:"outline",className:"flex-1",children:(0,d.jsxs)(g.default,{href:`/dossie/${a.id}/identity`,children:["Abrir Dossiê",(0,d.jsx)(q.ArrowRight,{className:"ml-2 size-4"})]})}),c&&(0,d.jsx)(i.Button,{asChild:!0,variant:"ghost",size:"sm",children:(0,d.jsx)(g.default,{href:`/dossie/${a.id}/relatorios`,children:(0,d.jsx)(n.FileText,{className:"size-4"})})})]})]})]},a.id)})}),(0,d.jsxs)(h.Card,{className:"mt-6 border-teal-100 bg-teal-50/50",children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)(h.CardTitle,{className:"flex items-center gap-2 text-teal-900",children:[(0,d.jsx)(n.FileText,{className:"size-5"}),"Sobre o Sistema de Documentação"]})}),(0,d.jsx)(h.CardContent,{children:(0,d.jsxs)("p",{className:"text-slate-700 leading-relaxed",children:["Este sistema permite ",(0,d.jsx)("strong",{children:"documentar e estruturar"})," o pensamento estratégico da sua clínica. Cada dossiê contém seções para Identidade, Mercado, Oferta, Operações, Estratégia e Plano. Você pode preencher questionários, cadastrar entidades estruturadas e gerar relatórios descritivos via IA. O sistema gera documentos formais que podem ser exportados em PDF."]})})]})]})}[h,i,j,k,l,m,w,y]=z.then?(await z)():z,a.s(["default",()=>A]),c()}catch(a){c(a)}},!1),36055,a=>a.a(async(b,c)=>{try{var d=a.i(69757),e=a.i(88230),f=a.i(42784),g=a.i(39119),h=a.i(36509),i=a.i(69008),j=a.i(25599),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/index",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=Planeamento%20dental_planeamento-dental_e97a4557._.js.map