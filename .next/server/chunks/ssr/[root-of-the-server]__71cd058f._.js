module.exports=[41822,a=>{"use strict";let b=(0,a.i(48948).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],41822)},25009,a=>{"use strict";let b=(0,a.i(48948).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],25009)},81506,a=>{"use strict";let b=(0,a.i(48948).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],81506)},73446,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-accordion-332759f7829bc6e0");a.n(b),c()}catch(a){c(a)}},!0),21158,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(73446),g=a.i(19892),h=a.i(18574),i=b([f,h]);[f,h]=i.then?(await i)():i;let j=f.Root,k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Item,{ref:c,className:(0,h.cn)("border-b",a),...b}));k.displayName="AccordionItem";let l=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsx)(f.Header,{className:"flex",children:(0,d.jsxs)(f.Trigger,{ref:e,className:(0,h.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...c,children:[b,(0,d.jsx)(g.ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));l.displayName=f.Trigger.displayName;let m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsx)(f.Content,{ref:e,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...c,children:(0,d.jsx)("div",{className:(0,h.cn)("pb-4 pt-0",a),children:b})}));m.displayName=f.Content.displayName,a.s(["Accordion",()=>j,"AccordionContent",()=>m,"AccordionItem",()=>k,"AccordionTrigger",()=>l]),c()}catch(a){c(a)}},!1),46509,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-radio-group-1fbfeae80eac8d51");a.n(b),c()}catch(a){c(a)}},!0),88917,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(46509),g=a.i(75768),h=a.i(18574),i=b([f,h]);[f,h]=i.then?(await i)():i;let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Root,{className:(0,h.cn)("grid gap-2",a),...b,ref:c}));j.displayName=f.Root.displayName;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Item,{ref:c,className:(0,h.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,d.jsx)(f.Indicator,{className:"flex items-center justify-center",children:(0,d.jsx)(g.Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));k.displayName=f.Item.displayName,a.s(["RadioGroup",()=>j,"RadioGroupItem",()=>k]),c()}catch(a){c(a)}},!1),79550,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(43776),f=a.i(8710),g=a.i(45398),h=a.i(88917),i=b([e,f,g,h]);function j({question:a,answer:b,onChange:c}){switch(a.type){case"textarea":let i=a.help_text||"";return"IDENTITY_REASON"===a.code?i="Escreva aqui, com suas prÃ³prias palavras, por que sua clÃ­nica existe e que transformaÃ§Ã£o real ela gera na vida dos pacientesâ€¦":"IDENTITY_RECOGNITION_GOAL"===a.code&&(i="Escreva aqui, com suas prÃ³prias palavras, como vocÃª quer que sua clÃ­nica seja conhecida e lembrada daqui a 3 anosâ€¦"),(0,d.jsx)(f.Textarea,{value:b.valueText||"",onChange:a=>c({...b,valueText:a.target.value}),placeholder:i,className:"min-h-[100px]"});case"single_select":return(0,d.jsx)(h.RadioGroup,{value:b.valueText||"",onValueChange:a=>c({...b,valueText:a}),children:a.options?.map(a=>(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(h.RadioGroupItem,{value:a.value,id:a.id}),(0,d.jsx)(g.Label,{htmlFor:a.id,className:"cursor-pointer",children:a.label})]},a.id))});default:return(0,d.jsx)(e.Input,{value:b.valueText||"",onChange:a=>c({...b,valueText:a.target.value}),placeholder:a.help_text})}}[e,f,g,h]=i.then?(await i)():i,a.s(["default",()=>j]),c()}catch(a){c(a)}},!1),57084,a=>{"use strict";a.s(["identityQuestionsContext",0,{IDENTITY_REASON:{why:"Essa Ã© a bÃºssola moral e estratÃ©gica da clÃ­nica. Uma clÃ­nica sem propÃ³sito claro tende a: aceitar qualquer tipo de paciente, fazer qualquer tipo de procedimento, tomar decisÃµes sÃ³ por dinheiro (nÃ£o por direÃ§Ã£o), e perder identidade, foco e diferenciaÃ§Ã£o ao longo do tempo. O propÃ³sito serve como critÃ©rio de decisÃ£o, define quem vocÃª ajuda de verdade, define o que vocÃª aceita e o que vocÃª recusa fazer, e dÃ¡ coerÃªncia para toda a estratÃ©gia.",consequences:["Aceitar qualquer tipo de paciente","Fazer qualquer tipo de procedimento","Tomar decisÃµes sÃ³ por dinheiro, nÃ£o por direÃ§Ã£o","Perder identidade, foco e diferenciaÃ§Ã£o ao longo do tempo"],howToAnswer:'Pense: âŒ NÃ£o no procedimento âœ… No resultado na vida do paciente. Complete mentalmente a frase: "Depois de passar pela nossa clÃ­nica, a vida do paciente Ã© diferente porqueâ€¦" Boas respostas geralmente: falam de transformaÃ§Ã£o humana, falam de impacto real, nÃ£o falam de tecnologia/tecnicas/especialidades, nÃ£o parecem texto de marketing.',goodExamples:["Existimos para devolver Ã s pessoas a confianÃ§a em sorrir, comer e viver bem, ajudando pacientes que jÃ¡ perderam a esperanÃ§a a recuperar nÃ£o sÃ³ a funÃ§Ã£o mastigatÃ³ria, mas tambÃ©m a autoestima, a seguranÃ§a e a vontade de se relacionar, atravÃ©s de tratamentos Ã©ticos, humanos e duradouros.","Nossa clÃ­nica existe para transformar histÃ³rias de frustraÃ§Ã£o com a prÃ³pria saÃºde bucal em histÃ³rias de reconquista de qualidade de vida, seguranÃ§a pessoal e bem-estar, cuidando de cada paciente como um projeto Ãºnico, e nÃ£o como um procedimento isolado."],badExamples:["Oferecer odontologia de qualidade com excelÃªncia e tecnologia.","Atender nossos pacientes da melhor forma possÃ­vel.","Ser referÃªncia em tratamentos odontolÃ³gicos.","Cuidar do sorriso das pessoas."]},IDENTITY_RECOGNITION_GOAL:{why:'Essa pergunta define para onde vocÃª estÃ¡ levando o negÃ³cio. Sem uma visÃ£o clara: a clÃ­nica cresce "para qualquer lado", aceita qualquer tipo de projeto/parceria/paciente, compra equipamentos e contrata pessoas sem critÃ©rio estratÃ©gico, e confunde crescimento com progresso. A visÃ£o serve como filtro de decisÃ£o, define o que vocÃª vai construir (e o que nÃ£o vai), dÃ¡ direÃ§Ã£o para investimentos/marketing/estrutura, e cria coerÃªncia entre o hoje e o futuro desejado.',consequences:['A clÃ­nica cresce "para qualquer lado"',"Aceita qualquer tipo de projeto, parceria ou paciente","Compra equipamentos e contrata pessoas sem critÃ©rio estratÃ©gico","Confunde crescimento com progresso"],howToAnswer:'Pense menos em: âŒ Tamanho âŒ Faturamento âŒ Quantidade de unidades. E mais em: âœ… ReputaÃ§Ã£o âœ… Tipo de problema que vocÃª resolve âœ… Como as pessoas descrevem vocÃª para outras. Complete mentalmente: "Essa Ã© aquela clÃ­nica queâ€¦" Boas respostas: falam de posiÃ§Ã£o no mercado (nÃ£o de vaidade), falam de tipo de caso resolvido (nÃ£o de tecnologia), falam de confianÃ§a e reconhecimento (nÃ£o de nÃºmeros), soam como algo que um paciente ou outro mÃ©dico diria.',goodExamples:["Essa Ã© aquela clÃ­nica que resolve casos que ninguÃ©m mais resolve.","Essa Ã© a clÃ­nica mais confiÃ¡vel para reabilitaÃ§Ã£o de coluna da cidade.","Essa Ã© a clÃ­nica onde todo mundo indica de olhos fechados."],badExamples:["Ser a maior rede de clÃ­nicas da regiÃ£o.","Ter faturamento de X milhÃµes.","Ter 10 unidades em 3 anos.","Ser referÃªncia em tecnologia de ponta."]},IDENTITY_VALUES:{why:"Valores nÃ£o sÃ£o frases bonitas na parede. Eles sÃ£o critÃ©rios de decisÃ£o difÃ­ceis.",howToAnswer:"Pense em situaÃ§Ãµes reais: O que vocÃª nÃ£o aceitaria de um profissional? Que tipo de paciente vocÃª prefere perder do que atender mal?",goodExamples:["Nunca prometer resultado que nÃ£o sabemos entregar.","Nunca tratar paciente com pressa ou descaso.","Nunca sacrificar qualidade tÃ©cnica por volume."]},IDENTITY_PRIORITY_AUDIENCE:{why:"Toda estratÃ©gia Ã© uma escolha e uma renÃºncia. Se vocÃª nÃ£o escolhe: sua agenda escolhe, o mercado escolhe, o acaso escolhe.",howToAnswer:"Escolha um foco principal. Diga tambÃ©m qual tipo de paciente vai virar secundÃ¡rio.",goodExamples:["Vamos priorizar mulheres 40+ com dor crÃ´nica de coluna. Vamos deixar de focar em atendimentos rÃ¡pidos e genÃ©ricos de convÃªnio."]},IDENTITY_PRICE_POSITIONING:{why:"PreÃ§o Ã© posicionamento estratÃ©gico, nÃ£o sÃ³ nÃºmero."},IDENTITY_PRICE_POSITIONING_JUSTIFICATION:{why:"A justificativa do posicionamento de preÃ§o demonstra o valor real oferecido pela clÃ­nica."},IDENTITY_STRATEGY_FOCUS:{why:"Essas duas estratÃ©gias (volume vs. valor) exigem clÃ­nicas completamente diferentes."},IDENTITY_STRATEGY_FOCUS_SECONDARY:{why:"O motor secundÃ¡rio complementa a estratÃ©gia principal e ajuda a balancear o crescimento."},IDENTITY_STRATEGY_FOCUS_COMPLEMENT:{why:"EstratÃ©gia sem mudanÃ§a Ã© fantasia.",howToAnswer:"Divida em: Pessoas, Processos, Oferta/ServiÃ§os"},IDENTITY_CRITICAL_ACTIONS:{why:"Isso define o que realmente importa na operaÃ§Ã£o.",goodExamples:["Garantir que todo paciente saia com plano claro de tratamento.","Reduzir faltas e abandono de tratamento.","Manter padrÃ£o tÃ©cnico alto em todas as sessÃµes."]},IDENTITY_KEY_CHARACTERISTICS:{why:"Isso define o jeito de ser da clÃ­nica, nÃ£o sÃ³ o que ela faz.",goodExamples:["Acolhedora, mas extremamente tÃ©cnica.","Pontual e organizada.","Exigente com resultado."]},IDENTITY_WHAT_NOT_TO_BE:{why:"Toda boa estratÃ©gia tem uma lista do que nÃ£o fazer."}}])},72447,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(41822),g=a.i(48796),h=a.i(25009),i=a.i(61605),j=a.i(84678),k=a.i(16035),l=a.i(81506),m=a.i(71946),n=a.i(28647),o=a.i(9619),p=a.i(56983),q=a.i(6302),r=a.i(21158),s=a.i(79550),t=a.i(57084),u=a.i(91917),v=b([m,n,o,p,q,r,s]);function w({questionSets:a,answersMap:b,savingAnswers:c,onAnswerChange:v,sectionCode:w}){let[x,y]=(0,e.useState)(null),[z,A]=(0,e.useState)(0),B=(0,e.useMemo)(()=>[...a].sort((a,b)=>{let c=a.questions[0]?.order_index||0,d=b.questions[0]?.order_index||0;return c-d}),[a]),C=x?B.find(a=>a.id===x):null,D=(0,e.useMemo)(()=>C?[...C.questions].sort((a,b)=>a.order_index-b.order_index):[],[C]),E=D[z],F=E&&b[E.id]||{},G=!!E&&c.has(E.id),[H,I]=(0,e.useState)(void 0),[J,K]=(0,e.useState)(!1);(0,e.useEffect)(()=>{E?.id?(console.log("ðŸ” Carregando contexto para pergunta:",E.code,E.id),K(!0),(0,u.fetchAPI)(`/questions/${E.id}/context`).then(a=>{if(console.log("ðŸ“¦ Dados do contexto recebidos:",a),a&&Object.keys(a).length>1){let b={why:a.why,consequences:a.consequences,howToAnswer:a.howToAnswer,goodExamples:a.goodExamples,badExamples:a.badExamples};console.log("âœ… Contexto processado e definido:",b),I(b)}else if(console.log("âš ï¸ Contexto vazio do banco, usando fallback"),"IDENTITY"===w&&E?.code){let a=t.identityQuestionsContext[E.code];console.log("ðŸ“š Usando contexto hardcoded:",a?"encontrado":"nÃ£o encontrado"),I(a)}else I(void 0)}).catch(a=>{if(console.error("âŒ Erro ao buscar contexto:",a),"IDENTITY"===w&&E?.code){let a=t.identityQuestionsContext[E.code];console.log("ðŸ“š Erro no fetch, usando contexto hardcoded:",a?"encontrado":"nÃ£o encontrado"),I(a)}else I(void 0)}).finally(()=>{console.log("ðŸ Carregamento de contexto finalizado"),K(!1)})):I(void 0)},[E?.id,E?.code,w]);let L=D.length>0?(z+1)/D.length*100:0,M=(0,e.useMemo)(()=>a.reduce((a,b)=>a+b.questions.length,0),[a]),N=(0,e.useMemo)(()=>Object.keys(b).filter(a=>{let c=b[a];return c?.valueText||c?.valueNumber!==void 0||c?.valueJson&&Object.keys(c.valueJson).length>0}).length,[b]);(0,e.useEffect)(()=>{!x&&B.length>0&&(y(B[0].id),A(0))},[x,B]),(0,e.useEffect)(()=>{A(0)},[x]);let O=a=>{y(a),A(0)},P=()=>{y(null),A(0)};return x&&C?E?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(n.Card,{children:(0,d.jsxs)(n.CardHeader,{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(m.Button,{variant:"ghost",size:"sm",onClick:P,className:"h-8 w-8 p-0",children:(0,d.jsx)(l.ArrowLeft,{className:"size-4"})}),(0,d.jsx)(n.CardTitle,{className:"text-lg",children:C.name})]}),C.subsection_name&&(0,d.jsx)(n.CardDescription,{className:"mt-1",children:C.subsection_name})]}),(0,d.jsxs)(p.Badge,{variant:"outline",className:"text-sm",children:["Pergunta ",z+1," de ",D.length]})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(o.Progress,{value:L,className:"h-2"})})]})}),(0,d.jsxs)(n.Card,{className:"border-2 border-teal-200 dark:border-teal-800",children:[(0,d.jsx)(n.CardHeader,{children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)(n.CardTitle,{className:"text-2xl mb-2",children:[E.text,E.required&&(0,d.jsx)("span",{className:"text-red-500 ml-2",children:"*"})]}),E.help_text&&(0,d.jsx)(n.CardDescription,{className:"text-base mt-2",children:E.help_text})]}),G&&(0,d.jsx)("div",{className:"ml-4",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-teal-600"})})]})}),(0,d.jsxs)(n.CardContent,{className:"space-y-6",children:[J&&(0,d.jsx)("div",{className:"text-center text-slate-500 text-sm py-4",children:"Carregando contexto..."}),!J&&H&&(0,d.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-800",children:[(0,d.jsxs)("div",{className:"flex items-start gap-2 mb-4",children:[(0,d.jsx)(h.Info,{className:"size-5 text-teal-600 dark:text-teal-400 mt-0.5 flex-shrink-0"}),(0,d.jsx)("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Contexto e OrientaÃ§Ãµes"})]}),(0,d.jsxs)(r.Accordion,{type:"multiple",className:"w-full",defaultValue:["why"],children:[(0,d.jsxs)(r.AccordionItem,{value:"why",className:"border-b border-slate-200 dark:border-slate-700",children:[(0,d.jsx)(r.AccordionTrigger,{className:"text-left hover:no-underline",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(h.Info,{className:"size-4 text-teal-600 dark:text-teal-400"}),(0,d.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Por que estamos perguntando isso?"})]})}),(0,d.jsx)(r.AccordionContent,{children:(0,d.jsx)("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed pt-2",children:H.why})})]}),H.consequences&&H.consequences.length>0&&(0,d.jsxs)(r.AccordionItem,{value:"consequences",className:"border-b border-slate-200 dark:border-slate-700",children:[(0,d.jsx)(r.AccordionTrigger,{className:"text-left hover:no-underline",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(k.AlertTriangle,{className:"size-4 text-amber-600"}),(0,d.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"O que acontece sem isso?"})]})}),(0,d.jsx)(r.AccordionContent,{children:(0,d.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-slate-700 dark:text-slate-300 pt-2",children:H.consequences.map((a,b)=>(0,d.jsx)("li",{children:a},b))})})]}),H.howToAnswer&&(0,d.jsxs)(r.AccordionItem,{value:"howToAnswer",className:"border-b border-slate-200 dark:border-slate-700",children:[(0,d.jsx)(r.AccordionTrigger,{className:"text-left hover:no-underline",children:(0,d.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Como responder bem?"})}),(0,d.jsx)(r.AccordionContent,{children:(0,d.jsx)("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-line pt-2",children:H.howToAnswer})})]}),H.goodExamples&&H.goodExamples.length>0&&(0,d.jsxs)(r.AccordionItem,{value:"goodExamples",className:"border-b border-slate-200 dark:border-slate-700",children:[(0,d.jsx)(r.AccordionTrigger,{className:"text-left hover:no-underline",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(i.CheckCircle2,{className:"size-4 text-green-600"}),(0,d.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Exemplos de boas respostas"})]})}),(0,d.jsx)(r.AccordionContent,{children:(0,d.jsx)("div",{className:"space-y-2 pt-2",children:H.goodExamples.map((a,b)=>(0,d.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-3 text-sm text-green-900 dark:text-green-200",children:['"',a,'"']},b))})})]}),H.badExamples&&H.badExamples.length>0&&(0,d.jsxs)(r.AccordionItem,{value:"badExamples",className:"border-b-0",children:[(0,d.jsx)(r.AccordionTrigger,{className:"text-left hover:no-underline",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(j.XCircle,{className:"size-4 text-red-600"}),(0,d.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Exemplos de respostas ruins"})]})}),(0,d.jsx)(r.AccordionContent,{children:(0,d.jsx)("div",{className:"space-y-2 pt-2",children:H.badExamples.map((a,b)=>(0,d.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-3 text-sm text-red-900 dark:text-red-200",children:['"',a,'"']},b))})})]})]})]}),(0,d.jsx)("div",{className:"space-y-2",children:(0,d.jsx)(s.default,{question:E,answer:F,onChange:a=>v(E,a)})})]})]}),(0,d.jsx)(n.Card,{children:(0,d.jsx)(n.CardContent,{className:"pt-6",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)(m.Button,{variant:"outline",onClick:()=>{z>0?A(z-1):P()},disabled:0===z,className:"flex items-center gap-2",children:[(0,d.jsx)(f.ChevronLeft,{className:"size-4"}),0===z?"Voltar para seÃ§Ãµes":"Pergunta anterior"]}),(0,d.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[z+1," de ",D.length]}),(0,d.jsxs)(m.Button,{onClick:()=>{if(z===D.length-1){let a=document.getElementById("section-report");a&&a.scrollIntoView({behavior:"smooth",block:"start"})}else z<D.length-1&&A(z+1)},className:"flex items-center gap-2",children:[z===D.length-1?"Concluir SeÃ§Ã£o":"PrÃ³xima pergunta",(0,d.jsx)(g.ChevronRight,{className:"size-4"})]})]}),B.length>1&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.Separator,{}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsxs)(m.Button,{variant:"ghost",size:"sm",onClick:()=>{if(!C)return;let a=B.findIndex(a=>a.id===C.id);a>0&&O(B[a-1].id)},disabled:0===B.findIndex(a=>a.id===C.id),className:"flex items-center gap-2",children:[(0,d.jsx)(f.ChevronLeft,{className:"size-4"}),"SeÃ§Ã£o anterior"]}),(0,d.jsxs)("div",{className:"text-slate-500 dark:text-slate-400",children:["SeÃ§Ã£o"," ",B.findIndex(a=>a.id===C.id)+1," de"," ",B.length]}),(0,d.jsxs)(m.Button,{variant:"ghost",size:"sm",onClick:()=>{if(!C)return;let a=B.findIndex(a=>a.id===C.id);a<B.length-1&&O(B[a+1].id)},disabled:B.findIndex(a=>a.id===C.id)===B.length-1,className:"flex items-center gap-2",children:["PrÃ³xima seÃ§Ã£o",(0,d.jsx)(g.ChevronRight,{className:"size-4"})]})]})]})]})})})]}):(0,d.jsx)(n.Card,{children:(0,d.jsx)(n.CardContent,{className:"pt-6",children:(0,d.jsxs)("div",{className:"text-center text-slate-500",children:[(0,d.jsx)("p",{children:"Nenhuma pergunta encontrada nesta seÃ§Ã£o"}),(0,d.jsxs)(m.Button,{variant:"outline",onClick:P,className:"mt-4",children:[(0,d.jsx)(l.ArrowLeft,{className:"mr-2 size-4"}),"Voltar para seÃ§Ãµes"]})]})})}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(n.Card,{children:(0,d.jsxs)(n.CardHeader,{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(n.CardTitle,{children:"Selecione uma seÃ§Ã£o para comeÃ§ar"}),(0,d.jsxs)(p.Badge,{variant:"outline",className:"text-sm",children:[N," de ",M," respondidas"]})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(o.Progress,{value:M>0?N/M*100:0,className:"h-2"})})]})}),(0,d.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:B.map(a=>{let c=a.questions.length,e=a.questions.filter(a=>{let c=b[a.id];return c?.valueText||c?.valueNumber!==void 0||c?.valueJson&&Object.keys(c.valueJson).length>0}).length,f=c>0?e/c*100:0;return(0,d.jsxs)(n.Card,{className:"cursor-pointer hover:border-teal-400 transition-colors",onClick:()=>O(a.id),children:[(0,d.jsxs)(n.CardHeader,{children:[(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)(n.CardTitle,{className:"text-lg",children:a.name}),a.subsection_name&&(0,d.jsx)(n.CardDescription,{className:"mt-1",children:a.subsection_name})]}),(0,d.jsxs)(p.Badge,{variant:"outline",className:"text-sm",children:[e,"/",c]})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(o.Progress,{value:f,className:"h-2"})})]}),(0,d.jsx)(n.CardContent,{children:(0,d.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[c," pergunta",1!==c?"s":""]})})]},a.id)})})]})}[m,n,o,p,q,r,s]=v.then?(await v)():v,a.s(["default",()=>w]),c()}catch(a){c(a)}},!1),33941,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(23526),f=a.i(27669),g=a.i(14163),h=a.i(92911),i=a.i(48761),j=a.i(72447),k=a.i(3134),l=a.i(28647),m=a.i(9619),n=a.i(16537),o=a.i(96646),p=b([g,h,j,k,l,m,o]);function q({sectionCode:a,entityBlocks:b}){let c=(0,e.useRouter)(),p="string"==typeof c.query.dossierId?c.query.dossierId:void 0,{sectionData:q,loading:r,error:s,completionPercent:t,refetch:u}=(0,g.useSectionData)(p,a),{report:v,loadingReport:w,generatingReport:x,handleGenerateReport:y}=(0,h.useSectionReport)(p,a),[z,A]=(0,f.useState)(new Set),[B,C]=(0,f.useState)({}),D=(0,f.useRef)({});if((0,f.useEffect)(()=>{if(q?.questionSets){console.log("ðŸ“¥ Carregando dados da seÃ§Ã£o:",{sectionCode:a,questionSetsCount:q.questionSets.length});let b={},c=0;q.questionSets.forEach(a=>{a.questions.forEach(a=>{if(a.answer&&Object.keys(a.answer).length>0&&(c++,console.log("ðŸ“ Resposta encontrada:",{questionId:a.id,questionCode:a.code,answerKeys:Object.keys(a.answer),valueText:a.answer.value_text?.substring(0,50),valueNumber:a.answer.value_number,valueJson:a.answer.value_json})),a.answer){let c={id:a.answer.id,valueText:a.answer.value_text,valueNumber:a.answer.value_number,valueJson:a.answer.value_json,source:a.answer.source};b[a.id]=c,(c.valueText||c.valueNumber||c.valueJson)&&console.log("ðŸ”„ Convertido snake_case â†’ camelCase:",{questionCode:a.code,antes:{value_text:a.answer.value_text,value_number:a.answer.value_number},depois:{valueText:c.valueText,valueNumber:c.valueNumber}})}else b[a.id]={}})}),console.log(`âœ… Total de ${c} respostas carregadas`),C(b)}},[q,a]),(0,f.useEffect)(()=>()=>{Object.values(D.current).forEach(clearTimeout)},[]),!p)return null;let E=(0,f.useCallback)((a,b)=>{if(!a.id)return;C(c=>({...c,[a.id]:b})),D.current[a.id]&&clearTimeout(D.current[a.id]);let c=setTimeout(()=>{A(b=>new Set(b).add(a.id))},300);D.current[a.id]=setTimeout(async()=>{try{console.log("ðŸ’¾ Salvando resposta:",{dossierId:p,questionId:a.id,questionCode:a.code,valueText:b.valueText?.substring(0,50),valueNumber:b.valueNumber,valueJson:b.valueJson});let c=await (0,i.saveAnswers)(p,[{questionId:a.id,valueText:b.valueText,valueNumber:b.valueNumber,valueJson:b.valueJson,source:"user"}]);console.log("âœ… Resposta salva com sucesso:",c)}catch(b){console.error("âŒ Erro ao salvar resposta:",b),o.toast.error("Erro ao salvar resposta"),C(b=>({...b,[a.id]:q?.questionSets.flatMap(a=>a.questions).find(b=>b.id===a.id)?.answer||{}}))}finally{clearTimeout(c),A(b=>{let c=new Set(b);return c.delete(a.id),c}),delete D.current[a.id]}},1e3)},[p,q]);return r?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,d.jsx)(n.Loader2,{className:"size-8 animate-spin text-teal-600"})}):s?(0,d.jsx)(l.Card,{children:(0,d.jsx)(l.CardContent,{className:"pt-6",children:(0,d.jsxs)("div",{className:"text-center text-red-600",children:[(0,d.jsx)("p",{children:"Erro ao carregar dados da seÃ§Ã£o"}),(0,d.jsx)("p",{className:"text-sm mt-2",children:s.message})]})})}):q?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(l.Card,{children:(0,d.jsxs)(l.CardHeader,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(l.CardTitle,{children:q.section.name}),q.section.description&&(0,d.jsx)(l.CardDescription,{className:"mt-2",children:q.section.description})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Completude"}),(0,d.jsxs)("div",{className:"text-2xl font-bold",children:[t,"%"]})]})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(m.Progress,{value:t,className:"h-2"})})]})}),(0,d.jsx)(j.default,{questionSets:q.questionSets,answersMap:B,savingAnswers:z,onAnswerChange:E,sectionCode:a}),b&&(0,d.jsx)("div",{className:"space-y-4",children:b}),(0,d.jsx)("div",{id:"section-report",children:(0,d.jsx)(k.default,{report:v,loading:w,generating:x,onGenerate:y,sectionCode:a,sectionTitle:`Relat\xf3rio - ${q.section.name}`})})]}):(0,d.jsx)(l.Card,{children:(0,d.jsx)(l.CardContent,{className:"pt-6",children:(0,d.jsx)("div",{className:"text-center text-slate-500",children:(0,d.jsx)("p",{children:"Nenhum dado encontrado para esta seÃ§Ã£o"})})})})}[g,h,j,k,l,m,o]=p.then?(await p)():p,a.s(["default",()=>q]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__71cd058f._.js.map