module.exports=[54788,a=>{"use strict";let b=(0,a.i(48948).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);a.s(["LogIn",()=>b],54788)},93120,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(28647),g=a.i(71946),h=a.i(84637),i=a.i(56983),j=a.i(96646),k=a.i(15667),l=a.i(54788),m=a.i(61605),n=a.i(84678),o=a.i(11519),p=a.i(55785),q=b([f,g,h,i,j,p]);function r(){let[a,b]=(0,e.useState)([]),[c,q]=(0,e.useState)([]),[r,s]=(0,e.useState)(!0);(0,e.useEffect)(()=>{t()},[]);let t=async()=>{try{s(!0),b([]),q([])}catch(a){j.toast.error("Erro ao carregar dados")}finally{s(!1)}},u=async a=>{if(confirm("Deseja revogar esta sessão?"))try{j.toast.success("Sessão revogada"),t()}catch(a){j.toast.error("Erro ao revogar sessão")}};return(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold",children:"Observabilidade & Auditoria"}),(0,d.jsx)("p",{className:"text-slate-500 mt-1",children:"Logs do sistema, sessões ativas e monitoramento"})]}),(0,d.jsxs)(g.Button,{variant:"outline",onClick:t,children:[(0,d.jsx)(o.RefreshCw,{className:"mr-2 h-4 w-4"}),"Atualizar"]})]}),(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{className:"pb-2",children:(0,d.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Sessões Ativas"})}),(0,d.jsx)(f.CardContent,{children:(0,d.jsx)("div",{className:"text-2xl font-bold",children:c.length})})]}),(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{className:"pb-2",children:(0,d.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Erros (24h)"})}),(0,d.jsx)(f.CardContent,{children:(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600",children:a.filter(a=>"error"===a.level).length})})]}),(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{className:"pb-2",children:(0,d.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Avisos (24h)"})}),(0,d.jsx)(f.CardContent,{children:(0,d.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:a.filter(a=>"warning"===a.level).length})})]}),(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{className:"pb-2",children:(0,d.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Status"})}),(0,d.jsx)(f.CardContent,{children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-600"}),(0,d.jsx)("span",{className:"font-semibold",children:"Operacional"})]})})]})]}),(0,d.jsxs)(p.Tabs,{defaultValue:"logs",className:"w-full",children:[(0,d.jsxs)(p.TabsList,{children:[(0,d.jsx)(p.TabsTrigger,{value:"logs",children:"Logs do Sistema"}),(0,d.jsx)(p.TabsTrigger,{value:"sessions",children:"Sessões Ativas"})]}),(0,d.jsx)(p.TabsContent,{value:"logs",className:"space-y-4",children:(0,d.jsxs)(f.Card,{children:[(0,d.jsxs)(f.CardHeader,{children:[(0,d.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(k.Activity,{className:"h-5 w-5"}),"Logs Recentes"]}),(0,d.jsx)(f.CardDescription,{children:"Últimas 100 entradas de log do sistema"})]}),(0,d.jsx)(f.CardContent,{children:r?(0,d.jsx)("div",{className:"text-center py-8",children:"Carregando..."}):0===a.length?(0,d.jsx)("div",{className:"text-center py-8 text-slate-500",children:"Nenhum log encontrado"}):(0,d.jsxs)(h.Table,{children:[(0,d.jsx)(h.TableHeader,{children:(0,d.jsxs)(h.TableRow,{children:[(0,d.jsx)(h.TableHead,{children:"Data/Hora"}),(0,d.jsx)(h.TableHead,{children:"Nível"}),(0,d.jsx)(h.TableHead,{children:"Mensagem"}),(0,d.jsx)(h.TableHead,{children:"Usuário"}),(0,d.jsx)(h.TableHead,{children:"Endpoint"}),(0,d.jsx)(h.TableHead,{children:"Status"})]})}),(0,d.jsx)(h.TableBody,{children:a.map(a=>{var b;return(0,d.jsxs)(h.TableRow,{children:[(0,d.jsx)(h.TableCell,{className:"font-mono text-xs",children:new Date(a.timestamp).toLocaleString("pt-BR")}),(0,d.jsx)(h.TableCell,{children:(a=>{switch(a){case"error":return(0,d.jsx)(i.Badge,{variant:"destructive",children:"Erro"});case"warning":return(0,d.jsx)(i.Badge,{variant:"outline",className:"border-amber-500 text-amber-700",children:"Aviso"});case"success":return(0,d.jsx)(i.Badge,{variant:"default",className:"bg-green-600",children:"Sucesso"});default:return(0,d.jsx)(i.Badge,{variant:"secondary",children:"Info"})}})(a.level)}),(0,d.jsx)(h.TableCell,{className:"max-w-md truncate",children:a.message}),(0,d.jsx)(h.TableCell,{children:a.user||"-"}),(0,d.jsx)(h.TableCell,{className:"font-mono text-xs",children:a.endpoint||"-"}),(0,d.jsx)(h.TableCell,{children:(b=a.statusCode)?b>=200&&b<300?(0,d.jsx)(i.Badge,{variant:"default",className:"bg-green-600",children:b}):b>=400&&b<500||b>=500?(0,d.jsx)(i.Badge,{variant:"destructive",children:b}):(0,d.jsx)(i.Badge,{variant:"secondary",children:b}):null})]},a.id)})})]})})]})}),(0,d.jsx)(p.TabsContent,{value:"sessions",className:"space-y-4",children:(0,d.jsxs)(f.Card,{children:[(0,d.jsxs)(f.CardHeader,{children:[(0,d.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(l.LogIn,{className:"h-5 w-5"}),"Sessões Ativas"]}),(0,d.jsx)(f.CardDescription,{children:"Sessões de usuários atualmente conectados"})]}),(0,d.jsx)(f.CardContent,{children:r?(0,d.jsx)("div",{className:"text-center py-8",children:"Carregando..."}):0===c.length?(0,d.jsx)("div",{className:"text-center py-8 text-slate-500",children:"Nenhuma sessão ativa"}):(0,d.jsxs)(h.Table,{children:[(0,d.jsx)(h.TableHeader,{children:(0,d.jsxs)(h.TableRow,{children:[(0,d.jsx)(h.TableHead,{children:"Usuário"}),(0,d.jsx)(h.TableHead,{children:"IP"}),(0,d.jsx)(h.TableHead,{children:"Início"}),(0,d.jsx)(h.TableHead,{children:"Última Atividade"}),(0,d.jsx)(h.TableHead,{children:"Expira em"}),(0,d.jsx)(h.TableHead,{className:"text-right",children:"Ações"})]})}),(0,d.jsx)(h.TableBody,{children:c.map(a=>(0,d.jsxs)(h.TableRow,{children:[(0,d.jsx)(h.TableCell,{className:"font-medium",children:a.userName}),(0,d.jsx)(h.TableCell,{className:"font-mono text-xs",children:a.ipAddress||"-"}),(0,d.jsx)(h.TableCell,{children:new Date(a.createdAt).toLocaleString("pt-BR")}),(0,d.jsx)(h.TableCell,{children:new Date(a.lastActivity).toLocaleString("pt-BR")}),(0,d.jsx)(h.TableCell,{children:new Date(a.expiresAt).toLocaleString("pt-BR")}),(0,d.jsx)(h.TableCell,{className:"text-right",children:(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>u(a.id),children:(0,d.jsx)(n.XCircle,{className:"h-4 w-4"})})})]},a.id))})]})})]})})]})]})}[f,g,h,i,j,p]=q.then?(await q)():q,a.s(["default",()=>r]),c()}catch(a){c(a)}},!1),29456,a=>a.a(async(b,c)=>{try{var d=a.i(93120),e=b([d]);[d]=e.then?(await e)():e;let f=d.default;a.s(["default",0,f]),c()}catch(a){c(a)}},!1),50924,a=>a.a(async(b,c)=>{try{var d=a.i(69757),e=a.i(88230),f=a.i(42784),g=a.i(39119),h=a.i(36509),i=a.i(29456),j=a.i(25599),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/observabilidade",pathname:"/admin/observabilidade",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/observabilidade",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=Planeamento%20dental_planeamento-dental_8345df87._.js.map