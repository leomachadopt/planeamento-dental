module.exports=[61605,a=>{"use strict";let b=(0,a.i(48948).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],61605)},28647,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(18574),g=b([f]);[f]=g.then?(await g)():g;let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-250",a),...b}));h.displayName="Card";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));i.displayName="CardHeader";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));j.displayName="CardTitle";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));k.displayName="CardDescription";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));l.displayName="CardContent",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b})).displayName="CardFooter",a.s(["Card",()=>h,"CardContent",()=>l,"CardDescription",()=>k,"CardHeader",()=>i,"CardTitle",()=>j]),c()}catch(a){c(a)}},!1),59518,a=>{"use strict";let b=(0,a.i(48948).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],59518)},8710,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(18574),g=b([f]);[f]=g.then?(await g)():g;let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("textarea",{className:(0,f.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:c,...b}));h.displayName="Textarea",a.s(["Textarea",()=>h]),c()}catch(a){c(a)}},!1),94735,(a,b,c)=>{b.exports=a.x("jspdf-cc70aef752500248",()=>require("jspdf-cc70aef752500248"))},11519,a=>{"use strict";let b=(0,a.i(48948).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],11519)},38681,a=>{"use strict";let b=(0,a.i(48948).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],38681)},50192,a=>a.a(async(b,c)=>{try{let b=await a.y("react-markdown-0d4b2bbd5abe72b5");a.n(b),c()}catch(a){c(a)}},!0),84678,a=>{"use strict";let b=(0,a.i(48948).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],84678)},16035,a=>{"use strict";let b=(0,a.i(48948).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],16035)},83758,a=>{"use strict";let b=(0,a.i(48948).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],83758)},84637,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(18574),g=b([f]);[f]=g.then?(await g)():g;let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{className:"relative w-full overflow-auto",children:(0,d.jsx)("table",{ref:c,className:(0,f.cn)("w-full caption-bottom text-sm",a),...b})}));h.displayName="Table";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("thead",{ref:c,className:(0,f.cn)("[&_tr]:border-b",a),...b}));i.displayName="TableHeader";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tbody",{ref:c,className:(0,f.cn)("[&_tr:last-child]:border-0",a),...b}));j.displayName="TableBody",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tfoot",{ref:c,className:(0,f.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...b})).displayName="TableFooter";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tr",{ref:c,className:(0,f.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...b}));k.displayName="TableRow";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("th",{ref:c,className:(0,f.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...b}));l.displayName="TableHead";let m=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("td",{ref:c,className:(0,f.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...b}));m.displayName="TableCell",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("caption",{ref:c,className:(0,f.cn)("mt-4 text-sm text-muted-foreground",a),...b})).displayName="TableCaption",a.s(["Table",()=>h,"TableBody",()=>j,"TableCell",()=>m,"TableHead",()=>l,"TableHeader",()=>i,"TableRow",()=>k]),c()}catch(a){c(a)}},!1),81952,a=>{"use strict";let b=(0,a.i(48948).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81952)},14151,a=>{"use strict";var b=a.i(91917);async function c(a,c){return b.api.getServices(a,c)}async function d(a,c){return b.api.createService(a,c)}async function e(a,c,d){return b.api.updateService(a,c,d)}async function f(a,c){return b.api.deleteService(a,c)}async function g(a,c){return b.api.getCompetitors(a,c)}async function h(a,c){return b.api.createCompetitor(a,c)}async function i(a,c,d){return b.api.updateCompetitor(a,c,d)}async function j(a,c){return b.api.deleteCompetitor(a,c)}async function k(a,c){return b.api.getTeamMembers(a,c)}async function l(a,c){return b.api.createTeamMember(a,c)}async function m(a,c,d){return b.api.updateTeamMember(a,c,d)}async function n(a,c){return b.api.deleteTeamMember(a,c)}async function o(a,c){return b.api.getCapacities(a,c)}async function p(a,c){return b.api.createCapacity(a,c)}async function q(a,c,d){return b.api.updateCapacity(a,c,d)}async function r(a,c){return b.api.deleteCapacity(a,c)}async function s(a,c){return b.api.getServiceCategories(a,c)}async function t(a,c){return b.api.createServiceCategory(a,c)}async function u(a,c,d){return b.api.updateServiceCategory(a,c,d)}async function v(a,c){return b.api.deleteServiceCategory(a,c)}async function w(a,c){return b.api.getRoles(a,c)}async function x(a,c){return b.api.createRole(a,c)}async function y(a,c,d){return b.api.updateRole(a,c,d)}async function z(a,c){return b.api.deleteRole(a,c)}a.s(["createCapacity",()=>p,"createCompetitor",()=>h,"createRole",()=>x,"createService",()=>d,"createServiceCategory",()=>t,"createTeamMember",()=>l,"deleteCapacity",()=>r,"deleteCompetitor",()=>j,"deleteRole",()=>z,"deleteService",()=>f,"deleteServiceCategory",()=>v,"deleteTeamMember",()=>n,"getCapacities",()=>o,"getCompetitors",()=>g,"getRoles",()=>w,"getServiceCategories",()=>s,"getServices",()=>c,"getTeamMembers",()=>k,"updateCapacity",()=>q,"updateCompetitor",()=>i,"updateRole",()=>y,"updateService",()=>e,"updateServiceCategory",()=>u,"updateTeamMember",()=>m])},34449,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(28647),g=a.i(71946),h=a.i(84637),i=a.i(34159),j=a.i(43776),k=a.i(8710),l=a.i(45398),m=a.i(51444),n=a.i(83758),o=a.i(81952),p=a.i(84841),q=a.i(14151),r=a.i(48761),s=a.i(96646),t=b([f,g,h,i,j,k,l,s]);function u({dossierId:a,onUpdateCompletion:b}){let[c,j]=(0,e.useState)([]),[k,l]=(0,e.useState)(null),[t,u]=(0,e.useState)(!1);(0,e.useEffect)(()=>{w()},[a]);let w=async()=>{try{let b=await (0,q.getCompetitors)(a);j(b)}catch(a){console.error("Erro ao carregar concorrentes:",a)}},x=async c=>{try{k?(await (0,q.updateCompetitor)(a,k.id,c),s.toast.success("Concorrente atualizado!")):(await (0,q.createCompetitor)(a,c),s.toast.success("Concorrente criado!")),u(!1),l(null),await w(),b&&b(),await (0,r.calculateSectionCompletion)(a,"MARKET")}catch(a){s.toast.error(a.message||"Erro ao salvar concorrente")}},y=async c=>{if(confirm("Tem certeza que deseja excluir este concorrente?"))try{await (0,q.deleteCompetitor)(a,c),s.toast.success("Concorrente excluído!"),await w(),b&&b(),await (0,r.calculateSectionCompletion)(a,"MARKET")}catch(a){s.toast.error(a.message||"Erro ao excluir concorrente")}};return(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(p.Building2,{className:"size-5"}),"Concorrentes"]}),(0,d.jsx)(f.CardDescription,{children:"Identifique e analise os principais concorrentes do mercado"})]}),(0,d.jsxs)(i.Dialog,{open:t,onOpenChange:a=>{u(a),a||l(null)},children:[(0,d.jsx)(i.DialogTrigger,{asChild:!0,children:(0,d.jsxs)(g.Button,{size:"sm",children:[(0,d.jsx)(m.Plus,{className:"mr-2 size-4"}),"Adicionar"]})}),(0,d.jsx)(i.DialogContent,{children:(0,d.jsx)(v,{competitor:k,onSave:x,onCancel:()=>{u(!1),l(null)}})})]})]})}),(0,d.jsx)(f.CardContent,{children:0===c.length?(0,d.jsx)("p",{className:"text-sm text-slate-500 text-center py-4",children:'Nenhum concorrente cadastrado. Clique em "Adicionar" para criar o primeiro.'}):(0,d.jsxs)(h.Table,{children:[(0,d.jsx)(h.TableHeader,{children:(0,d.jsxs)(h.TableRow,{children:[(0,d.jsx)(h.TableHead,{children:"Nome"}),(0,d.jsx)(h.TableHead,{children:"Tipo"}),(0,d.jsx)(h.TableHead,{children:"Diferenciação"}),(0,d.jsx)(h.TableHead,{className:"text-right",children:"Ações"})]})}),(0,d.jsx)(h.TableBody,{children:c.map(a=>(0,d.jsxs)(h.TableRow,{children:[(0,d.jsx)(h.TableCell,{className:"font-medium",children:a.name}),(0,d.jsx)(h.TableCell,{children:(0,d.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"direct"===a.type?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"}`,children:"direct"===a.type?"Direto":"Indireto"})}),(0,d.jsx)(h.TableCell,{className:"max-w-xs truncate",children:a.differentiation_summary||"-"}),(0,d.jsx)(h.TableCell,{className:"text-right",children:(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{l(a),u(!0)},children:(0,d.jsx)(n.Edit,{className:"size-4"})}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>y(a.id),children:(0,d.jsx)(o.Trash2,{className:"size-4 text-red-500"})})]})})]},a.id))})]})})]})}function v({competitor:a,onSave:b,onCancel:c}){let[f,h]=(0,e.useState)(a?.name||""),[m,n]=(0,e.useState)(a?.type||"direct"),[o,p]=(0,e.useState)(a?.notes||""),[q,r]=(0,e.useState)(a?.differentiation_summary||"");return(0,d.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),f.trim())?b({name:f.trim(),type:m,notes:o.trim()||void 0,differentiationSummary:q.trim()||void 0}):s.toast.error("Nome é obrigatório")},children:[(0,d.jsxs)(i.DialogHeader,{children:[(0,d.jsx)(i.DialogTitle,{children:a?"Editar Concorrente":"Novo Concorrente"}),(0,d.jsx)(i.DialogDescription,{children:"Defina as informações do concorrente"})]}),(0,d.jsxs)("div",{className:"space-y-4 py-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"competitor-name",children:"Nome *"}),(0,d.jsx)(j.Input,{id:"competitor-name",value:f,onChange:a=>h(a.target.value),placeholder:"Ex: Clínica XYZ",required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"competitor-type",children:"Tipo *"}),(0,d.jsxs)("select",{id:"competitor-type",value:m,onChange:a=>n(a.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,d.jsx)("option",{value:"direct",children:"Direto"}),(0,d.jsx)("option",{value:"indirect",children:"Indireto"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"competitor-differentiation",children:"Resumo de Diferenciação"}),(0,d.jsx)(k.Textarea,{id:"competitor-differentiation",value:q,onChange:a=>r(a.target.value),placeholder:"Como este concorrente se diferencia?",className:"min-h-[80px]"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"competitor-notes",children:"Notas"}),(0,d.jsx)(k.Textarea,{id:"competitor-notes",value:o,onChange:a=>p(a.target.value),placeholder:"Observações adicionais sobre o concorrente",className:"min-h-[80px]"})]})]}),(0,d.jsxs)(i.DialogFooter,{children:[(0,d.jsx)(g.Button,{type:"button",variant:"outline",onClick:c,children:"Cancelar"}),(0,d.jsx)(g.Button,{type:"submit",children:"Salvar"})]})]})}[f,g,h,i,j,k,l,s]=t.then?(await t)():t,a.s(["default",()=>u]),c()}catch(a){c(a)}},!1),93829,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(23526),f=a.i(33941),g=a.i(34449),h=b([f,g]);function i(){let{dossierId:a}=(0,e.useRouter)().query;return a&&"string"==typeof a?(0,d.jsx)(f.default,{sectionCode:"MARKET",entityBlocks:(0,d.jsx)(g.default,{dossierId:a})}):null}[f,g]=h.then?(await h)():h,a.s(["default",()=>i]),c()}catch(a){c(a)}},!1),70159,a=>a.a(async(b,c)=>{try{var d=a.i(69757),e=a.i(88230),f=a.i(42784),g=a.i(39119),h=a.i(36509),i=a.i(93829),j=a.i(25599),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/dossie/[dossierId]/market",pathname:"/dossie/[dossierId]/market",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/dossie/[dossierId]/market",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__9dabdd85._.js.map