{"version":3,"sources":["../../../../../../Planeamento%20dental/planeamento-dental/node_modules/lucide-react/src/icons/chevron-left.ts","../../../../../../Planeamento%20dental/planeamento-dental/node_modules/lucide-react/src/icons/info.ts","../../../../../../Planeamento%20dental/planeamento-dental/node_modules/lucide-react/src/icons/arrow-left.ts","../../../../../../Planeamento%20dental/planeamento-dental/src/components/ui/accordion.tsx","../../../../../../Planeamento%20dental/planeamento-dental/src/components/ui/radio-group.tsx","../../../../../../Planeamento%20dental/planeamento-dental/src/components/dossier/QuestionRenderer.tsx","../../../../../../Planeamento%20dental/planeamento-dental/src/lib/identity-questions-context.ts","../../../../../../Planeamento%20dental/planeamento-dental/src/components/dossier/QuestionWizard.tsx","../../../../../../Planeamento%20dental/planeamento-dental/src/components/dossier/DossierSectionPage.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n];\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('info', __iconNode);\n\nexport default Info;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","/* Accordion Component primitives - A component that displays a list of items in an accordion - from shadcn/ui (exposes Accordion, AccordionItem, AccordionTrigger, AccordionContent) */\r\nimport * as React from 'react'\r\nimport * as AccordionPrimitive from '@radix-ui/react-accordion'\r\nimport { ChevronDown } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst Accordion = AccordionPrimitive.Root\r\n\r\nconst AccordionItem = React.forwardRef<\r\n  React.ElementRef<typeof AccordionPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\r\n>(({ className, ...props }, ref) => (\r\n  <AccordionPrimitive.Item\r\n    ref={ref}\r\n    className={cn('border-b', className)}\r\n    {...props}\r\n  />\r\n))\r\nAccordionItem.displayName = 'AccordionItem'\r\n\r\nconst AccordionTrigger = React.forwardRef<\r\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <AccordionPrimitive.Header className=\"flex\">\r\n    <AccordionPrimitive.Trigger\r\n      ref={ref}\r\n      className={cn(\r\n        'flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\r\n    </AccordionPrimitive.Trigger>\r\n  </AccordionPrimitive.Header>\r\n))\r\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\r\n\r\nconst AccordionContent = React.forwardRef<\r\n  React.ElementRef<typeof AccordionPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <AccordionPrimitive.Content\r\n    ref={ref}\r\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\r\n    {...props}\r\n  >\r\n    <div className={cn('pb-4 pt-0', className)}>{children}</div>\r\n  </AccordionPrimitive.Content>\r\n))\r\n\r\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\r\n\r\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\r\n","/* Radio Group Component primitives - A component that displays a radio group - from shadcn/ui (exposes RadioGroup, RadioGroupItem) */\r\nimport * as React from 'react'\r\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group'\r\nimport { Circle } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst RadioGroup = React.forwardRef<\r\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <RadioGroupPrimitive.Root\r\n      className={cn('grid gap-2', className)}\r\n      {...props}\r\n      ref={ref}\r\n    />\r\n  )\r\n})\r\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\r\n\r\nconst RadioGroupItem = React.forwardRef<\r\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <RadioGroupPrimitive.Item\r\n      ref={ref}\r\n      className={cn(\r\n        'aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\r\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\r\n      </RadioGroupPrimitive.Indicator>\r\n    </RadioGroupPrimitive.Item>\r\n  )\r\n})\r\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\r\n\r\nexport { RadioGroup, RadioGroupItem }\r\n","import { Input } from '@/components/ui/input'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Label } from '@/components/ui/label'\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group'\r\nimport type { Question } from '@/services/dossierService'\r\n\r\ninterface QuestionRendererProps {\r\n  question: Question\r\n  answer: {\r\n    valueText?: string\r\n    valueNumber?: number\r\n    valueJson?: any\r\n  }\r\n  onChange: (value: any) => void\r\n}\r\n\r\nexport default function QuestionRenderer({\r\n  question,\r\n  answer,\r\n  onChange,\r\n}: QuestionRendererProps) {\r\n  switch (question.type) {\r\n    case 'textarea':\r\n      // Placeholder customizado para perguntas espec√≠ficas\r\n      let placeholder = question.help_text || ''\r\n      if (question.code === 'IDENTITY_REASON') {\r\n        placeholder = 'Escreva aqui, com suas pr√≥prias palavras, por que sua cl√≠nica existe e que transforma√ß√£o real ela gera na vida dos pacientes‚Ä¶'\r\n      } else if (question.code === 'IDENTITY_RECOGNITION_GOAL') {\r\n        placeholder = 'Escreva aqui, com suas pr√≥prias palavras, como voc√™ quer que sua cl√≠nica seja conhecida e lembrada daqui a 3 anos‚Ä¶'\r\n      }\r\n      \r\n      return (\r\n        <Textarea\r\n          value={answer.valueText || ''}\r\n          onChange={(e) =>\r\n            onChange({\r\n              ...answer,\r\n              valueText: e.target.value,\r\n            })\r\n          }\r\n          placeholder={placeholder}\r\n          className=\"min-h-[100px]\"\r\n        />\r\n      )\r\n\r\n    case 'single_select':\r\n      return (\r\n        <RadioGroup\r\n          value={answer.valueText || ''}\r\n          onValueChange={(value) =>\r\n            onChange({\r\n              ...answer,\r\n              valueText: value,\r\n            })\r\n          }\r\n        >\r\n          {question.options?.map((option) => (\r\n            <div key={option.id} className=\"flex items-center space-x-2\">\r\n              <RadioGroupItem value={option.value} id={option.id} />\r\n              <Label htmlFor={option.id} className=\"cursor-pointer\">\r\n                {option.label}\r\n              </Label>\r\n            </div>\r\n          ))}\r\n        </RadioGroup>\r\n      )\r\n\r\n    default:\r\n      return (\r\n        <Input\r\n          value={answer.valueText || ''}\r\n          onChange={(e) =>\r\n            onChange({\r\n              ...answer,\r\n              valueText: e.target.value,\r\n            })\r\n          }\r\n          placeholder={question.help_text}\r\n        />\r\n      )\r\n  }\r\n}\r\n\r\n\r\n","// Contexto completo das perguntas da se√ß√£o Identidade\r\n// Serve como guia para o usu√°rio responder cada pergunta\r\n\r\nexport interface QuestionContext {\r\n  why: string // Por que estamos perguntando isso\r\n  howToAnswer?: string // Como responder bem\r\n  goodExamples?: string[] // Exemplos bons\r\n  badExamples?: string[] // Exemplos ruins\r\n  consequences?: string[] // O que acontece sem isso\r\n}\r\n\r\nexport const identityQuestionsContext: Record<string, QuestionContext> = {\r\n  IDENTITY_REASON: {\r\n    why: 'Essa √© a b√∫ssola moral e estrat√©gica da cl√≠nica. Uma cl√≠nica sem prop√≥sito claro tende a: aceitar qualquer tipo de paciente, fazer qualquer tipo de procedimento, tomar decis√µes s√≥ por dinheiro (n√£o por dire√ß√£o), e perder identidade, foco e diferencia√ß√£o ao longo do tempo. O prop√≥sito serve como crit√©rio de decis√£o, define quem voc√™ ajuda de verdade, define o que voc√™ aceita e o que voc√™ recusa fazer, e d√° coer√™ncia para toda a estrat√©gia.',\r\n    consequences: [\r\n      'Aceitar qualquer tipo de paciente',\r\n      'Fazer qualquer tipo de procedimento',\r\n      'Tomar decis√µes s√≥ por dinheiro, n√£o por dire√ß√£o',\r\n      'Perder identidade, foco e diferencia√ß√£o ao longo do tempo',\r\n    ],\r\n    howToAnswer: 'Pense: ‚ùå N√£o no procedimento ‚úÖ No resultado na vida do paciente. Complete mentalmente a frase: \"Depois de passar pela nossa cl√≠nica, a vida do paciente √© diferente porque‚Ä¶\" Boas respostas geralmente: falam de transforma√ß√£o humana, falam de impacto real, n√£o falam de tecnologia/tecnicas/especialidades, n√£o parecem texto de marketing.',\r\n    goodExamples: [\r\n      'Existimos para devolver √†s pessoas a confian√ßa em sorrir, comer e viver bem, ajudando pacientes que j√° perderam a esperan√ßa a recuperar n√£o s√≥ a fun√ß√£o mastigat√≥ria, mas tamb√©m a autoestima, a seguran√ßa e a vontade de se relacionar, atrav√©s de tratamentos √©ticos, humanos e duradouros.',\r\n      'Nossa cl√≠nica existe para transformar hist√≥rias de frustra√ß√£o com a pr√≥pria sa√∫de bucal em hist√≥rias de reconquista de qualidade de vida, seguran√ßa pessoal e bem-estar, cuidando de cada paciente como um projeto √∫nico, e n√£o como um procedimento isolado.',\r\n    ],\r\n    badExamples: [\r\n      'Oferecer odontologia de qualidade com excel√™ncia e tecnologia.',\r\n      'Atender nossos pacientes da melhor forma poss√≠vel.',\r\n      'Ser refer√™ncia em tratamentos odontol√≥gicos.',\r\n      'Cuidar do sorriso das pessoas.',\r\n    ],\r\n  },\r\n  IDENTITY_RECOGNITION_GOAL: {\r\n    why: 'Essa pergunta define para onde voc√™ est√° levando o neg√≥cio. Sem uma vis√£o clara: a cl√≠nica cresce \"para qualquer lado\", aceita qualquer tipo de projeto/parceria/paciente, compra equipamentos e contrata pessoas sem crit√©rio estrat√©gico, e confunde crescimento com progresso. A vis√£o serve como filtro de decis√£o, define o que voc√™ vai construir (e o que n√£o vai), d√° dire√ß√£o para investimentos/marketing/estrutura, e cria coer√™ncia entre o hoje e o futuro desejado.',\r\n    consequences: [\r\n      'A cl√≠nica cresce \"para qualquer lado\"',\r\n      'Aceita qualquer tipo de projeto, parceria ou paciente',\r\n      'Compra equipamentos e contrata pessoas sem crit√©rio estrat√©gico',\r\n      'Confunde crescimento com progresso',\r\n    ],\r\n    howToAnswer: 'Pense menos em: ‚ùå Tamanho ‚ùå Faturamento ‚ùå Quantidade de unidades. E mais em: ‚úÖ Reputa√ß√£o ‚úÖ Tipo de problema que voc√™ resolve ‚úÖ Como as pessoas descrevem voc√™ para outras. Complete mentalmente: \"Essa √© aquela cl√≠nica que‚Ä¶\" Boas respostas: falam de posi√ß√£o no mercado (n√£o de vaidade), falam de tipo de caso resolvido (n√£o de tecnologia), falam de confian√ßa e reconhecimento (n√£o de n√∫meros), soam como algo que um paciente ou outro m√©dico diria.',\r\n    goodExamples: [\r\n      'Essa √© aquela cl√≠nica que resolve casos que ningu√©m mais resolve.',\r\n      'Essa √© a cl√≠nica mais confi√°vel para reabilita√ß√£o de coluna da cidade.',\r\n      'Essa √© a cl√≠nica onde todo mundo indica de olhos fechados.',\r\n    ],\r\n    badExamples: [\r\n      'Ser a maior rede de cl√≠nicas da regi√£o.',\r\n      'Ter faturamento de X milh√µes.',\r\n      'Ter 10 unidades em 3 anos.',\r\n      'Ser refer√™ncia em tecnologia de ponta.',\r\n    ],\r\n  },\r\n  IDENTITY_VALUES: {\r\n    why: 'Valores n√£o s√£o frases bonitas na parede. Eles s√£o crit√©rios de decis√£o dif√≠ceis.',\r\n    howToAnswer: 'Pense em situa√ß√µes reais: O que voc√™ n√£o aceitaria de um profissional? Que tipo de paciente voc√™ prefere perder do que atender mal?',\r\n    goodExamples: [\r\n      'Nunca prometer resultado que n√£o sabemos entregar.',\r\n      'Nunca tratar paciente com pressa ou descaso.',\r\n      'Nunca sacrificar qualidade t√©cnica por volume.',\r\n    ],\r\n  },\r\n  IDENTITY_PRIORITY_AUDIENCE: {\r\n    why: 'Toda estrat√©gia √© uma escolha e uma ren√∫ncia. Se voc√™ n√£o escolhe: sua agenda escolhe, o mercado escolhe, o acaso escolhe.',\r\n    howToAnswer: 'Escolha um foco principal. Diga tamb√©m qual tipo de paciente vai virar secund√°rio.',\r\n    goodExamples: [\r\n      'Vamos priorizar mulheres 40+ com dor cr√¥nica de coluna. Vamos deixar de focar em atendimentos r√°pidos e gen√©ricos de conv√™nio.',\r\n    ],\r\n  },\r\n  IDENTITY_PRICE_POSITIONING: {\r\n    why: 'Pre√ßo √© posicionamento estrat√©gico, n√£o s√≥ n√∫mero.',\r\n  },\r\n  IDENTITY_PRICE_POSITIONING_JUSTIFICATION: {\r\n    why: 'A justificativa do posicionamento de pre√ßo demonstra o valor real oferecido pela cl√≠nica.',\r\n  },\r\n  IDENTITY_STRATEGY_FOCUS: {\r\n    why: 'Essas duas estrat√©gias (volume vs. valor) exigem cl√≠nicas completamente diferentes.',\r\n  },\r\n  IDENTITY_STRATEGY_FOCUS_SECONDARY: {\r\n    why: 'O motor secund√°rio complementa a estrat√©gia principal e ajuda a balancear o crescimento.',\r\n  },\r\n  IDENTITY_STRATEGY_FOCUS_COMPLEMENT: {\r\n    why: 'Estrat√©gia sem mudan√ßa √© fantasia.',\r\n    howToAnswer: 'Divida em: Pessoas, Processos, Oferta/Servi√ßos',\r\n  },\r\n  IDENTITY_CRITICAL_ACTIONS: {\r\n    why: 'Isso define o que realmente importa na opera√ß√£o.',\r\n    goodExamples: [\r\n      'Garantir que todo paciente saia com plano claro de tratamento.',\r\n      'Reduzir faltas e abandono de tratamento.',\r\n      'Manter padr√£o t√©cnico alto em todas as sess√µes.',\r\n    ],\r\n  },\r\n  IDENTITY_KEY_CHARACTERISTICS: {\r\n    why: 'Isso define o jeito de ser da cl√≠nica, n√£o s√≥ o que ela faz.',\r\n    goodExamples: [\r\n      'Acolhedora, mas extremamente t√©cnica.',\r\n      'Pontual e organizada.',\r\n      'Exigente com resultado.',\r\n    ],\r\n  },\r\n  IDENTITY_WHAT_NOT_TO_BE: {\r\n    why: 'Toda boa estrat√©gia tem uma lista do que n√£o fazer.',\r\n  },\r\n}\r\n\r\n","import { useState, useMemo, useEffect } from 'react'\r\nimport { ChevronLeft, ChevronRight, Info, CheckCircle2, XCircle, AlertTriangle, ArrowLeft } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n  Accordion,\r\n  AccordionContent,\r\n  AccordionItem,\r\n  AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport QuestionRenderer from './QuestionRenderer'\r\nimport { identityQuestionsContext, type QuestionContext } from '@/lib/identity-questions-context'\r\nimport type { Question, QuestionSet } from '@/services/dossierService'\r\nimport { fetchAPI } from '@/lib/api'\r\n\r\ninterface QuestionWizardProps {\r\n  questionSets: QuestionSet[]\r\n  answersMap: Record<string, any>\r\n  savingAnswers: Set<string>\r\n  onAnswerChange: (question: Question, value: any) => void\r\n  sectionCode?: string\r\n}\r\n\r\nexport default function QuestionWizard({\r\n  questionSets,\r\n  answersMap,\r\n  savingAnswers,\r\n  onAnswerChange,\r\n  sectionCode,\r\n}: QuestionWizardProps) {\r\n  // Estado para controlar navega√ß√£o hier√°rquica\r\n  const [selectedQuestionSetId, setSelectedQuestionSetId] = useState<string | null>(null)\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0)\r\n\r\n  // Ordenar questionSets por ordem (se houver)\r\n  const sortedQuestionSets = useMemo(() => {\r\n    return [...questionSets].sort((a, b) => {\r\n      // Se houver ordem nas perguntas, usar a primeira pergunta como refer√™ncia\r\n      const aFirstOrder = a.questions[0]?.order_index || 0\r\n      const bFirstOrder = b.questions[0]?.order_index || 0\r\n      return aFirstOrder - bFirstOrder\r\n    })\r\n  }, [questionSets])\r\n\r\n  // QuestionSet atual selecionado\r\n  const currentQuestionSet = selectedQuestionSetId\r\n    ? sortedQuestionSets.find((qs) => qs.id === selectedQuestionSetId)\r\n    : null\r\n\r\n  // Perguntas do questionSet atual, ordenadas\r\n  const currentQuestions = useMemo(() => {\r\n    if (!currentQuestionSet) return []\r\n    return [...currentQuestionSet.questions].sort(\r\n      (a, b) => a.order_index - b.order_index\r\n    )\r\n  }, [currentQuestionSet])\r\n\r\n  // Pergunta atual\r\n  const currentQuestion = currentQuestions[currentQuestionIndex]\r\n  const currentAnswer = currentQuestion ? answersMap[currentQuestion.id] || {} : {}\r\n  const isSaving = currentQuestion ? savingAnswers.has(currentQuestion.id) : false\r\n\r\n  // Estado para contexto da pergunta (buscar do banco)\r\n  const [questionContext, setQuestionContext] = useState<QuestionContext | undefined>(undefined)\r\n  const [loadingContext, setLoadingContext] = useState(false)\r\n\r\n  // Buscar contexto do banco de dados\r\n  useEffect(() => {\r\n    if (currentQuestion?.id) {\r\n      console.log('üîç Carregando contexto para pergunta:', currentQuestion.code, currentQuestion.id)\r\n      setLoadingContext(true)\r\n\r\n      fetchAPI(`/questions/${currentQuestion.id}/context`)\r\n        .then((data) => {\r\n          console.log('üì¶ Dados do contexto recebidos:', data)\r\n          if (data && Object.keys(data).length > 1) {\r\n            // Converter formato do banco para formato esperado\r\n            const context = {\r\n              why: data.why,\r\n              consequences: data.consequences,\r\n              howToAnswer: data.howToAnswer,\r\n              goodExamples: data.goodExamples,\r\n              badExamples: data.badExamples,\r\n            }\r\n            console.log('‚úÖ Contexto processado e definido:', context)\r\n            setQuestionContext(context)\r\n          } else {\r\n            console.log('‚ö†Ô∏è Contexto vazio do banco, usando fallback')\r\n            // Fallback para contexto hardcoded se n√£o houver no banco\r\n            if (sectionCode === 'IDENTITY' && currentQuestion?.code) {\r\n              const hardcodedContext = identityQuestionsContext[currentQuestion.code]\r\n              console.log('üìö Usando contexto hardcoded:', hardcodedContext ? 'encontrado' : 'n√£o encontrado')\r\n              setQuestionContext(hardcodedContext)\r\n            } else {\r\n              setQuestionContext(undefined)\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error('‚ùå Erro ao buscar contexto:', error)\r\n          // Em caso de erro, usar fallback hardcoded\r\n          if (sectionCode === 'IDENTITY' && currentQuestion?.code) {\r\n            const hardcodedContext = identityQuestionsContext[currentQuestion.code]\r\n            console.log('üìö Erro no fetch, usando contexto hardcoded:', hardcodedContext ? 'encontrado' : 'n√£o encontrado')\r\n            setQuestionContext(hardcodedContext)\r\n          } else {\r\n            setQuestionContext(undefined)\r\n          }\r\n        })\r\n        .finally(() => {\r\n          console.log('üèÅ Carregamento de contexto finalizado')\r\n          setLoadingContext(false)\r\n        })\r\n    } else {\r\n      setQuestionContext(undefined)\r\n    }\r\n  }, [currentQuestion?.id, currentQuestion?.code, sectionCode])\r\n\r\n  // Progresso dentro do questionSet atual\r\n  const questionProgress =\r\n    currentQuestions.length > 0\r\n      ? ((currentQuestionIndex + 1) / currentQuestions.length) * 100\r\n      : 0\r\n\r\n  // Progresso geral (todas as perguntas de todos os questionSets)\r\n  const totalQuestions = useMemo(() => {\r\n    return questionSets.reduce((sum, qs) => sum + qs.questions.length, 0)\r\n  }, [questionSets])\r\n\r\n  const answeredQuestions = useMemo(() => {\r\n    return Object.keys(answersMap).filter(\r\n      (qId) => {\r\n        const answer = answersMap[qId]\r\n        return (\r\n          answer?.valueText ||\r\n          answer?.valueNumber !== undefined ||\r\n          (answer?.valueJson && Object.keys(answer.valueJson).length > 0)\r\n        )\r\n      }\r\n    ).length\r\n  }, [answersMap])\r\n\r\n  const overallProgress = totalQuestions > 0 ? (answeredQuestions / totalQuestions) * 100 : 0\r\n\r\n  // Selecionar primeiro questionSet automaticamente se nenhum estiver selecionado\r\n  useEffect(() => {\r\n    if (!selectedQuestionSetId && sortedQuestionSets.length > 0) {\r\n      setSelectedQuestionSetId(sortedQuestionSets[0].id)\r\n      setCurrentQuestionIndex(0)\r\n    }\r\n  }, [selectedQuestionSetId, sortedQuestionSets])\r\n\r\n  // Resetar √≠ndice da pergunta quando mudar de questionSet\r\n  useEffect(() => {\r\n    setCurrentQuestionIndex(0)\r\n  }, [selectedQuestionSetId])\r\n\r\n  const goToQuestionSet = (questionSetId: string) => {\r\n    setSelectedQuestionSetId(questionSetId)\r\n    setCurrentQuestionIndex(0)\r\n    // Scroll apenas quando mudar de questionSet (se√ß√£o)\r\n    if (typeof window !== 'undefined') {\r\n      window.scrollTo({ top: 0, behavior: 'smooth' })\r\n    }\r\n  }\r\n\r\n  const goBackToQuestionSets = () => {\r\n    setSelectedQuestionSetId(null)\r\n    setCurrentQuestionIndex(0)\r\n    // Scroll apenas quando voltar para sele√ß√£o de questionSets\r\n    if (typeof window !== 'undefined') {\r\n      window.scrollTo({ top: 0, behavior: 'smooth' })\r\n    }\r\n  }\r\n\r\n  const goToPreviousQuestion = () => {\r\n    if (currentQuestionIndex > 0) {\r\n      setCurrentQuestionIndex(currentQuestionIndex - 1)\r\n      // N√£o fazer scroll ao navegar entre perguntas\r\n    } else {\r\n      // Se estiver na primeira pergunta, voltar para sele√ß√£o de questionSets\r\n      goBackToQuestionSets()\r\n    }\r\n  }\r\n\r\n  const goToNextQuestion = () => {\r\n    if (currentQuestionIndex < currentQuestions.length - 1) {\r\n      setCurrentQuestionIndex(currentQuestionIndex + 1)\r\n      // N√£o fazer scroll ao navegar entre perguntas\r\n    }\r\n  }\r\n\r\n  const goToPreviousQuestionSet = () => {\r\n    if (!currentQuestionSet) return\r\n    const currentIdx = sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id)\r\n    if (currentIdx > 0) {\r\n      goToQuestionSet(sortedQuestionSets[currentIdx - 1].id)\r\n    }\r\n  }\r\n\r\n  const goToNextQuestionSet = () => {\r\n    if (!currentQuestionSet) return\r\n    const currentIdx = sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id)\r\n    if (currentIdx < sortedQuestionSets.length - 1) {\r\n      goToQuestionSet(sortedQuestionSets[currentIdx + 1].id)\r\n    }\r\n  }\r\n\r\n  // Tela de sele√ß√£o de QuestionSets\r\n  if (!selectedQuestionSetId || !currentQuestionSet) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        {/* Progresso Geral */}\r\n        <Card>\r\n          <CardHeader>\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle>Selecione uma se√ß√£o para come√ßar</CardTitle>\r\n              <Badge variant=\"outline\" className=\"text-sm\">\r\n                {answeredQuestions} de {totalQuestions} respondidas\r\n              </Badge>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <Progress value={overallProgress} className=\"h-2\" />\r\n            </div>\r\n          </CardHeader>\r\n        </Card>\r\n\r\n        {/* Lista de QuestionSets */}\r\n        <div className=\"grid gap-4 md:grid-cols-2\">\r\n          {sortedQuestionSets.map((questionSet) => {\r\n            const questionsInSet = questionSet.questions.length\r\n            const answeredInSet = questionSet.questions.filter(\r\n              (q) => {\r\n                const answer = answersMap[q.id]\r\n                return (\r\n                  answer?.valueText ||\r\n                  answer?.valueNumber !== undefined ||\r\n                  (answer?.valueJson && Object.keys(answer.valueJson).length > 0)\r\n                )\r\n              }\r\n            ).length\r\n            const setProgress = questionsInSet > 0 ? (answeredInSet / questionsInSet) * 100 : 0\r\n\r\n            return (\r\n              <Card\r\n                key={questionSet.id}\r\n                className=\"cursor-pointer hover:border-teal-400 transition-colors\"\r\n                onClick={() => goToQuestionSet(questionSet.id)}\r\n              >\r\n                <CardHeader>\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      <CardTitle className=\"text-lg\">{questionSet.name}</CardTitle>\r\n                      {questionSet.subsection_name && (\r\n                        <CardDescription className=\"mt-1\">\r\n                          {questionSet.subsection_name}\r\n                        </CardDescription>\r\n                      )}\r\n                    </div>\r\n                    <Badge variant=\"outline\" className=\"text-sm\">\r\n                      {answeredInSet}/{questionsInSet}\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"mt-4\">\r\n                    <Progress value={setProgress} className=\"h-2\" />\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n                    {questionsInSet} pergunta{questionsInSet !== 1 ? 's' : ''}\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!currentQuestion) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"text-center text-slate-500\">\r\n            <p>Nenhuma pergunta encontrada nesta se√ß√£o</p>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={goBackToQuestionSets}\r\n              className=\"mt-4\"\r\n            >\r\n              <ArrowLeft className=\"mr-2 size-4\" />\r\n              Voltar para se√ß√µes\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Indicador de Progresso */}\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={goBackToQuestionSets}\r\n                  className=\"h-8 w-8 p-0\"\r\n                >\r\n                  <ArrowLeft className=\"size-4\" />\r\n                </Button>\r\n                <CardTitle className=\"text-lg\">\r\n                  {currentQuestionSet.name}\r\n                </CardTitle>\r\n              </div>\r\n              {currentQuestionSet.subsection_name && (\r\n                <CardDescription className=\"mt-1\">\r\n                  {currentQuestionSet.subsection_name}\r\n                </CardDescription>\r\n              )}\r\n            </div>\r\n            <Badge variant=\"outline\" className=\"text-sm\">\r\n              Pergunta {currentQuestionIndex + 1} de {currentQuestions.length}\r\n            </Badge>\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <Progress value={questionProgress} className=\"h-2\" />\r\n          </div>\r\n        </CardHeader>\r\n      </Card>\r\n\r\n      {/* Card Principal da Pergunta */}\r\n      <Card className=\"border-2 border-teal-200 dark:border-teal-800\">\r\n        <CardHeader>\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"flex-1\">\r\n              <CardTitle className=\"text-2xl mb-2\">\r\n                {currentQuestion.text}\r\n                {currentQuestion.required && (\r\n                  <span className=\"text-red-500 ml-2\">*</span>\r\n                )}\r\n              </CardTitle>\r\n              {currentQuestion.help_text && (\r\n                <CardDescription className=\"text-base mt-2\">\r\n                  {currentQuestion.help_text}\r\n                </CardDescription>\r\n              )}\r\n            </div>\r\n            {isSaving && (\r\n              <div className=\"ml-4\">\r\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-teal-600\"></div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Contexto Detalhado */}\r\n          {loadingContext && (\r\n            <div className=\"text-center text-slate-500 text-sm py-4\">Carregando contexto...</div>\r\n          )}\r\n          {!loadingContext && questionContext && (\r\n            <div className=\"bg-slate-50 dark:bg-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-800\">\r\n              <div className=\"flex items-start gap-2 mb-4\">\r\n                <Info className=\"size-5 text-teal-600 dark:text-teal-400 mt-0.5 flex-shrink-0\" />\r\n                <h3 className=\"font-semibold text-lg text-slate-900 dark:text-slate-100\">\r\n                  Contexto e Orienta√ß√µes\r\n                </h3>\r\n              </div>\r\n              \r\n              <Accordion type=\"multiple\" className=\"w-full\" defaultValue={['why']}>\r\n                {/* Por que estamos perguntando */}\r\n                <AccordionItem value=\"why\" className=\"border-b border-slate-200 dark:border-slate-700\">\r\n                  <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Info className=\"size-4 text-teal-600 dark:text-teal-400\" />\r\n                      <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                        Por que estamos perguntando isso?\r\n                      </span>\r\n                    </div>\r\n                  </AccordionTrigger>\r\n                  <AccordionContent>\r\n                    <p className=\"text-sm text-slate-700 dark:text-slate-300 leading-relaxed pt-2\">\r\n                      {questionContext.why}\r\n                    </p>\r\n                  </AccordionContent>\r\n                </AccordionItem>\r\n\r\n                {/* Consequ√™ncias */}\r\n                {questionContext.consequences && questionContext.consequences.length > 0 && (\r\n                  <AccordionItem value=\"consequences\" className=\"border-b border-slate-200 dark:border-slate-700\">\r\n                    <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <AlertTriangle className=\"size-4 text-amber-600\" />\r\n                        <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                          O que acontece sem isso?\r\n                        </span>\r\n                      </div>\r\n                    </AccordionTrigger>\r\n                    <AccordionContent>\r\n                      <ul className=\"list-disc list-inside space-y-1 text-sm text-slate-700 dark:text-slate-300 pt-2\">\r\n                        {questionContext.consequences.map((consequence, idx) => (\r\n                          <li key={idx}>{consequence}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                )}\r\n\r\n                {/* Como responder */}\r\n                {questionContext.howToAnswer && (\r\n                  <AccordionItem value=\"howToAnswer\" className=\"border-b border-slate-200 dark:border-slate-700\">\r\n                    <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                      <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                        Como responder bem?\r\n                      </span>\r\n                    </AccordionTrigger>\r\n                    <AccordionContent>\r\n                      <p className=\"text-sm text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-line pt-2\">\r\n                        {questionContext.howToAnswer}\r\n                      </p>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                )}\r\n\r\n                {/* Exemplos bons */}\r\n                {questionContext.goodExamples && questionContext.goodExamples.length > 0 && (\r\n                  <AccordionItem value=\"goodExamples\" className=\"border-b border-slate-200 dark:border-slate-700\">\r\n                    <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <CheckCircle2 className=\"size-4 text-green-600\" />\r\n                        <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                          Exemplos de boas respostas\r\n                        </span>\r\n                      </div>\r\n                    </AccordionTrigger>\r\n                    <AccordionContent>\r\n                      <div className=\"space-y-2 pt-2\">\r\n                        {questionContext.goodExamples.map((example, idx) => (\r\n                          <div\r\n                            key={idx}\r\n                            className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-3 text-sm text-green-900 dark:text-green-200\"\r\n                          >\r\n                            \"{example}\"\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                )}\r\n\r\n                {/* Exemplos ruins */}\r\n                {questionContext.badExamples && questionContext.badExamples.length > 0 && (\r\n                  <AccordionItem value=\"badExamples\" className=\"border-b-0\">\r\n                    <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <XCircle className=\"size-4 text-red-600\" />\r\n                        <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                          Exemplos de respostas ruins\r\n                        </span>\r\n                      </div>\r\n                    </AccordionTrigger>\r\n                    <AccordionContent>\r\n                      <div className=\"space-y-2 pt-2\">\r\n                        {questionContext.badExamples.map((example, idx) => (\r\n                          <div\r\n                            key={idx}\r\n                            className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-3 text-sm text-red-900 dark:text-red-200\"\r\n                          >\r\n                            \"{example}\"\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                )}\r\n              </Accordion>\r\n            </div>\r\n          )}\r\n\r\n          {/* Campo de Resposta */}\r\n          <div className=\"space-y-2\">\r\n            <QuestionRenderer\r\n              question={currentQuestion}\r\n              answer={currentAnswer}\r\n              onChange={(value) => onAnswerChange(currentQuestion, value)}\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Navega√ß√£o */}\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"space-y-4\">\r\n            {/* Navega√ß√£o entre perguntas */}\r\n            <div className=\"flex items-center justify-between\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={goToPreviousQuestion}\r\n                disabled={currentQuestionIndex === 0}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <ChevronLeft className=\"size-4\" />\r\n                {currentQuestionIndex === 0 ? 'Voltar para se√ß√µes' : 'Pergunta anterior'}\r\n              </Button>\r\n\r\n              <div className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n                {currentQuestionIndex + 1} de {currentQuestions.length}\r\n              </div>\r\n\r\n              <Button\r\n                onClick={() => {\r\n                  if (currentQuestionIndex === currentQuestions.length - 1) {\r\n                    // √öltima pergunta: rolar para o relat√≥rio\r\n                    const reportSection = document.getElementById('section-report')\r\n                    if (reportSection) {\r\n                      reportSection.scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    }\r\n                  } else {\r\n                    // N√£o √© √∫ltima pergunta: ir para pr√≥xima\r\n                    goToNextQuestion()\r\n                  }\r\n                }}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                {currentQuestionIndex === currentQuestions.length - 1\r\n                  ? 'Concluir Se√ß√£o'\r\n                  : 'Pr√≥xima pergunta'}\r\n                <ChevronRight className=\"size-4\" />\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Navega√ß√£o entre questionSets (se houver mais de um) */}\r\n            {sortedQuestionSets.length > 1 && (\r\n              <>\r\n                <Separator />\r\n                <div className=\"flex items-center justify-between text-sm\">\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={goToPreviousQuestionSet}\r\n                    disabled={\r\n                      sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id) === 0\r\n                    }\r\n                    className=\"flex items-center gap-2\"\r\n                  >\r\n                    <ChevronLeft className=\"size-4\" />\r\n                    Se√ß√£o anterior\r\n                  </Button>\r\n\r\n                  <div className=\"text-slate-500 dark:text-slate-400\">\r\n                    Se√ß√£o{' '}\r\n                    {sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id) + 1} de{' '}\r\n                    {sortedQuestionSets.length}\r\n                  </div>\r\n\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={goToNextQuestionSet}\r\n                    disabled={\r\n                      sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id) ===\r\n                      sortedQuestionSets.length - 1\r\n                    }\r\n                    className=\"flex items-center gap-2\"\r\n                  >\r\n                    Pr√≥xima se√ß√£o\r\n                    <ChevronRight className=\"size-4\" />\r\n                  </Button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import { useRouter } from 'next/router'\r\nimport { useState, useEffect, useRef, useCallback } from 'react'\r\nimport { useSectionData } from '@/hooks/useSectionData'\r\nimport { useSectionReport } from '@/hooks/useSectionReport'\r\nimport { saveAnswers } from '@/services/dossierService'\r\nimport QuestionWizard from '@/components/dossier/QuestionWizard'\r\nimport SectionReportCard from '@/components/dossier/SectionReportCard'\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/ui/card'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { Loader2 } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport type { Question } from '@/services/dossierService'\r\n\r\ninterface DossierSectionPageProps {\r\n  sectionCode: string\r\n  entityBlocks?: React.ReactNode\r\n}\r\n\r\nexport default function DossierSectionPage({\r\n  sectionCode,\r\n  entityBlocks,\r\n}: DossierSectionPageProps) {\r\n  const router = useRouter()\r\n  const dossierId = typeof router.query.dossierId === 'string' ? router.query.dossierId : undefined\r\n  const { sectionData, loading, error, completionPercent, refetch } =\r\n    useSectionData(dossierId, sectionCode)\r\n  const {\r\n    report,\r\n    loadingReport,\r\n    generatingReport,\r\n    handleGenerateReport,\r\n  } = useSectionReport(dossierId, sectionCode)\r\n\r\n  const [savingAnswers, setSavingAnswers] = useState<Set<string>>(new Set())\r\n  const [answersMap, setAnswersMap] = useState<Record<string, any>>({})\r\n  const saveTimeoutRef = useRef<Record<string, NodeJS.Timeout>>({})\r\n\r\n  // Inicializar answersMap quando sectionData mudar\r\n  useEffect(() => {\r\n    if (sectionData?.questionSets) {\r\n      console.log('üì• Carregando dados da se√ß√£o:', {\r\n        sectionCode,\r\n        questionSetsCount: sectionData.questionSets.length,\r\n      })\r\n\r\n      const initialAnswers: Record<string, any> = {}\r\n      let answersCount = 0\r\n\r\n      sectionData.questionSets.forEach((qs) => {\r\n        qs.questions.forEach((q) => {\r\n          if (q.answer && Object.keys(q.answer).length > 0) {\r\n            answersCount++\r\n            console.log('üìù Resposta encontrada:', {\r\n              questionId: q.id,\r\n              questionCode: q.code,\r\n              answerKeys: Object.keys(q.answer),\r\n              valueText: q.answer.value_text?.substring(0, 50),\r\n              valueNumber: q.answer.value_number,\r\n              valueJson: q.answer.value_json,\r\n            })\r\n          }\r\n\r\n          // Converter snake_case do banco para camelCase esperado pelo frontend\r\n          if (q.answer) {\r\n            const converted = {\r\n              id: q.answer.id,\r\n              valueText: q.answer.value_text,\r\n              valueNumber: q.answer.value_number,\r\n              valueJson: q.answer.value_json,\r\n              source: q.answer.source,\r\n            }\r\n            initialAnswers[q.id] = converted\r\n\r\n            if (converted.valueText || converted.valueNumber || converted.valueJson) {\r\n              console.log('üîÑ Convertido snake_case ‚Üí camelCase:', {\r\n                questionCode: q.code,\r\n                antes: { value_text: q.answer.value_text, value_number: q.answer.value_number },\r\n                depois: { valueText: converted.valueText, valueNumber: converted.valueNumber },\r\n              })\r\n            }\r\n          } else {\r\n            initialAnswers[q.id] = {}\r\n          }\r\n        })\r\n      })\r\n\r\n      console.log(`‚úÖ Total de ${answersCount} respostas carregadas`)\r\n      setAnswersMap(initialAnswers)\r\n    }\r\n  }, [sectionData, sectionCode])\r\n\r\n  // Cleanup timeouts on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      Object.values(saveTimeoutRef.current).forEach(clearTimeout)\r\n    }\r\n  }, [])\r\n\r\n  if (!dossierId) {\r\n    return null\r\n  }\r\n\r\n  const handleAnswerChange = useCallback(\r\n    (\r\n      question: Question,\r\n      value: {\r\n        valueText?: string\r\n        valueNumber?: number\r\n        valueJson?: any\r\n      },\r\n    ) => {\r\n      if (!question.id) return\r\n\r\n      // Atualizar estado local imediatamente para feedback visual\r\n      setAnswersMap((prev) => ({\r\n        ...prev,\r\n        [question.id]: value,\r\n      }))\r\n\r\n      // Limpar timeout anterior se existir\r\n      if (saveTimeoutRef.current[question.id]) {\r\n        clearTimeout(saveTimeoutRef.current[question.id])\r\n      }\r\n\r\n      // Marcar como salvando ap√≥s um pequeno delay (para evitar piscar o √≠cone)\r\n      const savingTimeout = setTimeout(() => {\r\n        setSavingAnswers((prev) => new Set(prev).add(question.id))\r\n      }, 300)\r\n\r\n      // Debounce: salvar ap√≥s 1 segundo de inatividade\r\n      saveTimeoutRef.current[question.id] = setTimeout(async () => {\r\n        try {\r\n          console.log('üíæ Salvando resposta:', {\r\n            dossierId,\r\n            questionId: question.id,\r\n            questionCode: question.code,\r\n            valueText: value.valueText?.substring(0, 50),\r\n            valueNumber: value.valueNumber,\r\n            valueJson: value.valueJson,\r\n          })\r\n\r\n          const result = await saveAnswers(dossierId, [\r\n            {\r\n              questionId: question.id,\r\n              valueText: value.valueText,\r\n              valueNumber: value.valueNumber,\r\n              valueJson: value.valueJson,\r\n              source: 'user',\r\n            },\r\n          ])\r\n\r\n          console.log('‚úÖ Resposta salva com sucesso:', result)\r\n\r\n          // N√£o fazer refetch aqui - o estado local j√° est√° atualizado\r\n          // Isso evita o refresh da tela enquanto o usu√°rio est√° digitando\r\n        } catch (err) {\r\n          console.error('‚ùå Erro ao salvar resposta:', err)\r\n          toast.error('Erro ao salvar resposta')\r\n\r\n          // Reverter mudan√ßa em caso de erro\r\n          setAnswersMap((prev) => ({\r\n            ...prev,\r\n            [question.id]: sectionData?.questionSets\r\n              .flatMap((qs) => qs.questions)\r\n              .find((q) => q.id === question.id)?.answer || {},\r\n          }))\r\n        } finally {\r\n          clearTimeout(savingTimeout)\r\n          setSavingAnswers((prev) => {\r\n            const next = new Set(prev)\r\n            next.delete(question.id)\r\n            return next\r\n          })\r\n          delete saveTimeoutRef.current[question.id]\r\n        }\r\n      }, 1000) // 1 segundo de debounce\r\n    },\r\n    [dossierId, sectionData],\r\n  )\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <Loader2 className=\"size-8 animate-spin text-teal-600\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"text-center text-red-600\">\r\n            <p>Erro ao carregar dados da se√ß√£o</p>\r\n            <p className=\"text-sm mt-2\">{error.message}</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (!sectionData) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"text-center text-slate-500\">\r\n            <p>Nenhum dado encontrado para esta se√ß√£o</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Cabe√ßalho da Se√ß√£o */}\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <CardTitle>{sectionData.section.name}</CardTitle>\r\n              {sectionData.section.description && (\r\n                <CardDescription className=\"mt-2\">\r\n                  {sectionData.section.description}\r\n                </CardDescription>\r\n              )}\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-sm text-slate-600 dark:text-slate-400 mb-1\">\r\n                Completude\r\n              </div>\r\n              <div className=\"text-2xl font-bold\">{completionPercent}%</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <Progress value={completionPercent} className=\"h-2\" />\r\n          </div>\r\n        </CardHeader>\r\n      </Card>\r\n\r\n      {/* Perguntas - Usar QuestionWizard para todas as se√ß√µes */}\r\n      <QuestionWizard\r\n        questionSets={sectionData.questionSets}\r\n        answersMap={answersMap}\r\n        savingAnswers={savingAnswers}\r\n        onAnswerChange={handleAnswerChange}\r\n        sectionCode={sectionCode}\r\n      />\r\n\r\n      {/* Blocos de Entidades */}\r\n      {entityBlocks && (\r\n        <div className=\"space-y-4\">\r\n          {entityBlocks}\r\n        </div>\r\n      )}\r\n\r\n      {/* Relat√≥rio da Se√ß√£o */}\r\n      <div id=\"section-report\">\r\n        <SectionReportCard\r\n          report={report}\r\n          loading={loadingReport}\r\n          generating={generatingReport}\r\n          onGenerate={handleGenerateReport}\r\n          sectionCode={sectionCode}\r\n          sectionTitle={`Relat√≥rio - ${sectionData.section.name}`}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,1,2]}