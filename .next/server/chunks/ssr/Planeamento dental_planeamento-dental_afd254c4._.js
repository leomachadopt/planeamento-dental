module.exports=[58639,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(28647),g=a.i(71946),h=a.i(84637),i=a.i(34159),j=a.i(43776),k=a.i(8710),l=a.i(45398),m=a.i(51444),n=a.i(83758),o=a.i(81952),p=a.i(22635),q=a.i(91917),r=a.i(48761),s=a.i(96646),t=b([f,g,h,i,j,k,l,s]);function u({dossierId:a,onUpdateCompletion:b}){let[c,j]=(0,e.useState)([]),[k,l]=(0,e.useState)(null),[t,u]=(0,e.useState)(!1);(0,e.useEffect)(()=>{w()},[a]);let w=async()=>{try{let b=await q.api.getStrategicChoices(a);j(b)}catch(a){console.error("Erro ao carregar escolhas estratégicas:",a)}},x=async c=>{try{k?(await q.api.updateStrategicChoice(a,k.id,c),s.toast.success("Escolha estratégica atualizada!")):(await q.api.createStrategicChoice(a,c),s.toast.success("Escolha estratégica criada!")),u(!1),l(null),await w(),b&&b(),await (0,r.calculateSectionCompletion)(a,"STRATEGY")}catch(a){s.toast.error(a.message||"Erro ao salvar escolha estratégica")}},y=async c=>{if(confirm("Tem certeza que deseja excluir esta escolha estratégica?"))try{await q.api.deleteStrategicChoice(a,c),s.toast.success("Escolha estratégica excluída!"),await w(),b&&b(),await (0,r.calculateSectionCompletion)(a,"STRATEGY")}catch(a){s.toast.error(a.message||"Erro ao excluir escolha estratégica")}};return(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(p.Target,{className:"size-5"}),"Escolhas Estratégicas"]}),(0,d.jsx)(f.CardDescription,{children:"Defina as escolhas estratégicas fundamentais da clínica"})]}),(0,d.jsxs)(i.Dialog,{open:t,onOpenChange:a=>{u(a),a||l(null)},children:[(0,d.jsx)(i.DialogTrigger,{asChild:!0,children:(0,d.jsxs)(g.Button,{size:"sm",children:[(0,d.jsx)(m.Plus,{className:"mr-2 size-4"}),"Adicionar"]})}),(0,d.jsx)(i.DialogContent,{children:(0,d.jsx)(v,{choice:k,onSave:x,onCancel:()=>{u(!1),l(null)}})})]})]})}),(0,d.jsx)(f.CardContent,{children:0===c.length?(0,d.jsx)("p",{className:"text-sm text-slate-500 text-center py-4",children:'Nenhuma escolha estratégica cadastrada. Clique em "Adicionar" para criar a primeira.'}):(0,d.jsxs)(h.Table,{children:[(0,d.jsx)(h.TableHeader,{children:(0,d.jsxs)(h.TableRow,{children:[(0,d.jsx)(h.TableHead,{children:"Título"}),(0,d.jsx)(h.TableHead,{children:"Prioridade"}),(0,d.jsx)(h.TableHead,{children:"Descrição"}),(0,d.jsx)(h.TableHead,{className:"text-right",children:"Ações"})]})}),(0,d.jsx)(h.TableBody,{children:c.map(a=>(0,d.jsxs)(h.TableRow,{children:[(0,d.jsx)(h.TableCell,{className:"font-medium",children:a.title}),(0,d.jsx)(h.TableCell,{children:a.priority?`Prioridade ${a.priority}`:"-"}),(0,d.jsx)(h.TableCell,{className:"max-w-xs truncate",children:a.rationale||"-"}),(0,d.jsx)(h.TableCell,{className:"text-right",children:(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{l(a),u(!0)},children:(0,d.jsx)(n.Edit,{className:"size-4"})}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>y(a.id),children:(0,d.jsx)(o.Trash2,{className:"size-4 text-red-500"})})]})})]},a.id))})]})})]})}function v({choice:a,onSave:b,onCancel:c}){let[f,h]=(0,e.useState)(a?.title||""),[m,n]=(0,e.useState)(a?.rationale||""),[o,p]=(0,e.useState)(a?.priority||""),[q,r]=(0,e.useState)(a?.notes||"");return(0,d.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),f.trim())?b({title:f.trim(),rationale:m.trim()||void 0,priority:o?parseInt(o):void 0,notes:q.trim()||void 0}):s.toast.error("Título é obrigatório")},children:[(0,d.jsxs)(i.DialogHeader,{children:[(0,d.jsx)(i.DialogTitle,{children:a?"Editar Escolha Estratégica":"Nova Escolha Estratégica"}),(0,d.jsx)(i.DialogDescription,{children:"Defina as informações da escolha estratégica"})]}),(0,d.jsxs)("div",{className:"space-y-4 py-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"choice-title",children:"Título *"}),(0,d.jsx)(j.Input,{id:"choice-title",value:f,onChange:a=>h(a.target.value),placeholder:"Ex: Foco em tratamentos estéticos",required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"choice-rationale",children:"Racional (Justificativa)"}),(0,d.jsx)(k.Textarea,{id:"choice-rationale",value:m,onChange:a=>n(a.target.value),placeholder:"Explique o raciocínio por trás desta escolha estratégica",className:"min-h-[100px]"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"choice-priority",children:"Prioridade (1-5)"}),(0,d.jsx)(j.Input,{id:"choice-priority",type:"number",min:"1",max:"5",value:o,onChange:a=>p(a.target.value),placeholder:"1 = maior prioridade"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"choice-notes",children:"Notas"}),(0,d.jsx)(k.Textarea,{id:"choice-notes",value:q,onChange:a=>r(a.target.value),placeholder:"Observações adicionais",className:"min-h-[80px]"})]})]}),(0,d.jsxs)(i.DialogFooter,{children:[(0,d.jsx)(g.Button,{type:"button",variant:"outline",onClick:c,children:"Cancelar"}),(0,d.jsx)(g.Button,{type:"submit",children:"Salvar"})]})]})}[f,g,h,i,j,k,l,s]=t.then?(await t)():t,a.s(["default",()=>u]),c()}catch(a){c(a)}},!1),48255,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(23526),f=a.i(14163),g=a.i(92911),h=a.i(3134),i=a.i(58639),j=a.i(28647),k=a.i(6536),l=a.i(16537),m=a.i(59518),n=a.i(61605),o=a.i(22635),p=b([f,g,h,i,j,k]);function q({sectionCode:a}){let b=(0,e.useRouter)(),c="string"==typeof b.query.dossierId?b.query.dossierId:void 0,{sectionData:p,loading:q,error:r,completionPercent:s}=(0,f.useSectionData)(c,a),{report:t,loadingReport:u,generatingReport:v,handleGenerateReport:w}=(0,g.useSectionReport)(c,a);return c?q?(0,d.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,d.jsx)(l.Loader2,{className:"size-8 animate-spin text-teal-600"})}):r?(0,d.jsx)(j.Card,{children:(0,d.jsx)(j.CardContent,{className:"pt-6",children:(0,d.jsxs)("div",{className:"text-center text-red-600",children:[(0,d.jsx)("p",{children:"Erro ao carregar dados da seção"}),(0,d.jsx)("p",{className:"text-sm mt-2",children:r.message})]})})}):p?(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(j.Card,{children:(0,d.jsx)(j.CardHeader,{children:(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsx)("div",{className:"bg-teal-100 dark:bg-teal-900/30 p-3 rounded-lg",children:(0,d.jsx)(o.Target,{className:"size-6 text-teal-600"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)(j.CardTitle,{children:p.section.name}),p.section.description&&(0,d.jsx)(j.CardDescription,{className:"mt-2",children:p.section.description})]})]})})}),(0,d.jsxs)(k.Alert,{children:[(0,d.jsx)(m.AlertCircle,{className:"size-4"}),(0,d.jsxs)(k.AlertDescription,{children:[(0,d.jsx)("strong",{children:"Seção de Síntese & Decisões Estratégicas:"})," Esta seção consolida os dados dos blocos diagnósticos (Identidade, Mercado, Oferta, Operações, Pessoas) e gera uma síntese estratégica com escolhas claras, trade-offs explícitos e renúncias necessárias."]})]}),(0,d.jsxs)(j.Card,{children:[(0,d.jsxs)(j.CardHeader,{children:[(0,d.jsx)(j.CardTitle,{className:"text-lg",children:"Status dos Insumos Diagnósticos"}),(0,d.jsx)(j.CardDescription,{children:"A qualidade da síntese estratégica depende da completude dos blocos anteriores"})]}),(0,d.jsx)(j.CardContent,{children:(0,d.jsx)("div",{className:"space-y-4",children:["IDENTITY","BUSINESS_MODEL","MARKET","OFFER","OPERATIONS","PEOPLE"].map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm font-medium",children:a}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(n.CheckCircle2,{className:"size-4 text-green-600"}),(0,d.jsx)("span",{className:"text-xs text-slate-500",children:"Aguardando dados reais"})]})]},a))})})]}),(0,d.jsx)(i.default,{dossierId:c}),(0,d.jsx)(h.default,{report:t,loading:u,generating:v,onGenerate:w,sectionCode:a,sectionTitle:"Síntese Estratégica"})]}):(0,d.jsx)(j.Card,{children:(0,d.jsx)(j.CardContent,{className:"pt-6",children:(0,d.jsx)("div",{className:"text-center text-slate-500",children:(0,d.jsx)("p",{children:"Nenhum dado encontrado para esta seção"})})})}):null}[f,g,h,i,j,k]=p.then?(await p)():p,a.s(["default",()=>q]),c()}catch(a){c(a)}},!1),25809,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(48255),f=b([e]);function g(){return(0,d.jsx)(e.default,{sectionCode:"STRATEGY"})}[e]=f.then?(await f)():f,a.s(["default",()=>g]),c()}catch(a){c(a)}},!1),42101,a=>a.a(async(b,c)=>{try{var d=a.i(69757),e=a.i(88230),f=a.i(42784),g=a.i(39119),h=a.i(36509),i=a.i(25809),j=a.i(25599),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/dossie/[dossierId]/strategy",pathname:"/dossie/[dossierId]/strategy",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/dossie/[dossierId]/strategy",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=Planeamento%20dental_planeamento-dental_afd254c4._.js.map