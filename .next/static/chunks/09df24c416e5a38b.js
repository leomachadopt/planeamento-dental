(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92537,e=>{"use strict";var a=e.i(43935),s=e.i(93639),t=e.i(68196),r=e.i(3416),o=e.i(46635),n=e.i(59426),i=e.i(40895);let l=(0,i.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var d=e.i(62600);let c=(0,i.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var u=e.i(93475),m=e.i(97460),p=e.i(62042);let x=(0,i.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var h=e.i(51814),f=e.i(38334),v=e.i(45597),j=e.i(50077),g=e.i(18593),b=e.i(7980),N=e.i(66582),w=e.i(80087),C=e.i(88091),y=e.i(98189),T=e.i(63624),E=e.i(4375),I=e.i(82147),q=e.i(20453),k="Collapsible",[R,_]=(0,b.createContextScope)(k),[A,S]=R(k),O=t.forwardRef((e,s)=>{let{__scopeCollapsible:r,open:o,defaultOpen:n,disabled:i,onOpenChange:l,...d}=e,[c,u]=(0,y.useControllableState)({prop:o,defaultProp:n??!1,onChange:l,caller:k});return(0,a.jsx)(A,{scope:r,disabled:i,contentId:(0,q.useId)(),open:c,onOpenToggle:t.useCallback(()=>u(e=>!e),[u]),children:(0,a.jsx)(T.Primitive.div,{"data-state":H(c),"data-disabled":i?"":void 0,...d,ref:s})})});O.displayName=k;var P="CollapsibleTrigger",D=t.forwardRef((e,s)=>{let{__scopeCollapsible:t,...r}=e,o=S(P,t);return(0,a.jsx)(T.Primitive.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":H(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:s,onClick:(0,C.composeEventHandlers)(e.onClick,o.onOpenToggle)})});D.displayName=P;var z="CollapsibleContent",Y=t.forwardRef((e,s)=>{let{forceMount:t,...r}=e,o=S(z,e.__scopeCollapsible);return(0,a.jsx)(I.Presence,{present:t||o.open,children:({present:e})=>(0,a.jsx)(B,{...r,ref:s,present:e})})});Y.displayName=z;var B=t.forwardRef((e,s)=>{let{__scopeCollapsible:r,present:o,children:n,...i}=e,l=S(z,r),[d,c]=t.useState(o),u=t.useRef(null),m=(0,w.useComposedRefs)(s,u),p=t.useRef(0),x=p.current,h=t.useRef(0),f=h.current,v=l.open||d,j=t.useRef(v),g=t.useRef(void 0);return t.useEffect(()=>{let e=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,E.useLayoutEffect)(()=>{let e=u.current;if(e){g.current=g.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let a=e.getBoundingClientRect();p.current=a.height,h.current=a.width,j.current||(e.style.transitionDuration=g.current.transitionDuration,e.style.animationName=g.current.animationName),c(o)}},[l.open,o]),(0,a.jsx)(T.Primitive.div,{"data-state":H(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...i,ref:m,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...e.style},children:v&&n})});function H(e){return e?"open":"closed"}var G=e.i(90949),L="Accordion",F=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[M,U,J]=(0,N.createCollection)(L),[V,K]=(0,b.createContextScope)(L,[J,_]),$=_(),X=t.default.forwardRef((e,s)=>{let{type:t,...r}=e;return(0,a.jsx)(M.Provider,{scope:e.__scopeAccordion,children:"multiple"===t?(0,a.jsx)(es,{...r,ref:s}):(0,a.jsx)(ea,{...r,ref:s})})});X.displayName=L;var[Q,W]=V(L),[Z,ee]=V(L,{collapsible:!1}),ea=t.default.forwardRef((e,s)=>{let{value:r,defaultValue:o,onValueChange:n=()=>{},collapsible:i=!1,...l}=e,[d,c]=(0,y.useControllableState)({prop:r,defaultProp:o??"",onChange:n,caller:L});return(0,a.jsx)(Q,{scope:e.__scopeAccordion,value:t.default.useMemo(()=>d?[d]:[],[d]),onItemOpen:c,onItemClose:t.default.useCallback(()=>i&&c(""),[i,c]),children:(0,a.jsx)(Z,{scope:e.__scopeAccordion,collapsible:i,children:(0,a.jsx)(eo,{...l,ref:s})})})}),es=t.default.forwardRef((e,s)=>{let{value:r,defaultValue:o,onValueChange:n=()=>{},...i}=e,[l,d]=(0,y.useControllableState)({prop:r,defaultProp:o??[],onChange:n,caller:L}),c=t.default.useCallback(e=>d((a=[])=>[...a,e]),[d]),u=t.default.useCallback(e=>d((a=[])=>a.filter(a=>a!==e)),[d]);return(0,a.jsx)(Q,{scope:e.__scopeAccordion,value:l,onItemOpen:c,onItemClose:u,children:(0,a.jsx)(Z,{scope:e.__scopeAccordion,collapsible:!0,children:(0,a.jsx)(eo,{...i,ref:s})})})}),[et,er]=V(L),eo=t.default.forwardRef((e,s)=>{let{__scopeAccordion:r,disabled:o,dir:n,orientation:i="vertical",...l}=e,d=t.default.useRef(null),c=(0,w.useComposedRefs)(d,s),u=U(r),m="ltr"===(0,G.useDirection)(n),p=(0,C.composeEventHandlers)(e.onKeyDown,e=>{if(!F.includes(e.key))return;let a=e.target,s=u().filter(e=>!e.ref.current?.disabled),t=s.findIndex(e=>e.ref.current===a),r=s.length;if(-1===t)return;e.preventDefault();let o=t,n=r-1,l=()=>{(o=t+1)>n&&(o=0)},d=()=>{(o=t-1)<0&&(o=n)};switch(e.key){case"Home":o=0;break;case"End":o=n;break;case"ArrowRight":"horizontal"===i&&(m?l():d());break;case"ArrowDown":"vertical"===i&&l();break;case"ArrowLeft":"horizontal"===i&&(m?d():l());break;case"ArrowUp":"vertical"===i&&d()}let c=o%r;s[c].ref.current?.focus()});return(0,a.jsx)(et,{scope:r,disabled:o,direction:n,orientation:i,children:(0,a.jsx)(M.Slot,{scope:r,children:(0,a.jsx)(T.Primitive.div,{...l,"data-orientation":i,ref:c,onKeyDown:o?void 0:p})})})}),en="AccordionItem",[ei,el]=V(en),ed=t.default.forwardRef((e,s)=>{let{__scopeAccordion:t,value:r,...o}=e,n=er(en,t),i=W(en,t),l=$(t),d=(0,q.useId)(),c=r&&i.value.includes(r)||!1,u=n.disabled||e.disabled;return(0,a.jsx)(ei,{scope:t,open:c,disabled:u,triggerId:d,children:(0,a.jsx)(O,{"data-orientation":n.orientation,"data-state":ef(c),...l,...o,ref:s,disabled:u,open:c,onOpenChange:e=>{e?i.onItemOpen(r):i.onItemClose(r)}})})});ed.displayName=en;var ec="AccordionHeader",eu=t.default.forwardRef((e,s)=>{let{__scopeAccordion:t,...r}=e,o=er(L,t),n=el(ec,t);return(0,a.jsx)(T.Primitive.h3,{"data-orientation":o.orientation,"data-state":ef(n.open),"data-disabled":n.disabled?"":void 0,...r,ref:s})});eu.displayName=ec;var em="AccordionTrigger",ep=t.default.forwardRef((e,s)=>{let{__scopeAccordion:t,...r}=e,o=er(L,t),n=el(em,t),i=ee(em,t),l=$(t);return(0,a.jsx)(M.ItemSlot,{scope:t,children:(0,a.jsx)(D,{"aria-disabled":n.open&&!i.collapsible||void 0,"data-orientation":o.orientation,id:n.triggerId,...l,...r,ref:s})})});ep.displayName=em;var ex="AccordionContent",eh=t.default.forwardRef((e,s)=>{let{__scopeAccordion:t,...r}=e,o=er(L,t),n=el(ex,t),i=$(t);return(0,a.jsx)(Y,{role:"region","aria-labelledby":n.triggerId,"data-orientation":o.orientation,...i,...r,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function ef(e){return e?"open":"closed"}eh.displayName=ex;var ev=e.i(24585),ej=e.i(69751);let eg=t.forwardRef(({className:e,...s},t)=>(0,a.jsx)(ed,{ref:t,className:(0,ej.cn)("border-b",e),...s}));eg.displayName="AccordionItem";let eb=t.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsx)(eu,{className:"flex",children:(0,a.jsxs)(ep,{ref:r,className:(0,ej.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...t,children:[s,(0,a.jsx)(ev.ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));eb.displayName=ep.displayName;let eN=t.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsx)(eh,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:(0,a.jsx)("div",{className:(0,ej.cn)("pb-4 pt-0",e),children:s})}));eN.displayName=eh.displayName;var ew=e.i(2602),eC=e.i(65586),ey=e.i(20826),eT=e.i(47695),eE=e.i(67921),eI=e.i(39229),eq="Radio",[ek,eR]=(0,b.createContextScope)(eq),[e_,eA]=ek(eq),eS=t.forwardRef((e,s)=>{let{__scopeRadio:r,name:o,checked:n=!1,required:i,disabled:l,value:d="on",onCheck:c,form:u,...m}=e,[p,x]=t.useState(null),h=(0,w.useComposedRefs)(s,e=>x(e)),f=t.useRef(!1),v=!p||u||!!p.closest("form");return(0,a.jsxs)(e_,{scope:r,checked:n,disabled:l,children:[(0,a.jsx)(T.Primitive.button,{type:"button",role:"radio","aria-checked":n,"data-state":ez(n),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:h,onClick:(0,C.composeEventHandlers)(e.onClick,e=>{n||c?.(),v&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),v&&(0,a.jsx)(eD,{control:p,bubbles:!f.current,name:o,value:d,checked:n,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});eS.displayName=eq;var eO="RadioIndicator",eP=t.forwardRef((e,s)=>{let{__scopeRadio:t,forceMount:r,...o}=e,n=eA(eO,t);return(0,a.jsx)(I.Presence,{present:r||n.checked,children:(0,a.jsx)(T.Primitive.span,{"data-state":ez(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:s})})});eP.displayName=eO;var eD=t.forwardRef(({__scopeRadio:e,control:s,checked:r,bubbles:o=!0,...n},i)=>{let l=t.useRef(null),d=(0,w.useComposedRefs)(l,i),c=(0,eI.usePrevious)(r),u=(0,eE.useSize)(s);return t.useEffect(()=>{let e=l.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&a){let s=new Event("click",{bubbles:o});a.call(e,r),e.dispatchEvent(s)}},[c,r,o]),(0,a.jsx)(T.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:d,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function ez(e){return e?"checked":"unchecked"}eD.displayName="RadioBubbleInput";var eY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eB="RadioGroup",[eH,eG]=(0,b.createContextScope)(eB,[eT.createRovingFocusGroupScope,eR]),eL=(0,eT.createRovingFocusGroupScope)(),eF=eR(),[eM,eU]=eH(eB),eJ=t.forwardRef((e,s)=>{let{__scopeRadioGroup:t,name:r,defaultValue:o,value:n,required:i=!1,disabled:l=!1,orientation:d,dir:c,loop:u=!0,onValueChange:m,...p}=e,x=eL(t),h=(0,G.useDirection)(c),[f,v]=(0,y.useControllableState)({prop:n,defaultProp:o??null,onChange:m,caller:eB});return(0,a.jsx)(eM,{scope:t,name:r,required:i,disabled:l,value:f,onValueChange:v,children:(0,a.jsx)(eT.Root,{asChild:!0,...x,orientation:d,dir:h,loop:u,children:(0,a.jsx)(T.Primitive.div,{role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":l?"":void 0,dir:h,...p,ref:s})})})});eJ.displayName=eB;var eV="RadioGroupItem",eK=t.forwardRef((e,s)=>{let{__scopeRadioGroup:r,disabled:o,...n}=e,i=eU(eV,r),l=i.disabled||o,d=eL(r),c=eF(r),u=t.useRef(null),m=(0,w.useComposedRefs)(s,u),p=i.value===n.value,x=t.useRef(!1);return t.useEffect(()=>{let e=e=>{eY.includes(e.key)&&(x.current=!0)},a=()=>x.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",a)}},[]),(0,a.jsx)(eT.Item,{asChild:!0,...d,focusable:!l,active:p,children:(0,a.jsx)(eS,{disabled:l,required:i.required,checked:p,...c,...n,name:i.name,ref:m,onCheck:()=>i.onValueChange(n.value),onKeyDown:(0,C.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,C.composeEventHandlers)(n.onFocus,()=>{x.current&&u.current?.click()})})})});eK.displayName=eV;var e$=t.forwardRef((e,s)=>{let{__scopeRadioGroup:t,...r}=e,o=eF(t);return(0,a.jsx)(eP,{...o,...r,ref:s})});e$.displayName="RadioGroupIndicator";var eX=e.i(39062);let eQ=t.forwardRef(({className:e,...s},t)=>(0,a.jsx)(eJ,{className:(0,ej.cn)("grid gap-2",e),...s,ref:t}));eQ.displayName=eJ.displayName;let eW=t.forwardRef(({className:e,...s},t)=>(0,a.jsx)(eK,{ref:t,className:(0,ej.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,a.jsx)(e$,{className:"flex items-center justify-center",children:(0,a.jsx)(eX.Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));function eZ({question:e,answer:s,onChange:t}){switch(e.type){case"textarea":let r=e.help_text||"";return"IDENTITY_REASON"===e.code?r="Escreva aqui, com suas prÃ³prias palavras, por que sua clÃ­nica existe e que transformaÃ§Ã£o real ela gera na vida dos pacientesâ€¦":"IDENTITY_RECOGNITION_GOAL"===e.code&&(r="Escreva aqui, com suas prÃ³prias palavras, como vocÃª quer que sua clÃ­nica seja conhecida e lembrada daqui a 3 anosâ€¦"),(0,a.jsx)(eC.Textarea,{value:s.valueText||"",onChange:e=>t({...s,valueText:e.target.value}),placeholder:r,className:"min-h-[100px]"});case"single_select":return(0,a.jsx)(eQ,{value:s.valueText||"",onValueChange:e=>t({...s,valueText:e}),children:e.options?.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eW,{value:e.value,id:e.id}),(0,a.jsx)(ey.Label,{htmlFor:e.id,className:"cursor-pointer",children:e.label})]},e.id))});default:return(0,a.jsx)(ew.Input,{value:s.valueText||"",onChange:e=>t({...s,valueText:e.target.value}),placeholder:e.help_text})}}eW.displayName=eK.displayName;let e0={IDENTITY_REASON:{why:"Essa Ã© a bÃºssola moral e estratÃ©gica da clÃ­nica. Uma clÃ­nica sem propÃ³sito claro tende a: aceitar qualquer tipo de paciente, fazer qualquer tipo de procedimento, tomar decisÃµes sÃ³ por dinheiro (nÃ£o por direÃ§Ã£o), e perder identidade, foco e diferenciaÃ§Ã£o ao longo do tempo. O propÃ³sito serve como critÃ©rio de decisÃ£o, define quem vocÃª ajuda de verdade, define o que vocÃª aceita e o que vocÃª recusa fazer, e dÃ¡ coerÃªncia para toda a estratÃ©gia.",consequences:["Aceitar qualquer tipo de paciente","Fazer qualquer tipo de procedimento","Tomar decisÃµes sÃ³ por dinheiro, nÃ£o por direÃ§Ã£o","Perder identidade, foco e diferenciaÃ§Ã£o ao longo do tempo"],howToAnswer:'Pense: âŒ NÃ£o no procedimento âœ… No resultado na vida do paciente. Complete mentalmente a frase: "Depois de passar pela nossa clÃ­nica, a vida do paciente Ã© diferente porqueâ€¦" Boas respostas geralmente: falam de transformaÃ§Ã£o humana, falam de impacto real, nÃ£o falam de tecnologia/tecnicas/especialidades, nÃ£o parecem texto de marketing.',goodExamples:["Existimos para devolver Ã s pessoas a confianÃ§a em sorrir, comer e viver bem, ajudando pacientes que jÃ¡ perderam a esperanÃ§a a recuperar nÃ£o sÃ³ a funÃ§Ã£o mastigatÃ³ria, mas tambÃ©m a autoestima, a seguranÃ§a e a vontade de se relacionar, atravÃ©s de tratamentos Ã©ticos, humanos e duradouros.","Nossa clÃ­nica existe para transformar histÃ³rias de frustraÃ§Ã£o com a prÃ³pria saÃºde bucal em histÃ³rias de reconquista de qualidade de vida, seguranÃ§a pessoal e bem-estar, cuidando de cada paciente como um projeto Ãºnico, e nÃ£o como um procedimento isolado."],badExamples:["Oferecer odontologia de qualidade com excelÃªncia e tecnologia.","Atender nossos pacientes da melhor forma possÃ­vel.","Ser referÃªncia em tratamentos odontolÃ³gicos.","Cuidar do sorriso das pessoas."]},IDENTITY_RECOGNITION_GOAL:{why:'Essa pergunta define para onde vocÃª estÃ¡ levando o negÃ³cio. Sem uma visÃ£o clara: a clÃ­nica cresce "para qualquer lado", aceita qualquer tipo de projeto/parceria/paciente, compra equipamentos e contrata pessoas sem critÃ©rio estratÃ©gico, e confunde crescimento com progresso. A visÃ£o serve como filtro de decisÃ£o, define o que vocÃª vai construir (e o que nÃ£o vai), dÃ¡ direÃ§Ã£o para investimentos/marketing/estrutura, e cria coerÃªncia entre o hoje e o futuro desejado.',consequences:['A clÃ­nica cresce "para qualquer lado"',"Aceita qualquer tipo de projeto, parceria ou paciente","Compra equipamentos e contrata pessoas sem critÃ©rio estratÃ©gico","Confunde crescimento com progresso"],howToAnswer:'Pense menos em: âŒ Tamanho âŒ Faturamento âŒ Quantidade de unidades. E mais em: âœ… ReputaÃ§Ã£o âœ… Tipo de problema que vocÃª resolve âœ… Como as pessoas descrevem vocÃª para outras. Complete mentalmente: "Essa Ã© aquela clÃ­nica queâ€¦" Boas respostas: falam de posiÃ§Ã£o no mercado (nÃ£o de vaidade), falam de tipo de caso resolvido (nÃ£o de tecnologia), falam de confianÃ§a e reconhecimento (nÃ£o de nÃºmeros), soam como algo que um paciente ou outro mÃ©dico diria.',goodExamples:["Essa Ã© aquela clÃ­nica que resolve casos que ninguÃ©m mais resolve.","Essa Ã© a clÃ­nica mais confiÃ¡vel para reabilitaÃ§Ã£o de coluna da cidade.","Essa Ã© a clÃ­nica onde todo mundo indica de olhos fechados."],badExamples:["Ser a maior rede de clÃ­nicas da regiÃ£o.","Ter faturamento de X milhÃµes.","Ter 10 unidades em 3 anos.","Ser referÃªncia em tecnologia de ponta."]},IDENTITY_VALUES:{why:"Valores nÃ£o sÃ£o frases bonitas na parede. Eles sÃ£o critÃ©rios de decisÃ£o difÃ­ceis.",howToAnswer:"Pense em situaÃ§Ãµes reais: O que vocÃª nÃ£o aceitaria de um profissional? Que tipo de paciente vocÃª prefere perder do que atender mal?",goodExamples:["Nunca prometer resultado que nÃ£o sabemos entregar.","Nunca tratar paciente com pressa ou descaso.","Nunca sacrificar qualidade tÃ©cnica por volume."]},IDENTITY_PRIORITY_AUDIENCE:{why:"Toda estratÃ©gia Ã© uma escolha e uma renÃºncia. Se vocÃª nÃ£o escolhe: sua agenda escolhe, o mercado escolhe, o acaso escolhe.",howToAnswer:"Escolha um foco principal. Diga tambÃ©m qual tipo de paciente vai virar secundÃ¡rio.",goodExamples:["Vamos priorizar mulheres 40+ com dor crÃ´nica de coluna. Vamos deixar de focar em atendimentos rÃ¡pidos e genÃ©ricos de convÃªnio."]},IDENTITY_PRICE_POSITIONING:{why:"PreÃ§o Ã© posicionamento estratÃ©gico, nÃ£o sÃ³ nÃºmero."},IDENTITY_PRICE_POSITIONING_JUSTIFICATION:{why:"A justificativa do posicionamento de preÃ§o demonstra o valor real oferecido pela clÃ­nica."},IDENTITY_STRATEGY_FOCUS:{why:"Essas duas estratÃ©gias (volume vs. valor) exigem clÃ­nicas completamente diferentes."},IDENTITY_STRATEGY_FOCUS_SECONDARY:{why:"O motor secundÃ¡rio complementa a estratÃ©gia principal e ajuda a balancear o crescimento."},IDENTITY_STRATEGY_FOCUS_COMPLEMENT:{why:"EstratÃ©gia sem mudanÃ§a Ã© fantasia.",howToAnswer:"Divida em: Pessoas, Processos, Oferta/ServiÃ§os"},IDENTITY_CRITICAL_ACTIONS:{why:"Isso define o que realmente importa na operaÃ§Ã£o.",goodExamples:["Garantir que todo paciente saia com plano claro de tratamento.","Reduzir faltas e abandono de tratamento.","Manter padrÃ£o tÃ©cnico alto em todas as sessÃµes."]},IDENTITY_KEY_CHARACTERISTICS:{why:"Isso define o jeito de ser da clÃ­nica, nÃ£o sÃ³ o que ela faz.",goodExamples:["Acolhedora, mas extremamente tÃ©cnica.","Pontual e organizada.","Exigente com resultado."]},IDENTITY_WHAT_NOT_TO_BE:{why:"Toda boa estratÃ©gia tem uma lista do que nÃ£o fazer."}};var e1=e.i(64703);function e2({questionSets:e,answersMap:s,savingAnswers:r,onAnswerChange:o,sectionCode:n}){let[i,b]=(0,t.useState)(null),[N,w]=(0,t.useState)(0),C=(0,t.useMemo)(()=>[...e].sort((e,a)=>(e.questions[0]?.order_index||0)-(a.questions[0]?.order_index||0)),[e]),y=i?C.find(e=>e.id===i):null,T=(0,t.useMemo)(()=>y?[...y.questions].sort((e,a)=>e.order_index-a.order_index):[],[y]),E=T[N],I=E&&s[E.id]||{},q=!!E&&r.has(E.id),[k,R]=(0,t.useState)(void 0),[_,A]=(0,t.useState)(!1);(0,t.useEffect)(()=>{E?.id?(console.log("ðŸ” Carregando contexto para pergunta:",E.code,E.id),A(!0),(0,e1.fetchAPI)(`/questions/${E.id}/context`).then(e=>{if(console.log("ðŸ“¦ Dados do contexto recebidos:",e),e&&Object.keys(e).length>1){let a={why:e.why,consequences:e.consequences,howToAnswer:e.howToAnswer,goodExamples:e.goodExamples,badExamples:e.badExamples};console.log("âœ… Contexto processado e definido:",a),R(a)}else if(console.log("âš ï¸ Contexto vazio do banco, usando fallback"),"IDENTITY"===n&&E?.code){let e=e0[E.code];console.log("ðŸ“š Usando contexto hardcoded:",e?"encontrado":"nÃ£o encontrado"),R(e)}else R(void 0)}).catch(e=>{if(console.error("âŒ Erro ao buscar contexto:",e),"IDENTITY"===n&&E?.code){let e=e0[E.code];console.log("ðŸ“š Erro no fetch, usando contexto hardcoded:",e?"encontrado":"nÃ£o encontrado"),R(e)}else R(void 0)}).finally(()=>{console.log("ðŸ Carregamento de contexto finalizado"),A(!1)})):R(void 0)},[E?.id,E?.code,n]);let S=T.length>0?(N+1)/T.length*100:0,O=(0,t.useMemo)(()=>e.reduce((e,a)=>e+a.questions.length,0),[e]),P=(0,t.useMemo)(()=>Object.keys(s).filter(e=>{let a=s[e];return a?.valueText||a?.valueNumber!==void 0||a?.valueJson&&Object.keys(a.valueJson).length>0}).length,[s]);(0,t.useEffect)(()=>{!i&&C.length>0&&(b(C[0].id),w(0))},[i,C]),(0,t.useEffect)(()=>{w(0)},[i]);let D=e=>{b(e),w(0),window.scrollTo({top:0,behavior:"smooth"})},z=()=>{b(null),w(0),window.scrollTo({top:0,behavior:"smooth"})};return i&&y?E?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(f.Card,{children:(0,a.jsxs)(f.CardHeader,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:z,className:"h-8 w-8 p-0",children:(0,a.jsx)(x,{className:"size-4"})}),(0,a.jsx)(f.CardTitle,{className:"text-lg",children:y.name})]}),y.subsection_name&&(0,a.jsx)(f.CardDescription,{className:"mt-1",children:y.subsection_name})]}),(0,a.jsxs)(j.Badge,{variant:"outline",className:"text-sm",children:["Pergunta ",N+1," de ",T.length]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(v.Progress,{value:S,className:"h-2"})})]})}),(0,a.jsxs)(f.Card,{className:"border-2 border-teal-200 dark:border-teal-800",children:[(0,a.jsx)(f.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(f.CardTitle,{className:"text-2xl mb-2",children:[E.text,E.required&&(0,a.jsx)("span",{className:"text-red-500 ml-2",children:"*"})]}),E.help_text&&(0,a.jsx)(f.CardDescription,{className:"text-base mt-2",children:E.help_text})]}),q&&(0,a.jsx)("div",{className:"ml-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-teal-600"})})]})}),(0,a.jsxs)(f.CardContent,{className:"space-y-6",children:[_&&(0,a.jsx)("div",{className:"text-center text-slate-500 text-sm py-4",children:"Carregando contexto..."}),!_&&k&&(0,a.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-800",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2 mb-4",children:[(0,a.jsx)(c,{className:"size-5 text-teal-600 dark:text-teal-400 mt-0.5 flex-shrink-0"}),(0,a.jsx)("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Contexto e OrientaÃ§Ãµes"})]}),(0,a.jsxs)(X,{type:"multiple",className:"w-full",defaultValue:["why"],children:[(0,a.jsxs)(eg,{value:"why",className:"border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)(eb,{className:"text-left hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c,{className:"size-4 text-teal-600 dark:text-teal-400"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Por que estamos perguntando isso?"})]})}),(0,a.jsx)(eN,{children:(0,a.jsx)("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed pt-2",children:k.why})})]}),k.consequences&&k.consequences.length>0&&(0,a.jsxs)(eg,{value:"consequences",className:"border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)(eb,{className:"text-left hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.AlertTriangle,{className:"size-4 text-amber-600"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"O que acontece sem isso?"})]})}),(0,a.jsx)(eN,{children:(0,a.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-slate-700 dark:text-slate-300 pt-2",children:k.consequences.map((e,s)=>(0,a.jsx)("li",{children:e},s))})})]}),k.howToAnswer&&(0,a.jsxs)(eg,{value:"howToAnswer",className:"border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)(eb,{className:"text-left hover:no-underline",children:(0,a.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Como responder bem?"})}),(0,a.jsx)(eN,{children:(0,a.jsx)("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-line pt-2",children:k.howToAnswer})})]}),k.goodExamples&&k.goodExamples.length>0&&(0,a.jsxs)(eg,{value:"goodExamples",className:"border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)(eb,{className:"text-left hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.CheckCircle2,{className:"size-4 text-green-600"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Exemplos de boas respostas"})]})}),(0,a.jsx)(eN,{children:(0,a.jsx)("div",{className:"space-y-2 pt-2",children:k.goodExamples.map((e,s)=>(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-3 text-sm text-green-900 dark:text-green-200",children:['"',e,'"']},s))})})]}),k.badExamples&&k.badExamples.length>0&&(0,a.jsxs)(eg,{value:"badExamples",className:"border-b-0",children:[(0,a.jsx)(eb,{className:"text-left hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.XCircle,{className:"size-4 text-red-600"}),(0,a.jsx)("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Exemplos de respostas ruins"})]})}),(0,a.jsx)(eN,{children:(0,a.jsx)("div",{className:"space-y-2 pt-2",children:k.badExamples.map((e,s)=>(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-3 text-sm text-red-900 dark:text-red-200",children:['"',e,'"']},s))})})]})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(eZ,{question:E,answer:I,onChange:e=>o(E,e)})})]})]}),(0,a.jsx)(f.Card,{children:(0,a.jsx)(f.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(h.Button,{variant:"outline",onClick:()=>{N>0?w(N-1):z()},disabled:0===N,className:"flex items-center gap-2",children:[(0,a.jsx)(l,{className:"size-4"}),0===N?"Voltar para seÃ§Ãµes":"Pergunta anterior"]}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[N+1," de ",T.length]}),(0,a.jsxs)(h.Button,{onClick:()=>{if(N===T.length-1){let e=document.getElementById("section-report");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}else N<T.length-1&&w(N+1)},className:"flex items-center gap-2",children:[N===T.length-1?"Concluir SeÃ§Ã£o":"PrÃ³xima pergunta",(0,a.jsx)(d.ChevronRight,{className:"size-4"})]})]}),C.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Separator,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>{if(!y)return;let e=C.findIndex(e=>e.id===y.id);e>0&&D(C[e-1].id)},disabled:0===C.findIndex(e=>e.id===y.id),className:"flex items-center gap-2",children:[(0,a.jsx)(l,{className:"size-4"}),"SeÃ§Ã£o anterior"]}),(0,a.jsxs)("div",{className:"text-slate-500 dark:text-slate-400",children:["SeÃ§Ã£o"," ",C.findIndex(e=>e.id===y.id)+1," de"," ",C.length]}),(0,a.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>{if(!y)return;let e=C.findIndex(e=>e.id===y.id);e<C.length-1&&D(C[e+1].id)},disabled:C.findIndex(e=>e.id===y.id)===C.length-1,className:"flex items-center gap-2",children:["PrÃ³xima seÃ§Ã£o",(0,a.jsx)(d.ChevronRight,{className:"size-4"})]})]})]})]})})})]}):(0,a.jsx)(f.Card,{children:(0,a.jsx)(f.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center text-slate-500",children:[(0,a.jsx)("p",{children:"Nenhuma pergunta encontrada nesta seÃ§Ã£o"}),(0,a.jsxs)(h.Button,{variant:"outline",onClick:z,className:"mt-4",children:[(0,a.jsx)(x,{className:"mr-2 size-4"}),"Voltar para seÃ§Ãµes"]})]})})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(f.Card,{children:(0,a.jsxs)(f.CardHeader,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(f.CardTitle,{children:"Selecione uma seÃ§Ã£o para comeÃ§ar"}),(0,a.jsxs)(j.Badge,{variant:"outline",className:"text-sm",children:[P," de ",O," respondidas"]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(v.Progress,{value:O>0?P/O*100:0,className:"h-2"})})]})}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:C.map(e=>{let t=e.questions.length,r=e.questions.filter(e=>{let a=s[e.id];return a?.valueText||a?.valueNumber!==void 0||a?.valueJson&&Object.keys(a.valueJson).length>0}).length,o=t>0?r/t*100:0;return(0,a.jsxs)(f.Card,{className:"cursor-pointer hover:border-teal-400 transition-colors",onClick:()=>D(e.id),children:[(0,a.jsxs)(f.CardHeader,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(f.CardTitle,{className:"text-lg",children:e.name}),e.subsection_name&&(0,a.jsx)(f.CardDescription,{className:"mt-1",children:e.subsection_name})]}),(0,a.jsxs)(j.Badge,{variant:"outline",className:"text-sm",children:[r,"/",t]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(v.Progress,{value:o,className:"h-2"})})]}),(0,a.jsx)(f.CardContent,{children:(0,a.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t," pergunta",1!==t?"s":""]})})]},e.id)})})]})}var e4=e.i(45813),e6=e.i(127),e9=e.i(9169);function e5({sectionCode:e,entityBlocks:i}){let l=(0,s.useRouter)(),d="string"==typeof l.query.dossierId?l.query.dossierId:void 0,{sectionData:c,loading:u,error:m,completionPercent:p,refetch:x}=(0,r.useSectionData)(d,e),{report:h,loadingReport:j,generatingReport:g,handleGenerateReport:b}=(0,o.useSectionReport)(d,e),[N,w]=(0,t.useState)(new Set),[C,y]=(0,t.useState)({}),T=(0,t.useRef)({});if((0,t.useEffect)(()=>{if(c?.questionSets){console.log("ðŸ“¥ Carregando dados da seÃ§Ã£o:",{sectionCode:e,questionSetsCount:c.questionSets.length});let a={},s=0;c.questionSets.forEach(e=>{e.questions.forEach(e=>{if(e.answer&&Object.keys(e.answer).length>0&&(s++,console.log("ðŸ“ Resposta encontrada:",{questionId:e.id,questionCode:e.code,answerKeys:Object.keys(e.answer),valueText:e.answer.value_text?.substring(0,50),valueNumber:e.answer.value_number,valueJson:e.answer.value_json})),e.answer){let s={id:e.answer.id,valueText:e.answer.value_text,valueNumber:e.answer.value_number,valueJson:e.answer.value_json,source:e.answer.source};a[e.id]=s,(s.valueText||s.valueNumber||s.valueJson)&&console.log("ðŸ”„ Convertido snake_case â†’ camelCase:",{questionCode:e.code,antes:{value_text:e.answer.value_text,value_number:e.answer.value_number},depois:{valueText:s.valueText,valueNumber:s.valueNumber}})}else a[e.id]={}})}),console.log(`âœ… Total de ${s} respostas carregadas`),y(a)}},[c,e]),(0,t.useEffect)(()=>()=>{Object.values(T.current).forEach(clearTimeout)},[]),!d)return null;let E=(0,t.useCallback)((e,a)=>{if(!e.id)return;y(s=>({...s,[e.id]:a})),T.current[e.id]&&clearTimeout(T.current[e.id]);let s=setTimeout(()=>{w(a=>new Set(a).add(e.id))},300);T.current[e.id]=setTimeout(async()=>{try{console.log("ðŸ’¾ Salvando resposta:",{dossierId:d,questionId:e.id,questionCode:e.code,valueText:a.valueText?.substring(0,50),valueNumber:a.valueNumber,valueJson:a.valueJson});let s=await (0,n.saveAnswers)(d,[{questionId:e.id,valueText:a.valueText,valueNumber:a.valueNumber,valueJson:a.valueJson,source:"user"}]);console.log("âœ… Resposta salva com sucesso:",s)}catch(a){console.error("âŒ Erro ao salvar resposta:",a),e9.toast.error("Erro ao salvar resposta"),y(a=>({...a,[e.id]:c?.questionSets.flatMap(e=>e.questions).find(a=>a.id===e.id)?.answer||{}}))}finally{clearTimeout(s),w(a=>{let s=new Set(a);return s.delete(e.id),s}),delete T.current[e.id]}},1e3)},[d,c]);return u?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(e6.Loader2,{className:"size-8 animate-spin text-teal-600"})}):m?(0,a.jsx)(f.Card,{children:(0,a.jsx)(f.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center text-red-600",children:[(0,a.jsx)("p",{children:"Erro ao carregar dados da seÃ§Ã£o"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:m.message})]})})}):c?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(f.Card,{children:(0,a.jsxs)(f.CardHeader,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f.CardTitle,{children:c.section.name}),c.section.description&&(0,a.jsx)(f.CardDescription,{className:"mt-2",children:c.section.description})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Completude"}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[p,"%"]})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(v.Progress,{value:p,className:"h-2"})})]})}),(0,a.jsx)(e2,{questionSets:c.questionSets,answersMap:C,savingAnswers:N,onAnswerChange:E,sectionCode:e}),i&&(0,a.jsx)("div",{className:"space-y-4",children:i}),(0,a.jsx)("div",{id:"section-report",children:(0,a.jsx)(e4.default,{report:h,loading:j,generating:g,onGenerate:b,sectionCode:e,sectionTitle:`Relat\xf3rio - ${c.section.name}`})})]}):(0,a.jsx)(f.Card,{children:(0,a.jsx)(f.CardContent,{className:"pt-6",children:(0,a.jsx)("div",{className:"text-center text-slate-500",children:(0,a.jsx)("p",{children:"Nenhum dado encontrado para esta seÃ§Ã£o"})})})})}e.s(["default",()=>e5],92537)}]);