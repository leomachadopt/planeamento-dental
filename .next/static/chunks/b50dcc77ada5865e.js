(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18931,e=>{"use strict";let t=(0,e.i(40895).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],18931)},56419,e=>{"use strict";let t=(0,e.i(40895).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],56419)},78680,(e,t,r)=>{"use strict";var a=e.r(68196),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,i=a.useEffect,o=a.useLayoutEffect,l=a.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var c="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=n({inst:{value:r,getSnapshot:t}}),s=a[0].inst,c=a[1];return o(function(){s.value=r,s.getSnapshot=t,u(s)&&c({inst:s})},[e,r,t]),i(function(){return u(s)&&c({inst:s}),e(function(){u(s)&&c({inst:s})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:c},70393,(e,t,r)=>{"use strict";t.exports=e.r(78680)},9078,(e,t,r)=>{"use strict";var a=e.r(68196),s=e.r(70393),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=s.useSyncExternalStore,o=a.useRef,l=a.useEffect,u=a.useMemo,c=a.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var d=o(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var m=i(e,(d=u(function(){function e(e){if(!l){if(l=!0,i=e,e=a(e),void 0!==s&&f.hasValue){var t=f.value;if(s(t,e))return o=t}return o=e}if(t=o,n(i,e))return t;var r=a(e);return void 0!==s&&s(t,r)?(i=e,t):(i=e,o=r)}var i,o,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,a,s]))[0],d[1]);return l(function(){f.hasValue=!0,f.value=m},[m]),c(m),m}},32132,(e,t,r)=>{"use strict";t.exports=e.r(9078)},14847,e=>{"use strict";let t={get url(){return`file://${e.P("Planeamento dental/planeamento-dental/node_modules/zustand/esm/vanilla.mjs")}`}},r=e=>{let r,a=new Set,s=(e,t)=>{let s="function"==typeof e?e(r):e;if(!Object.is(s,r)){let e=r;r=(null!=t?t:"object"!=typeof s||null===s)?s:Object.assign({},r,s),a.forEach(t=>t(r,e))}},n=()=>r,i={setState:s,getState:n,getInitialState:()=>o,subscribe:e=>(a.add(e),()=>a.delete(e)),destroy:()=>{(t.env?t.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},o=r=e(s,n,i);return i};var a=e.i(68196),s=e.i(32132);let n={get url(){return`file://${e.P("Planeamento dental/planeamento-dental/node_modules/zustand/esm/index.mjs")}`}},{useDebugValue:i}=a.default,{useSyncExternalStoreWithSelector:o}=s.default,l=!1,u={get url(){return`file://${e.P("Planeamento dental/planeamento-dental/node_modules/zustand/esm/middleware.mjs")}`}},c=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>c(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>c(t)(e)}}};var d=e.i(64703),f=e.i(9169);let m=(e=>{(n.env?n.env.MODE:void 0)!=="production"&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?e?r(e):r:e,a=(e,r)=>(function(e,t=e=>e,r){(n.env?n.env.MODE:void 0)!=="production"&&r&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);let a=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return i(a),a})(t,e,r);return Object.assign(a,t),a})(((e,t)=>{if("getStorage"in t||"serialize"in t||"deserialize"in t)return(u.env?u.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),(r,a,s)=>{let n,i,o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,u=new Set,d=new Set;try{n=o.getStorage()}catch(e){}if(!n)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)},a,s);let f=c(o.serialize),m=()=>{let e,t=f({state:o.partialize({...a()}),version:o.version}).then(e=>n.setItem(o.name,e)).catch(t=>{e=t});if(e)throw e;return t},h=s.setState;s.setState=(e,t)=>{h(e,t),m()};let p=e((...e)=>{r(...e),m()},a,s),g=()=>{var e;if(!n)return;l=!1,u.forEach(e=>e(a()));let t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,a()))||void 0;return c(n.getItem.bind(n))(o.name).then(e=>{if(e)return o.deserialize(e)}).then(e=>{if(e)if("number"!=typeof e.version||e.version===o.version)return e.state;else{if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(i=o.merge(e,null!=(t=a())?t:p),!0),m()}).then(()=>{null==t||t(i,void 0),l=!0,d.forEach(e=>e(i))}).catch(e=>{null==t||t(void 0,e)})};return s.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(n=e.getStorage())},clearStorage:()=>{null==n||n.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>l,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},g(),i||p};return(r,a,s)=>{let n,i={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(a):a(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,l=new Set,u=new Set,d=i.storage;if(!d)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...e)},a,s);let f=()=>{let e=i.partialize({...a()});return d.setItem(i.name,{state:e,version:i.version})},m=s.setState;s.setState=(e,t)=>{m(e,t),f()};let h=e((...e)=>{r(...e),f()},a,s);s.getInitialState=()=>h;let p=()=>{var e,t;if(!d)return;o=!1,l.forEach(e=>{var t;return e(null!=(t=a())?t:h)});let s=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=a())?e:h))||void 0;return c(d.getItem.bind(d))(i.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];else{if(i.migrate)return[!0,i.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,o]=e;if(r(n=i.merge(o,null!=(t=a())?t:h),!0),s)return f()}).then(()=>{null==s||s(n,void 0),n=a(),o=!0,u.forEach(e=>e(n))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{i={...i,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},i.skipHydration||p(),n||h}})((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,login:async(t,r)=>{e({isLoading:!0});try{let a=await d.api.login(t,r);e({user:a.user,token:a.token,isAuthenticated:!0,isLoading:!1}),f.toast.success(`Bem-vindo, ${a.user.name}!`)}catch(t){throw e({isLoading:!1}),f.toast.error(t.message||"Erro ao fazer login"),t}},register:async(t,r,a,s)=>{e({isLoading:!0});try{let n=await d.api.register(t,r,a,s);e({user:n.user,token:n.token,isAuthenticated:!0,isLoading:!1}),f.toast.success(`Conta criada com sucesso, ${n.user.name}!`)}catch(t){throw e({isLoading:!1}),f.toast.error(t.message||"Erro ao criar conta"),t}},logout:()=>{e({user:null,token:null,isAuthenticated:!1}),f.toast.success("Logout realizado com sucesso")},checkAuth:async()=>{let{token:r}=t();if(!r)return void e({isAuthenticated:!1,user:null});e({isLoading:!0});try{let t=await d.api.getMe();e({user:t.user,isAuthenticated:!0,isLoading:!1})}catch(t){e({user:null,token:null,isAuthenticated:!1,isLoading:!1})}},updateUser:r=>{let{user:a}=t();a&&e({user:{...a,...r}})}}),{name:"auth-storage",partialize:e=>({token:e.token,user:e.user,isAuthenticated:e.isAuthenticated})}));e.s(["useAuthStore",0,m],14847)},50011,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useIntersection",{enumerable:!0,get:function(){return l}});let a=e.r(68196),s=e.r(50687),n="function"==typeof IntersectionObserver,i=new Map,o=[];function l({rootRef:e,rootMargin:t,disabled:r}){let l=r||!n,[u,c]=(0,a.useState)(!1),d=(0,a.useRef)(null),f=(0,a.useCallback)(e=>{d.current=e},[]);return(0,a.useEffect)(()=>{if(n){if(l||u)return;let r=d.current;if(r&&r.tagName)return function(e,t,r){let{id:a,observer:s,elements:n}=function(e){let t,r={root:e.root||null,margin:e.rootMargin||""},a=o.find(e=>e.root===r.root&&e.margin===r.margin);if(a&&(t=i.get(a)))return t;let s=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=s.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:s},o.push(r),i.set(r,t),t}(r);return n.set(e,t),s.observe(e),function(){if(n.delete(e),s.unobserve(e),0===n.size){s.disconnect(),i.delete(a);let e=o.findIndex(e=>e.root===a.root&&e.margin===a.margin);e>-1&&o.splice(e,1)}}}(r,e=>e&&c(e),{root:e?.current,rootMargin:t})}else if(!u){let e=(0,s.requestIdleCallback)(()=>c(!0));return()=>(0,s.cancelIdleCallback)(e)}},[l,t,e,u,d.current]),[f,u,(0,a.useCallback)(()=>{c(!1)},[])]}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},93283,(e,t,r)=>{"use strict";function a(e,t,r,a){return!1}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getDomainLocale",{enumerable:!0,get:function(){return a}}),e.r(2151),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},27093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=e.r(68196);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,a)),t&&(s.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},90701,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},84400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return C},useLinkStatus:function(){return w}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(21067),i=e.r(43935),o=n._(e.r(68196)),l=e.r(67056),u=e.r(51003),c=e.r(60782),d=e.r(28556),f=e.r(89080),m=e.r(71017),h=e.r(50011),p=e.r(93283),g=e.r(38277),v=e.r(27093);e.r(90701);let x=new Set;function y(e,t,r,a){if(!("u"<typeof window)&&(0,u.isLocalURL)(t)){if(!a.bypassPrefetchedCheck){let s=t+"%"+r+"%"+(void 0!==a.locale?a.locale:"locale"in e?e.locale:void 0);if(x.has(s))return;x.add(s)}e.prefetch(t,r,a).catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,c.formatUrl)(e)}let j=o.default.forwardRef(function(e,t){let r,a,{href:s,as:n,children:c,prefetch:x=null,passHref:j,replace:S,shallow:w,scroll:C,locale:k,onClick:N,onNavigate:E,onMouseEnter:D,onTouchStart:O,legacyBehavior:_=!1,...P}=e;r=c,_&&("string"==typeof r||"number"==typeof r)&&(r=(0,i.jsx)("a",{children:r}));let z=o.default.useContext(m.RouterContext),M=!1!==x,{href:I,as:T}=o.default.useMemo(()=>{if(!z){let e=b(s);return{href:e,as:n?b(n):e}}let[e,t]=(0,l.resolveHref)(z,s,!0);return{href:e,as:n?(0,l.resolveHref)(z,n):t||e}},[z,s,n]),A=o.default.useRef(I),L=o.default.useRef(T);_&&(a=o.default.Children.only(r));let R=_?a&&"object"==typeof a&&a.ref:t,[B,H,U]=(0,h.useIntersection)({rootMargin:"200px"}),F=o.default.useCallback(e=>{(L.current!==T||A.current!==I)&&(U(),L.current=T,A.current=I),B(e)},[T,I,U,B]),$=(0,v.useMergedRef)(F,R);o.default.useEffect(()=>{!z||H&&M&&y(z,I,T,{locale:k})},[T,I,H,k,M,z?.locale,z]);let V={ref:$,onClick(e){_||"function"!=typeof N||N(e),_&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(e),!z||e.defaultPrevented||function(e,t,r,a,s,n,i,o,l){let c,{nodeName:d}=e.currentTarget;if(!("A"===d.toUpperCase()&&((c=e.currentTarget.getAttribute("target"))&&"_self"!==c||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which)||e.currentTarget.hasAttribute("download"))){if(!(0,u.isLocalURL)(r)){s&&(e.preventDefault(),location.replace(r));return}e.preventDefault(),(()=>{if(l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let e=i??!0;"beforePopState"in t?t[s?"replace":"push"](r,a,{shallow:n,locale:o,scroll:e}):t[s?"replace":"push"](a||r,{scroll:e})})()}}(e,z,I,T,S,w,C,k,E)},onMouseEnter(e){_||"function"!=typeof D||D(e),_&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),z&&y(z,I,T,{locale:k,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){_||"function"!=typeof O||O(e),_&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),z&&y(z,I,T,{locale:k,priority:!0,bypassPrefetchedCheck:!0})}};if((0,d.isAbsoluteUrl)(T))V.href=T;else if(!_||j||"a"===a.type&&!("href"in a.props)){let e=void 0!==k?k:z?.locale;V.href=z?.isLocaleDomain&&(0,p.getDomainLocale)(T,e,z?.locales,z?.domainLocales)||(0,g.addBasePath)((0,f.addLocale)(T,e,z?.defaultLocale))}return _?o.default.cloneElement(a,V):(0,i.jsx)("a",{...P,...V,children:r})}),S=(0,o.createContext)({pending:!1}),w=()=>(0,o.useContext)(S),C=j;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},83786,(e,t,r)=>{t.exports=e.r(84400)},21666,e=>{"use strict";let t=(0,e.i(40895).default)("book-open-check",[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]]);e.s(["BookOpenCheck",()=>t],21666)},39918,e=>{"use strict";var t=e.i(43935),r=e.i(68196),a=e.i(93639),s=e.i(83786),n=e.i(38334),i=e.i(51814),o=e.i(50077),l=e.i(97219),u=e.i(2602),c=e.i(20826),d=e.i(60949),f=e.i(21666),m=e.i(18931);let h=(0,e.i(40895).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var p=e.i(93475),g=e.i(56419),v=e.i(46758),x=e.i(127),y=e.i(64703),b=e.i(14847),j=e.i(59426),S=e.i(9169);function w(){let e=(0,a.useRouter)(),{user:w}=(0,b.useAuthStore)(),[C,k]=(0,r.useState)([]),[N,E]=(0,r.useState)(!0),[D,O]=(0,r.useState)({}),[_,P]=(0,r.useState)(!1),[z,M]=(0,r.useState)(""),[I,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{A()},[w?.clinicId]);let A=async()=>{if(!w?.clinicId)return void E(!1);try{E(!0);let e=await y.api.getDossiers(w.clinicId);for(let t of(k(e),e))try{let e=await y.api.getDossierReports(t.id);O(r=>({...r,[t.id]:e}))}catch(e){}}catch(e){console.error("Erro ao carregar dossiês:",e)}finally{E(!1)}},L=async()=>{if(!z.trim())return void S.toast.error("Digite o título do dossiê");if(!w?.clinicId)return void S.toast.error("Selecione uma clínica primeiro");T(!0);try{let t=await (0,j.createDossier)(w.clinicId,z.trim());M(""),P(!1),S.toast.success("Dossiê criado com sucesso!"),e.push(`/dossie/${t.id}/identity`),await A()}catch(e){console.error("Erro ao criar dossiê:",e),S.toast.error(e.message||"Erro ao criar dossiê")}finally{T(!1)}};return N?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)(x.Loader2,{className:"size-8 animate-spin text-teal-600"})}):(0,t.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Centro de Documentação Estratégica"}),(0,t.jsx)("p",{className:"text-slate-500 mt-1 max-w-2xl",children:"Gerencie seus dossiês estratégicos e visualize os relatórios gerados por IA para cada seção. Documente o negócio da sua clínica de forma estruturada e gere documentos formais."})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(l.Dialog,{open:_,onOpenChange:P,children:[(0,t.jsx)(l.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"bg-teal-600 hover:bg-teal-700 text-white shadow-md shadow-teal-200/50",children:[(0,t.jsx)(m.Plus,{className:"mr-2 size-4"}),"Novo Dossiê"]})}),(0,t.jsxs)(l.DialogContent,{children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{children:"Criar Novo Dossiê"}),(0,t.jsx)(l.DialogDescription,{children:"Crie um novo dossiê para documentar a estratégia da clínica. Cada dossiê representa um snapshot no tempo."})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{htmlFor:"dossier-title",children:"Título do Dossiê"}),(0,t.jsx)(u.Input,{id:"dossier-title",value:z,onChange:e=>M(e.target.value),placeholder:"Ex: Dossiê 2026 - Q1",onKeyDown:e=>{"Enter"===e.key&&L()}})]})}),(0,t.jsxs)(l.DialogFooter,{children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>P(!1),children:"Cancelar"}),(0,t.jsx)(i.Button,{onClick:L,disabled:I,children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Loader2,{className:"mr-2 size-4 animate-spin"}),"Criando..."]}):"Criar Dossiê"})]})]})]})})]}),0===C.length?(0,t.jsx)(n.Card,{className:"border-dashed",children:(0,t.jsxs)(n.CardContent,{className:"text-center py-12",children:[(0,t.jsx)(f.BookOpenCheck,{className:"size-16 mx-auto mb-4 text-slate-400"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum dossiê criado"}),(0,t.jsx)("p",{className:"text-slate-500 mb-6",children:"Comece criando um novo dossiê para documentar o negócio da sua clínica."}),(0,t.jsxs)(i.Button,{onClick:()=>P(!0),children:[(0,t.jsx)(m.Plus,{className:"mr-2 size-4"}),"Criar Primeiro Dossiê"]})]})}):(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:C.map(e=>{let r=D[e.id]||[],a=r.some(e=>e.has_report),l=r.filter(e=>"stale"===e.report_status).length,u=r.filter(e=>"generated"===e.report_status).length;return(0,t.jsxs)(n.Card,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.BookOpenCheck,{className:"size-5 text-teal-600"}),e.title]}),(0,t.jsxs)(n.CardDescription,{className:"mt-1",children:["Criado em ",new Date(e.created_at).toLocaleDateString("pt-PT")]})]}),(e=>{switch(e){case"finalized":return(0,t.jsxs)(o.Badge,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[(0,t.jsx)(p.CheckCircle2,{className:"size-3 mr-1"}),"Finalizado"]});case"archived":return(0,t.jsxs)(o.Badge,{variant:"outline",children:[(0,t.jsx)(g.Clock,{className:"size-3 mr-1"}),"Arquivado"]});default:return(0,t.jsxs)(o.Badge,{variant:"outline",children:[(0,t.jsx)(g.Clock,{className:"size-3 mr-1"}),"Em Edição"]})}})(e.status)]})}),(0,t.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Relatórios gerados:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[u," de ",r.length]})]}),l>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-amber-600",children:[(0,t.jsx)(v.AlertCircle,{className:"size-4"}),(0,t.jsxs)("span",{children:[l," relatório(s) desatualizado(s)"]})]})]}),r.length>0&&(0,t.jsxs)("div",{className:"space-y-1 pt-2 border-t",children:[r.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-slate-600 truncate",children:e.section_name}),(e=>{if(!e)return(0,t.jsx)(o.Badge,{variant:"outline",className:"text-xs",children:"Não gerado"});switch(e){case"generated":return(0,t.jsx)(o.Badge,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs",children:"Gerado"});case"stale":return(0,t.jsx)(o.Badge,{className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 text-xs",children:"Desatualizado"});case"error":return(0,t.jsx)(o.Badge,{className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 text-xs",children:"Erro"});default:return null}})(e.report_status)]},e.section_code)),r.length>3&&(0,t.jsxs)("div",{className:"text-xs text-slate-500 pt-1",children:["+",r.length-3," mais seções"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)(i.Button,{asChild:!0,variant:"outline",className:"flex-1",children:(0,t.jsxs)(s.default,{href:`/dossie/${e.id}/identity`,children:["Abrir Dossiê",(0,t.jsx)(h,{className:"ml-2 size-4"})]})}),a&&(0,t.jsx)(i.Button,{asChild:!0,variant:"ghost",size:"sm",children:(0,t.jsx)(s.default,{href:`/dossie/${e.id}/relatorios`,children:(0,t.jsx)(d.FileText,{className:"size-4"})})})]})]})]},e.id)})}),(0,t.jsxs)(n.Card,{className:"mt-6 border-teal-100 bg-teal-50/50",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsxs)(n.CardTitle,{className:"flex items-center gap-2 text-teal-900",children:[(0,t.jsx)(d.FileText,{className:"size-5"}),"Sobre o Sistema de Documentação"]})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsxs)("p",{className:"text-slate-700 leading-relaxed",children:["Este sistema permite ",(0,t.jsx)("strong",{children:"documentar e estruturar"})," o pensamento estratégico da sua clínica. Cada dossiê contém seções para Identidade, Mercado, Oferta, Operações, Estratégia e Plano. Você pode preencher questionários, cadastrar entidades estruturadas e gerar relatórios descritivos via IA. O sistema gera documentos formais que podem ser exportados em PDF."]})})]})]})}e.s(["default",()=>w],39918)},74456,(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",()=>e.r(39918)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push(["/"])})},64270,e=>{e.v(t=>Promise.all(["static/chunks/4ddff7bfb1602969.js"].map(t=>e.l(t))).then(()=>t(71742)))},69238,e=>{e.v(t=>Promise.all(["static/chunks/fd5ef8daa941afe5.js"].map(t=>e.l(t))).then(()=>t(38426)))},22499,e=>{e.v(e=>Promise.resolve().then(()=>e(14847)))}]);