{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/hooks/useSectionData.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport {\r\n  getSectionData,\r\n  calculateSectionCompletion,\r\n  type SectionData,\r\n} from '@/services/dossierService'\r\nimport { toast } from 'sonner'\r\n\r\nexport function useSectionData(dossierId: string | undefined, sectionCode: string) {\r\n  const [sectionData, setSectionData] = useState<SectionData | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<Error | null>(null)\r\n  const [completionPercent, setCompletionPercent] = useState(0)\r\n\r\n  const refetch = async () => {\r\n    if (!dossierId) return\r\n\r\n    setLoading(true)\r\n    setError(null)\r\n    try {\r\n      const data = await getSectionData(dossierId, sectionCode)\r\n      setSectionData(data)\r\n\r\n      // Calcular completude\r\n      const percent = await calculateSectionCompletion(dossierId, sectionCode)\r\n      setCompletionPercent(percent)\r\n    } catch (err) {\r\n      const error = err instanceof Error ? err : new Error('Erro ao carregar dados da se√ß√£o')\r\n      setError(error)\r\n      console.error('Erro ao carregar dados da se√ß√£o:', err)\r\n      toast.error('Erro ao carregar dados da se√ß√£o')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (dossierId) {\r\n      refetch()\r\n    } else {\r\n      setLoading(false)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dossierId, sectionCode])\r\n\r\n  return {\r\n    sectionData,\r\n    loading,\r\n    error,\r\n    completionPercent,\r\n    refetch,\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAKA;;;;;;;;AAEO,SAAS,eAAe,SAA6B,EAAE,WAAmB;IAC/E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+GAAQ,EAAqB;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAe;IACjD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,+GAAQ,EAAC;IAE3D,MAAM,UAAU;QACd,IAAI,CAAC,WAAW;QAEhB,WAAW;QACX,SAAS;QACT,IAAI;YACF,MAAM,OAAO,MAAM,IAAA,4LAAc,EAAC,WAAW;YAC7C,eAAe;YAEf,sBAAsB;YACtB,MAAM,UAAU,MAAM,IAAA,wMAA0B,EAAC,WAAW;YAC5D,qBAAqB;QACvB,EAAE,OAAO,KAAK;YACZ,MAAM,QAAQ,eAAe,QAAQ,MAAM,IAAI,MAAM;YACrD,SAAS;YACT,QAAQ,KAAK,CAAC,oCAAoC;YAClD,kVAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,gHAAS,EAAC;QACR,IAAI,WAAW;YACb;QACF,OAAO;YACL,WAAW;QACb;IACA,uDAAuD;IACzD,GAAG;QAAC;QAAW;KAAY;IAE3B,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/hooks/useSectionReport.ts"],"sourcesContent":["import { useState, useEffect, useRef } from 'react'\r\nimport { api } from '@/lib/api'\r\nimport { toast } from 'sonner'\r\n\r\nexport function useSectionReport(dossierId: string | undefined, sectionCode: string) {\r\n  const [report, setReport] = useState<any | null>(null)\r\n  const [loadingReport, setLoadingReport] = useState(false)\r\n  const [generatingReport, setGeneratingReport] = useState(false)\r\n  const hasFetchedRef = useRef(false)\r\n\r\n  const refetchReport = async () => {\r\n    if (!dossierId) return\r\n\r\n    setLoadingReport(true)\r\n    try {\r\n      const reportData = await api.getSectionReport(dossierId, sectionCode)\r\n      setReport(reportData)\r\n      hasFetchedRef.current = true\r\n    } catch (error: any) {\r\n      // Tratar tanto 404 quanto 500 como \"relat√≥rio n√£o encontrado\"\r\n      if (\r\n        error.message?.includes('404') || \r\n        error.message?.includes('500') ||\r\n        error.message?.includes('n√£o gerado') ||\r\n        error.message?.includes('n√£o encontrado') ||\r\n        error.message?.includes('Internal Server Error')\r\n      ) {\r\n        setReport(null)\r\n        hasFetchedRef.current = true\r\n      } else {\r\n        console.error('Erro ao carregar relat√≥rio:', error)\r\n      }\r\n    } finally {\r\n      setLoadingReport(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Resetar flag quando dossierId ou sectionCode mudarem\r\n    hasFetchedRef.current = false\r\n    \r\n    if (dossierId) {\r\n      refetchReport()\r\n    }\r\n  }, [dossierId, sectionCode])\r\n\r\n  const handleGenerateReport = async () => {\r\n    if (!dossierId) return\r\n\r\n    setGeneratingReport(true)\r\n    try {\r\n      const newReport = await api.generateSectionReport(dossierId, sectionCode)\r\n      setReport(newReport)\r\n      hasFetchedRef.current = true\r\n      toast.success('Relat√≥rio gerado com sucesso!')\r\n    } catch (error: any) {\r\n      console.error('Erro ao gerar relat√≥rio:', error)\r\n      \r\n      // Extrair mensagem de erro mais detalhada\r\n      let errorMessage = 'Erro ao gerar relat√≥rio'\r\n      if (error.message) {\r\n        errorMessage = error.message\r\n      } else if (error.response?.data?.message) {\r\n        errorMessage = error.response.data.message\r\n      } else if (typeof error === 'string') {\r\n        errorMessage = error\r\n      }\r\n      \r\n      // Se o relat√≥rio foi salvo com status 'error', carregar para exibir\r\n      try {\r\n        const errorReport = await api.getSectionReport(dossierId, sectionCode)\r\n        if (errorReport?.status === 'error') {\r\n          setReport(errorReport)\r\n        }\r\n      } catch {\r\n        // Ignorar erro ao buscar relat√≥rio de erro\r\n      }\r\n      \r\n      toast.error(errorMessage)\r\n    } finally {\r\n      setGeneratingReport(false)\r\n    }\r\n  }\r\n\r\n  return {\r\n    report,\r\n    loadingReport,\r\n    generatingReport,\r\n    handleGenerateReport,\r\n    refetchReport,\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;AAEO,SAAS,iBAAiB,SAA6B,EAAE,WAAmB;IACjF,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAa;IACjD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,+GAAQ,EAAC;IACnD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,+GAAQ,EAAC;IACzD,MAAM,gBAAgB,IAAA,6GAAM,EAAC;IAE7B,MAAM,gBAAgB;QACpB,IAAI,CAAC,WAAW;QAEhB,iBAAiB;QACjB,IAAI;YACF,MAAM,aAAa,MAAM,iKAAG,CAAC,gBAAgB,CAAC,WAAW;YACzD,UAAU;YACV,cAAc,OAAO,GAAG;QAC1B,EAAE,OAAO,OAAY;YACnB,8DAA8D;YAC9D,IACE,MAAM,OAAO,EAAE,SAAS,UACxB,MAAM,OAAO,EAAE,SAAS,UACxB,MAAM,OAAO,EAAE,SAAS,iBACxB,MAAM,OAAO,EAAE,SAAS,qBACxB,MAAM,OAAO,EAAE,SAAS,0BACxB;gBACA,UAAU;gBACV,cAAc,OAAO,GAAG;YAC1B,OAAO;gBACL,QAAQ,KAAK,CAAC,+BAA+B;YAC/C;QACF,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,IAAA,gHAAS,EAAC;QACR,uDAAuD;QACvD,cAAc,OAAO,GAAG;QAExB,IAAI,WAAW;YACb;QACF;IACF,GAAG;QAAC;QAAW;KAAY;IAE3B,MAAM,uBAAuB;QAC3B,IAAI,CAAC,WAAW;QAEhB,oBAAoB;QACpB,IAAI;YACF,MAAM,YAAY,MAAM,iKAAG,CAAC,qBAAqB,CAAC,WAAW;YAC7D,UAAU;YACV,cAAc,OAAO,GAAG;YACxB,kVAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,4BAA4B;YAE1C,0CAA0C;YAC1C,IAAI,eAAe;YACnB,IAAI,MAAM,OAAO,EAAE;gBACjB,eAAe,MAAM,OAAO;YAC9B,OAAO,IAAI,MAAM,QAAQ,EAAE,MAAM,SAAS;gBACxC,eAAe,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO;YAC5C,OAAO,IAAI,OAAO,UAAU,UAAU;gBACpC,eAAe;YACjB;YAEA,oEAAoE;YACpE,IAAI;gBACF,MAAM,cAAc,MAAM,iKAAG,CAAC,gBAAgB,CAAC,WAAW;gBAC1D,IAAI,aAAa,WAAW,SAAS;oBACnC,UAAU;gBACZ;YACF,EAAE,OAAM;YACN,2CAA2C;YAC7C;YAEA,kVAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,oBAAoB;QACtB;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/ui/card.tsx"],"sourcesContent":["/* Card Component primitives - A component that displays a card - from shadcn/ui (exposes Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent) */\r\nimport * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      'rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-250',\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = 'Card'\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = 'CardHeader'\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      'text-2xl font-semibold leading-none tracking-tight',\r\n      className,\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = 'CardTitle'\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('text-sm text-muted-foreground', className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = 'CardDescription'\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\r\n))\r\nCardContent.displayName = 'CardContent'\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn('flex items-center p-6 pt-0', className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = 'CardFooter'\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iKAAiK,GACjK;AAEA;;;;;;;;AAEA,MAAM,qBAAO,iHAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kKAAE,EACX,wFACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,iHAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,iHAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kKAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,iHAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,iHAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kKAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,iHAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC;QACC,KAAK;QACL,WAAW,IAAA,kKAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/ui/accordion.tsx"],"sourcesContent":["/* Accordion Component primitives - A component that displays a list of items in an accordion - from shadcn/ui (exposes Accordion, AccordionItem, AccordionTrigger, AccordionContent) */\r\nimport * as React from 'react'\r\nimport * as AccordionPrimitive from '@radix-ui/react-accordion'\r\nimport { ChevronDown } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst Accordion = AccordionPrimitive.Root\r\n\r\nconst AccordionItem = React.forwardRef<\r\n  React.ElementRef<typeof AccordionPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\r\n>(({ className, ...props }, ref) => (\r\n  <AccordionPrimitive.Item\r\n    ref={ref}\r\n    className={cn('border-b', className)}\r\n    {...props}\r\n  />\r\n))\r\nAccordionItem.displayName = 'AccordionItem'\r\n\r\nconst AccordionTrigger = React.forwardRef<\r\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\r\n>(({ className, children, ...props }, ref) => (\r\n  <AccordionPrimitive.Header className=\"flex\">\r\n    <AccordionPrimitive.Trigger\r\n      ref={ref}\r\n      className={cn(\r\n        'flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\r\n    </AccordionPrimitive.Trigger>\r\n  </AccordionPrimitive.Header>\r\n))\r\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\r\n\r\nconst AccordionContent = React.forwardRef<\r\n  React.ElementRef<typeof AccordionPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <AccordionPrimitive.Content\r\n    ref={ref}\r\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\r\n    {...props}\r\n  >\r\n    <div className={cn('pb-4 pt-0', className)}>{children}</div>\r\n  </AccordionPrimitive.Content>\r\n))\r\n\r\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\r\n\r\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA,sLAAsL,GACtL;AACA;AACA;AAEA;;;;;;;;;;;AAEA,MAAM,YAAY,4fAAuB;AAEzC,MAAM,8BAAgB,iHAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qKAAC,4fAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kKAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,iHAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,qKAAC,8fAAyB;QAAC,WAAU;kBACnC,cAAA,qKAAC,+fAA0B;YACzB,KAAK;YACL,WAAW,IAAA,kKAAE,EACX,gIACA;YAED,GAAG,KAAK;;gBAER;8BACD,qKAAC,gWAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,iBAAiB,WAAW,GAAG,+fAA0B,CAAC,WAAW;AAErE,MAAM,iCAAmB,iHAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,qKAAC,+fAA0B;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,qKAAC;YAAI,WAAW,IAAA,kKAAE,EAAC,aAAa;sBAAa;;;;;;;;;;;AAIjD,iBAAiB,WAAW,GAAG,+fAA0B,CAAC,WAAW"}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/ui/textarea.tsx"],"sourcesContent":["/* Textarea Component - A component that displays a textarea - from shadcn/ui (exposes Textarea) */\r\nimport * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst Textarea = React.forwardRef<\r\n  HTMLTextAreaElement,\r\n  React.ComponentProps<'textarea'>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <textarea\r\n      className={cn(\r\n        'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n        className,\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  )\r\n})\r\nTextarea.displayName = 'Textarea'\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA,iGAAiG,GACjG;AAEA;;;;;;;;AAEA,MAAM,yBAAW,iHAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,qKAAC;QACC,WAAW,IAAA,kKAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/ui/radio-group.tsx"],"sourcesContent":["/* Radio Group Component primitives - A component that displays a radio group - from shadcn/ui (exposes RadioGroup, RadioGroupItem) */\r\nimport * as React from 'react'\r\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group'\r\nimport { Circle } from 'lucide-react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst RadioGroup = React.forwardRef<\r\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <RadioGroupPrimitive.Root\r\n      className={cn('grid gap-2', className)}\r\n      {...props}\r\n      ref={ref}\r\n    />\r\n  )\r\n})\r\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\r\n\r\nconst RadioGroupItem = React.forwardRef<\r\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <RadioGroupPrimitive.Item\r\n      ref={ref}\r\n      className={cn(\r\n        'aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\r\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\r\n      </RadioGroupPrimitive.Indicator>\r\n    </RadioGroupPrimitive.Item>\r\n  )\r\n})\r\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\r\n\r\nexport { RadioGroup, RadioGroupItem }\r\n"],"names":[],"mappings":";;;;;;;AAAA,oIAAoI,GACpI;AACA;AACA;AAEA;;;;;;;;;;;AAEA,MAAM,2BAAa,iHAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,qKAAC,8gBAAwB;QACvB,WAAW,IAAA,kKAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;AACA,WAAW,WAAW,GAAG,8gBAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,iHAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,qKAAC,8gBAAwB;QACvB,KAAK;QACL,WAAW,IAAA,kKAAE,EACX,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,qKAAC,mhBAA6B;YAAC,WAAU;sBACvC,cAAA,qKAAC,6UAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;AACA,eAAe,WAAW,GAAG,8gBAAwB,CAAC,WAAW"}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/dossier/QuestionRenderer.tsx"],"sourcesContent":["import { Input } from '@/components/ui/input'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Label } from '@/components/ui/label'\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group'\r\nimport type { Question } from '@/services/dossierService'\r\n\r\ninterface QuestionRendererProps {\r\n  question: Question\r\n  answer: {\r\n    valueText?: string\r\n    valueNumber?: number\r\n    valueJson?: any\r\n  }\r\n  onChange: (value: any) => void\r\n}\r\n\r\nexport default function QuestionRenderer({\r\n  question,\r\n  answer,\r\n  onChange,\r\n}: QuestionRendererProps) {\r\n  switch (question.type) {\r\n    case 'textarea':\r\n      // Placeholder customizado para perguntas espec√≠ficas\r\n      let placeholder = question.help_text || ''\r\n      if (question.code === 'IDENTITY_REASON') {\r\n        placeholder = 'Escreva aqui, com suas pr√≥prias palavras, por que sua cl√≠nica existe e que transforma√ß√£o real ela gera na vida dos pacientes‚Ä¶'\r\n      } else if (question.code === 'IDENTITY_RECOGNITION_GOAL') {\r\n        placeholder = 'Escreva aqui, com suas pr√≥prias palavras, como voc√™ quer que sua cl√≠nica seja conhecida e lembrada daqui a 3 anos‚Ä¶'\r\n      }\r\n      \r\n      return (\r\n        <Textarea\r\n          value={answer.valueText || ''}\r\n          onChange={(e) =>\r\n            onChange({\r\n              ...answer,\r\n              valueText: e.target.value,\r\n            })\r\n          }\r\n          placeholder={placeholder}\r\n          className=\"min-h-[100px]\"\r\n        />\r\n      )\r\n\r\n    case 'single_select':\r\n      return (\r\n        <RadioGroup\r\n          value={answer.valueText || ''}\r\n          onValueChange={(value) =>\r\n            onChange({\r\n              ...answer,\r\n              valueText: value,\r\n            })\r\n          }\r\n        >\r\n          {question.options?.map((option) => (\r\n            <div key={option.id} className=\"flex items-center space-x-2\">\r\n              <RadioGroupItem value={option.value} id={option.id} />\r\n              <Label htmlFor={option.id} className=\"cursor-pointer\">\r\n                {option.label}\r\n              </Label>\r\n            </div>\r\n          ))}\r\n        </RadioGroup>\r\n      )\r\n\r\n    default:\r\n      return (\r\n        <Input\r\n          value={answer.valueText || ''}\r\n          onChange={(e) =>\r\n            onChange({\r\n              ...answer,\r\n              valueText: e.target.value,\r\n            })\r\n          }\r\n          placeholder={question.help_text}\r\n        />\r\n      )\r\n  }\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;AAae,SAAS,iBAAiB,EACvC,QAAQ,EACR,MAAM,EACN,QAAQ,EACc;IACtB,OAAQ,SAAS,IAAI;QACnB,KAAK;YACH,qDAAqD;YACrD,IAAI,cAAc,SAAS,SAAS,IAAI;YACxC,IAAI,SAAS,IAAI,KAAK,mBAAmB;gBACvC,cAAc;YAChB,OAAO,IAAI,SAAS,IAAI,KAAK,6BAA6B;gBACxD,cAAc;YAChB;YAEA,qBACE,qKAAC,yLAAQ;gBACP,OAAO,OAAO,SAAS,IAAI;gBAC3B,UAAU,CAAC,IACT,SAAS;wBACP,GAAG,MAAM;wBACT,WAAW,EAAE,MAAM,CAAC,KAAK;oBAC3B;gBAEF,aAAa;gBACb,WAAU;;;;;;QAIhB,KAAK;YACH,qBACE,qKAAC,iMAAU;gBACT,OAAO,OAAO,SAAS,IAAI;gBAC3B,eAAe,CAAC,QACd,SAAS;wBACP,GAAG,MAAM;wBACT,WAAW;oBACb;0BAGD,SAAS,OAAO,EAAE,IAAI,CAAC,uBACtB,qKAAC;wBAAoB,WAAU;;0CAC7B,qKAAC,qMAAc;gCAAC,OAAO,OAAO,KAAK;gCAAE,IAAI,OAAO,EAAE;;;;;;0CAClD,qKAAC,mLAAK;gCAAC,SAAS,OAAO,EAAE;gCAAE,WAAU;0CAClC,OAAO,KAAK;;;;;;;uBAHP,OAAO,EAAE;;;;;;;;;;QAU3B;YACE,qBACE,qKAAC,mLAAK;gBACJ,OAAO,OAAO,SAAS,IAAI;gBAC3B,UAAU,CAAC,IACT,SAAS;wBACP,GAAG,MAAM;wBACT,WAAW,EAAE,MAAM,CAAC,KAAK;oBAC3B;gBAEF,aAAa,SAAS,SAAS;;;;;;IAGvC;AACF"}},
    {"offset": {"line": 550, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/lib/identity-questions-context.ts"],"sourcesContent":["// Contexto completo das perguntas da se√ß√£o Identidade\r\n// Serve como guia para o usu√°rio responder cada pergunta\r\n\r\nexport interface QuestionContext {\r\n  why: string // Por que estamos perguntando isso\r\n  howToAnswer?: string // Como responder bem\r\n  goodExamples?: string[] // Exemplos bons\r\n  badExamples?: string[] // Exemplos ruins\r\n  consequences?: string[] // O que acontece sem isso\r\n}\r\n\r\nexport const identityQuestionsContext: Record<string, QuestionContext> = {\r\n  IDENTITY_REASON: {\r\n    why: 'Essa √© a b√∫ssola moral e estrat√©gica da cl√≠nica. Uma cl√≠nica sem prop√≥sito claro tende a: aceitar qualquer tipo de paciente, fazer qualquer tipo de procedimento, tomar decis√µes s√≥ por dinheiro (n√£o por dire√ß√£o), e perder identidade, foco e diferencia√ß√£o ao longo do tempo. O prop√≥sito serve como crit√©rio de decis√£o, define quem voc√™ ajuda de verdade, define o que voc√™ aceita e o que voc√™ recusa fazer, e d√° coer√™ncia para toda a estrat√©gia.',\r\n    consequences: [\r\n      'Aceitar qualquer tipo de paciente',\r\n      'Fazer qualquer tipo de procedimento',\r\n      'Tomar decis√µes s√≥ por dinheiro, n√£o por dire√ß√£o',\r\n      'Perder identidade, foco e diferencia√ß√£o ao longo do tempo',\r\n    ],\r\n    howToAnswer: 'Pense: ‚ùå N√£o no procedimento ‚úÖ No resultado na vida do paciente. Complete mentalmente a frase: \"Depois de passar pela nossa cl√≠nica, a vida do paciente √© diferente porque‚Ä¶\" Boas respostas geralmente: falam de transforma√ß√£o humana, falam de impacto real, n√£o falam de tecnologia/tecnicas/especialidades, n√£o parecem texto de marketing.',\r\n    goodExamples: [\r\n      'Existimos para devolver √†s pessoas a confian√ßa em sorrir, comer e viver bem, ajudando pacientes que j√° perderam a esperan√ßa a recuperar n√£o s√≥ a fun√ß√£o mastigat√≥ria, mas tamb√©m a autoestima, a seguran√ßa e a vontade de se relacionar, atrav√©s de tratamentos √©ticos, humanos e duradouros.',\r\n      'Nossa cl√≠nica existe para transformar hist√≥rias de frustra√ß√£o com a pr√≥pria sa√∫de bucal em hist√≥rias de reconquista de qualidade de vida, seguran√ßa pessoal e bem-estar, cuidando de cada paciente como um projeto √∫nico, e n√£o como um procedimento isolado.',\r\n    ],\r\n    badExamples: [\r\n      'Oferecer odontologia de qualidade com excel√™ncia e tecnologia.',\r\n      'Atender nossos pacientes da melhor forma poss√≠vel.',\r\n      'Ser refer√™ncia em tratamentos odontol√≥gicos.',\r\n      'Cuidar do sorriso das pessoas.',\r\n    ],\r\n  },\r\n  IDENTITY_RECOGNITION_GOAL: {\r\n    why: 'Essa pergunta define para onde voc√™ est√° levando o neg√≥cio. Sem uma vis√£o clara: a cl√≠nica cresce \"para qualquer lado\", aceita qualquer tipo de projeto/parceria/paciente, compra equipamentos e contrata pessoas sem crit√©rio estrat√©gico, e confunde crescimento com progresso. A vis√£o serve como filtro de decis√£o, define o que voc√™ vai construir (e o que n√£o vai), d√° dire√ß√£o para investimentos/marketing/estrutura, e cria coer√™ncia entre o hoje e o futuro desejado.',\r\n    consequences: [\r\n      'A cl√≠nica cresce \"para qualquer lado\"',\r\n      'Aceita qualquer tipo de projeto, parceria ou paciente',\r\n      'Compra equipamentos e contrata pessoas sem crit√©rio estrat√©gico',\r\n      'Confunde crescimento com progresso',\r\n    ],\r\n    howToAnswer: 'Pense menos em: ‚ùå Tamanho ‚ùå Faturamento ‚ùå Quantidade de unidades. E mais em: ‚úÖ Reputa√ß√£o ‚úÖ Tipo de problema que voc√™ resolve ‚úÖ Como as pessoas descrevem voc√™ para outras. Complete mentalmente: \"Essa √© aquela cl√≠nica que‚Ä¶\" Boas respostas: falam de posi√ß√£o no mercado (n√£o de vaidade), falam de tipo de caso resolvido (n√£o de tecnologia), falam de confian√ßa e reconhecimento (n√£o de n√∫meros), soam como algo que um paciente ou outro m√©dico diria.',\r\n    goodExamples: [\r\n      'Essa √© aquela cl√≠nica que resolve casos que ningu√©m mais resolve.',\r\n      'Essa √© a cl√≠nica mais confi√°vel para reabilita√ß√£o de coluna da cidade.',\r\n      'Essa √© a cl√≠nica onde todo mundo indica de olhos fechados.',\r\n    ],\r\n    badExamples: [\r\n      'Ser a maior rede de cl√≠nicas da regi√£o.',\r\n      'Ter faturamento de X milh√µes.',\r\n      'Ter 10 unidades em 3 anos.',\r\n      'Ser refer√™ncia em tecnologia de ponta.',\r\n    ],\r\n  },\r\n  IDENTITY_VALUES: {\r\n    why: 'Valores n√£o s√£o frases bonitas na parede. Eles s√£o crit√©rios de decis√£o dif√≠ceis.',\r\n    howToAnswer: 'Pense em situa√ß√µes reais: O que voc√™ n√£o aceitaria de um profissional? Que tipo de paciente voc√™ prefere perder do que atender mal?',\r\n    goodExamples: [\r\n      'Nunca prometer resultado que n√£o sabemos entregar.',\r\n      'Nunca tratar paciente com pressa ou descaso.',\r\n      'Nunca sacrificar qualidade t√©cnica por volume.',\r\n    ],\r\n  },\r\n  IDENTITY_PRIORITY_AUDIENCE: {\r\n    why: 'Toda estrat√©gia √© uma escolha e uma ren√∫ncia. Se voc√™ n√£o escolhe: sua agenda escolhe, o mercado escolhe, o acaso escolhe.',\r\n    howToAnswer: 'Escolha um foco principal. Diga tamb√©m qual tipo de paciente vai virar secund√°rio.',\r\n    goodExamples: [\r\n      'Vamos priorizar mulheres 40+ com dor cr√¥nica de coluna. Vamos deixar de focar em atendimentos r√°pidos e gen√©ricos de conv√™nio.',\r\n    ],\r\n  },\r\n  IDENTITY_PRICE_POSITIONING: {\r\n    why: 'Pre√ßo √© posicionamento estrat√©gico, n√£o s√≥ n√∫mero.',\r\n  },\r\n  IDENTITY_PRICE_POSITIONING_JUSTIFICATION: {\r\n    why: 'A justificativa do posicionamento de pre√ßo demonstra o valor real oferecido pela cl√≠nica.',\r\n  },\r\n  IDENTITY_STRATEGY_FOCUS: {\r\n    why: 'Essas duas estrat√©gias (volume vs. valor) exigem cl√≠nicas completamente diferentes.',\r\n  },\r\n  IDENTITY_STRATEGY_FOCUS_SECONDARY: {\r\n    why: 'O motor secund√°rio complementa a estrat√©gia principal e ajuda a balancear o crescimento.',\r\n  },\r\n  IDENTITY_STRATEGY_FOCUS_COMPLEMENT: {\r\n    why: 'Estrat√©gia sem mudan√ßa √© fantasia.',\r\n    howToAnswer: 'Divida em: Pessoas, Processos, Oferta/Servi√ßos',\r\n  },\r\n  IDENTITY_CRITICAL_ACTIONS: {\r\n    why: 'Isso define o que realmente importa na opera√ß√£o.',\r\n    goodExamples: [\r\n      'Garantir que todo paciente saia com plano claro de tratamento.',\r\n      'Reduzir faltas e abandono de tratamento.',\r\n      'Manter padr√£o t√©cnico alto em todas as sess√µes.',\r\n    ],\r\n  },\r\n  IDENTITY_KEY_CHARACTERISTICS: {\r\n    why: 'Isso define o jeito de ser da cl√≠nica, n√£o s√≥ o que ela faz.',\r\n    goodExamples: [\r\n      'Acolhedora, mas extremamente t√©cnica.',\r\n      'Pontual e organizada.',\r\n      'Exigente com resultado.',\r\n    ],\r\n  },\r\n  IDENTITY_WHAT_NOT_TO_BE: {\r\n    why: 'Toda boa estrat√©gia tem uma lista do que n√£o fazer.',\r\n  },\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA,sDAAsD;AACtD,yDAAyD;;;;;AAUlD,MAAM,2BAA4D;IACvE,iBAAiB;QACf,KAAK;QACL,cAAc;YACZ;YACA;YACA;YACA;SACD;QACD,aAAa;QACb,cAAc;YACZ;YACA;SACD;QACD,aAAa;YACX;YACA;YACA;YACA;SACD;IACH;IACA,2BAA2B;QACzB,KAAK;QACL,cAAc;YACZ;YACA;YACA;YACA;SACD;QACD,aAAa;QACb,cAAc;YACZ;YACA;YACA;SACD;QACD,aAAa;YACX;YACA;YACA;YACA;SACD;IACH;IACA,iBAAiB;QACf,KAAK;QACL,aAAa;QACb,cAAc;YACZ;YACA;YACA;SACD;IACH;IACA,4BAA4B;QAC1B,KAAK;QACL,aAAa;QACb,cAAc;YACZ;SACD;IACH;IACA,4BAA4B;QAC1B,KAAK;IACP;IACA,0CAA0C;QACxC,KAAK;IACP;IACA,yBAAyB;QACvB,KAAK;IACP;IACA,mCAAmC;QACjC,KAAK;IACP;IACA,oCAAoC;QAClC,KAAK;QACL,aAAa;IACf;IACA,2BAA2B;QACzB,KAAK;QACL,cAAc;YACZ;YACA;YACA;SACD;IACH;IACA,8BAA8B;QAC5B,KAAK;QACL,cAAc;YACZ;YACA;YACA;SACD;IACH;IACA,yBAAyB;QACvB,KAAK;IACP;AACF"}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/dossier/QuestionWizard.tsx"],"sourcesContent":["import { useState, useMemo, useEffect } from 'react'\r\nimport { ChevronLeft, ChevronRight, Info, CheckCircle2, XCircle, AlertTriangle, ArrowLeft } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n  Accordion,\r\n  AccordionContent,\r\n  AccordionItem,\r\n  AccordionTrigger,\r\n} from '@/components/ui/accordion'\r\nimport QuestionRenderer from './QuestionRenderer'\r\nimport { identityQuestionsContext, type QuestionContext } from '@/lib/identity-questions-context'\r\nimport type { Question, QuestionSet } from '@/services/dossierService'\r\nimport { fetchAPI } from '@/lib/api'\r\n\r\ninterface QuestionWizardProps {\r\n  questionSets: QuestionSet[]\r\n  answersMap: Record<string, any>\r\n  savingAnswers: Set<string>\r\n  onAnswerChange: (question: Question, value: any) => void\r\n  sectionCode?: string\r\n}\r\n\r\nexport default function QuestionWizard({\r\n  questionSets,\r\n  answersMap,\r\n  savingAnswers,\r\n  onAnswerChange,\r\n  sectionCode,\r\n}: QuestionWizardProps) {\r\n  // Estado para controlar navega√ß√£o hier√°rquica\r\n  const [selectedQuestionSetId, setSelectedQuestionSetId] = useState<string | null>(null)\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0)\r\n\r\n  // Ordenar questionSets por ordem (se houver)\r\n  const sortedQuestionSets = useMemo(() => {\r\n    return [...questionSets].sort((a, b) => {\r\n      // Se houver ordem nas perguntas, usar a primeira pergunta como refer√™ncia\r\n      const aFirstOrder = a.questions[0]?.order_index || 0\r\n      const bFirstOrder = b.questions[0]?.order_index || 0\r\n      return aFirstOrder - bFirstOrder\r\n    })\r\n  }, [questionSets])\r\n\r\n  // QuestionSet atual selecionado\r\n  const currentQuestionSet = selectedQuestionSetId\r\n    ? sortedQuestionSets.find((qs) => qs.id === selectedQuestionSetId)\r\n    : null\r\n\r\n  // Perguntas do questionSet atual, ordenadas\r\n  const currentQuestions = useMemo(() => {\r\n    if (!currentQuestionSet) return []\r\n    return [...currentQuestionSet.questions].sort(\r\n      (a, b) => a.order_index - b.order_index\r\n    )\r\n  }, [currentQuestionSet])\r\n\r\n  // Pergunta atual\r\n  const currentQuestion = currentQuestions[currentQuestionIndex]\r\n  const currentAnswer = currentQuestion ? answersMap[currentQuestion.id] || {} : {}\r\n  const isSaving = currentQuestion ? savingAnswers.has(currentQuestion.id) : false\r\n\r\n  // Estado para contexto da pergunta (buscar do banco)\r\n  const [questionContext, setQuestionContext] = useState<QuestionContext | undefined>(undefined)\r\n  const [loadingContext, setLoadingContext] = useState(false)\r\n\r\n  // Buscar contexto do banco de dados\r\n  useEffect(() => {\r\n    if (currentQuestion?.id) {\r\n      console.log('üîç Carregando contexto para pergunta:', currentQuestion.code, currentQuestion.id)\r\n      setLoadingContext(true)\r\n\r\n      fetchAPI(`/questions/${currentQuestion.id}/context`)\r\n        .then((data) => {\r\n          console.log('üì¶ Dados do contexto recebidos:', data)\r\n          if (data && Object.keys(data).length > 1) {\r\n            // Converter formato do banco para formato esperado\r\n            const context = {\r\n              why: data.why,\r\n              consequences: data.consequences,\r\n              howToAnswer: data.howToAnswer,\r\n              goodExamples: data.goodExamples,\r\n              badExamples: data.badExamples,\r\n            }\r\n            console.log('‚úÖ Contexto processado e definido:', context)\r\n            setQuestionContext(context)\r\n          } else {\r\n            console.log('‚ö†Ô∏è Contexto vazio do banco, usando fallback')\r\n            // Fallback para contexto hardcoded se n√£o houver no banco\r\n            if (sectionCode === 'IDENTITY' && currentQuestion?.code) {\r\n              const hardcodedContext = identityQuestionsContext[currentQuestion.code]\r\n              console.log('üìö Usando contexto hardcoded:', hardcodedContext ? 'encontrado' : 'n√£o encontrado')\r\n              setQuestionContext(hardcodedContext)\r\n            } else {\r\n              setQuestionContext(undefined)\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error('‚ùå Erro ao buscar contexto:', error)\r\n          // Em caso de erro, usar fallback hardcoded\r\n          if (sectionCode === 'IDENTITY' && currentQuestion?.code) {\r\n            const hardcodedContext = identityQuestionsContext[currentQuestion.code]\r\n            console.log('üìö Erro no fetch, usando contexto hardcoded:', hardcodedContext ? 'encontrado' : 'n√£o encontrado')\r\n            setQuestionContext(hardcodedContext)\r\n          } else {\r\n            setQuestionContext(undefined)\r\n          }\r\n        })\r\n        .finally(() => {\r\n          console.log('üèÅ Carregamento de contexto finalizado')\r\n          setLoadingContext(false)\r\n        })\r\n    } else {\r\n      setQuestionContext(undefined)\r\n    }\r\n  }, [currentQuestion?.id, currentQuestion?.code, sectionCode])\r\n\r\n  // Progresso dentro do questionSet atual\r\n  const questionProgress =\r\n    currentQuestions.length > 0\r\n      ? ((currentQuestionIndex + 1) / currentQuestions.length) * 100\r\n      : 0\r\n\r\n  // Progresso geral (todas as perguntas de todos os questionSets)\r\n  const totalQuestions = useMemo(() => {\r\n    return questionSets.reduce((sum, qs) => sum + qs.questions.length, 0)\r\n  }, [questionSets])\r\n\r\n  const answeredQuestions = useMemo(() => {\r\n    return Object.keys(answersMap).filter(\r\n      (qId) => {\r\n        const answer = answersMap[qId]\r\n        return (\r\n          answer?.valueText ||\r\n          answer?.valueNumber !== undefined ||\r\n          (answer?.valueJson && Object.keys(answer.valueJson).length > 0)\r\n        )\r\n      }\r\n    ).length\r\n  }, [answersMap])\r\n\r\n  const overallProgress = totalQuestions > 0 ? (answeredQuestions / totalQuestions) * 100 : 0\r\n\r\n  // Selecionar primeiro questionSet automaticamente se nenhum estiver selecionado\r\n  useEffect(() => {\r\n    if (!selectedQuestionSetId && sortedQuestionSets.length > 0) {\r\n      setSelectedQuestionSetId(sortedQuestionSets[0].id)\r\n      setCurrentQuestionIndex(0)\r\n    }\r\n  }, [selectedQuestionSetId, sortedQuestionSets])\r\n\r\n  // Resetar √≠ndice da pergunta quando mudar de questionSet\r\n  useEffect(() => {\r\n    setCurrentQuestionIndex(0)\r\n  }, [selectedQuestionSetId])\r\n\r\n  const goToQuestionSet = (questionSetId: string) => {\r\n    setSelectedQuestionSetId(questionSetId)\r\n    setCurrentQuestionIndex(0)\r\n    // Scroll apenas quando mudar de questionSet (se√ß√£o)\r\n    if (typeof window !== 'undefined') {\r\n      window.scrollTo({ top: 0, behavior: 'smooth' })\r\n    }\r\n  }\r\n\r\n  const goBackToQuestionSets = () => {\r\n    setSelectedQuestionSetId(null)\r\n    setCurrentQuestionIndex(0)\r\n    // Scroll apenas quando voltar para sele√ß√£o de questionSets\r\n    if (typeof window !== 'undefined') {\r\n      window.scrollTo({ top: 0, behavior: 'smooth' })\r\n    }\r\n  }\r\n\r\n  const goToPreviousQuestion = () => {\r\n    if (currentQuestionIndex > 0) {\r\n      setCurrentQuestionIndex(currentQuestionIndex - 1)\r\n      // N√£o fazer scroll ao navegar entre perguntas\r\n    } else {\r\n      // Se estiver na primeira pergunta, voltar para sele√ß√£o de questionSets\r\n      goBackToQuestionSets()\r\n    }\r\n  }\r\n\r\n  const goToNextQuestion = () => {\r\n    if (currentQuestionIndex < currentQuestions.length - 1) {\r\n      setCurrentQuestionIndex(currentQuestionIndex + 1)\r\n      // N√£o fazer scroll ao navegar entre perguntas\r\n    }\r\n  }\r\n\r\n  const goToPreviousQuestionSet = () => {\r\n    if (!currentQuestionSet) return\r\n    const currentIdx = sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id)\r\n    if (currentIdx > 0) {\r\n      goToQuestionSet(sortedQuestionSets[currentIdx - 1].id)\r\n    }\r\n  }\r\n\r\n  const goToNextQuestionSet = () => {\r\n    if (!currentQuestionSet) return\r\n    const currentIdx = sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id)\r\n    if (currentIdx < sortedQuestionSets.length - 1) {\r\n      goToQuestionSet(sortedQuestionSets[currentIdx + 1].id)\r\n    }\r\n  }\r\n\r\n  // Tela de sele√ß√£o de QuestionSets\r\n  if (!selectedQuestionSetId || !currentQuestionSet) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        {/* Progresso Geral */}\r\n        <Card>\r\n          <CardHeader>\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle>Selecione uma se√ß√£o para come√ßar</CardTitle>\r\n              <Badge variant=\"outline\" className=\"text-sm\">\r\n                {answeredQuestions} de {totalQuestions} respondidas\r\n              </Badge>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <Progress value={overallProgress} className=\"h-2\" />\r\n            </div>\r\n          </CardHeader>\r\n        </Card>\r\n\r\n        {/* Lista de QuestionSets */}\r\n        <div className=\"grid gap-4 md:grid-cols-2\">\r\n          {sortedQuestionSets.map((questionSet) => {\r\n            const questionsInSet = questionSet.questions.length\r\n            const answeredInSet = questionSet.questions.filter(\r\n              (q) => {\r\n                const answer = answersMap[q.id]\r\n                return (\r\n                  answer?.valueText ||\r\n                  answer?.valueNumber !== undefined ||\r\n                  (answer?.valueJson && Object.keys(answer.valueJson).length > 0)\r\n                )\r\n              }\r\n            ).length\r\n            const setProgress = questionsInSet > 0 ? (answeredInSet / questionsInSet) * 100 : 0\r\n\r\n            return (\r\n              <Card\r\n                key={questionSet.id}\r\n                className=\"cursor-pointer hover:border-teal-400 transition-colors\"\r\n                onClick={() => goToQuestionSet(questionSet.id)}\r\n              >\r\n                <CardHeader>\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      <CardTitle className=\"text-lg\">{questionSet.name}</CardTitle>\r\n                      {questionSet.subsection_name && (\r\n                        <CardDescription className=\"mt-1\">\r\n                          {questionSet.subsection_name}\r\n                        </CardDescription>\r\n                      )}\r\n                    </div>\r\n                    <Badge variant=\"outline\" className=\"text-sm\">\r\n                      {answeredInSet}/{questionsInSet}\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"mt-4\">\r\n                    <Progress value={setProgress} className=\"h-2\" />\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n                    {questionsInSet} pergunta{questionsInSet !== 1 ? 's' : ''}\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!currentQuestion) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"text-center text-slate-500\">\r\n            <p>Nenhuma pergunta encontrada nesta se√ß√£o</p>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={goBackToQuestionSets}\r\n              className=\"mt-4\"\r\n            >\r\n              <ArrowLeft className=\"mr-2 size-4\" />\r\n              Voltar para se√ß√µes\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Indicador de Progresso */}\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={goBackToQuestionSets}\r\n                  className=\"h-8 w-8 p-0\"\r\n                >\r\n                  <ArrowLeft className=\"size-4\" />\r\n                </Button>\r\n                <CardTitle className=\"text-lg\">\r\n                  {currentQuestionSet.name}\r\n                </CardTitle>\r\n              </div>\r\n              {currentQuestionSet.subsection_name && (\r\n                <CardDescription className=\"mt-1\">\r\n                  {currentQuestionSet.subsection_name}\r\n                </CardDescription>\r\n              )}\r\n            </div>\r\n            <Badge variant=\"outline\" className=\"text-sm\">\r\n              Pergunta {currentQuestionIndex + 1} de {currentQuestions.length}\r\n            </Badge>\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <Progress value={questionProgress} className=\"h-2\" />\r\n          </div>\r\n        </CardHeader>\r\n      </Card>\r\n\r\n      {/* Card Principal da Pergunta */}\r\n      <Card className=\"border-2 border-teal-200 dark:border-teal-800\">\r\n        <CardHeader>\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"flex-1\">\r\n              <CardTitle className=\"text-2xl mb-2\">\r\n                {currentQuestion.text}\r\n                {currentQuestion.required && (\r\n                  <span className=\"text-red-500 ml-2\">*</span>\r\n                )}\r\n              </CardTitle>\r\n              {currentQuestion.help_text && (\r\n                <CardDescription className=\"text-base mt-2\">\r\n                  {currentQuestion.help_text}\r\n                </CardDescription>\r\n              )}\r\n            </div>\r\n            {isSaving && (\r\n              <div className=\"ml-4\">\r\n                <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-teal-600\"></div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Contexto Detalhado */}\r\n          {loadingContext && (\r\n            <div className=\"text-center text-slate-500 text-sm py-4\">Carregando contexto...</div>\r\n          )}\r\n          {!loadingContext && questionContext && (\r\n            <div className=\"bg-slate-50 dark:bg-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-800\">\r\n              <div className=\"flex items-start gap-2 mb-4\">\r\n                <Info className=\"size-5 text-teal-600 dark:text-teal-400 mt-0.5 flex-shrink-0\" />\r\n                <h3 className=\"font-semibold text-lg text-slate-900 dark:text-slate-100\">\r\n                  Contexto e Orienta√ß√µes\r\n                </h3>\r\n              </div>\r\n              \r\n              <Accordion type=\"multiple\" className=\"w-full\" defaultValue={['why']}>\r\n                {/* Por que estamos perguntando */}\r\n                <AccordionItem value=\"why\" className=\"border-b border-slate-200 dark:border-slate-700\">\r\n                  <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Info className=\"size-4 text-teal-600 dark:text-teal-400\" />\r\n                      <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                        Por que estamos perguntando isso?\r\n                      </span>\r\n                    </div>\r\n                  </AccordionTrigger>\r\n                  <AccordionContent>\r\n                    <p className=\"text-sm text-slate-700 dark:text-slate-300 leading-relaxed pt-2\">\r\n                      {questionContext.why}\r\n                    </p>\r\n                  </AccordionContent>\r\n                </AccordionItem>\r\n\r\n                {/* Consequ√™ncias */}\r\n                {questionContext.consequences && questionContext.consequences.length > 0 && (\r\n                  <AccordionItem value=\"consequences\" className=\"border-b border-slate-200 dark:border-slate-700\">\r\n                    <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <AlertTriangle className=\"size-4 text-amber-600\" />\r\n                        <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                          O que acontece sem isso?\r\n                        </span>\r\n                      </div>\r\n                    </AccordionTrigger>\r\n                    <AccordionContent>\r\n                      <ul className=\"list-disc list-inside space-y-1 text-sm text-slate-700 dark:text-slate-300 pt-2\">\r\n                        {questionContext.consequences.map((consequence, idx) => (\r\n                          <li key={idx}>{consequence}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                )}\r\n\r\n                {/* Como responder */}\r\n                {questionContext.howToAnswer && (\r\n                  <AccordionItem value=\"howToAnswer\" className=\"border-b border-slate-200 dark:border-slate-700\">\r\n                    <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                      <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                        Como responder bem?\r\n                      </span>\r\n                    </AccordionTrigger>\r\n                    <AccordionContent>\r\n                      <p className=\"text-sm text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-line pt-2\">\r\n                        {questionContext.howToAnswer}\r\n                      </p>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                )}\r\n\r\n                {/* Exemplos bons */}\r\n                {questionContext.goodExamples && questionContext.goodExamples.length > 0 && (\r\n                  <AccordionItem value=\"goodExamples\" className=\"border-b border-slate-200 dark:border-slate-700\">\r\n                    <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <CheckCircle2 className=\"size-4 text-green-600\" />\r\n                        <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                          Exemplos de boas respostas\r\n                        </span>\r\n                      </div>\r\n                    </AccordionTrigger>\r\n                    <AccordionContent>\r\n                      <div className=\"space-y-2 pt-2\">\r\n                        {questionContext.goodExamples.map((example, idx) => (\r\n                          <div\r\n                            key={idx}\r\n                            className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-3 text-sm text-green-900 dark:text-green-200\"\r\n                          >\r\n                            \"{example}\"\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                )}\r\n\r\n                {/* Exemplos ruins */}\r\n                {questionContext.badExamples && questionContext.badExamples.length > 0 && (\r\n                  <AccordionItem value=\"badExamples\" className=\"border-b-0\">\r\n                    <AccordionTrigger className=\"text-left hover:no-underline\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <XCircle className=\"size-4 text-red-600\" />\r\n                        <span className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                          Exemplos de respostas ruins\r\n                        </span>\r\n                      </div>\r\n                    </AccordionTrigger>\r\n                    <AccordionContent>\r\n                      <div className=\"space-y-2 pt-2\">\r\n                        {questionContext.badExamples.map((example, idx) => (\r\n                          <div\r\n                            key={idx}\r\n                            className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-3 text-sm text-red-900 dark:text-red-200\"\r\n                          >\r\n                            \"{example}\"\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </AccordionContent>\r\n                  </AccordionItem>\r\n                )}\r\n              </Accordion>\r\n            </div>\r\n          )}\r\n\r\n          {/* Campo de Resposta */}\r\n          <div className=\"space-y-2\">\r\n            <QuestionRenderer\r\n              question={currentQuestion}\r\n              answer={currentAnswer}\r\n              onChange={(value) => onAnswerChange(currentQuestion, value)}\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Navega√ß√£o */}\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"space-y-4\">\r\n            {/* Navega√ß√£o entre perguntas */}\r\n            <div className=\"flex items-center justify-between\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={goToPreviousQuestion}\r\n                disabled={currentQuestionIndex === 0}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                <ChevronLeft className=\"size-4\" />\r\n                {currentQuestionIndex === 0 ? 'Voltar para se√ß√µes' : 'Pergunta anterior'}\r\n              </Button>\r\n\r\n              <div className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n                {currentQuestionIndex + 1} de {currentQuestions.length}\r\n              </div>\r\n\r\n              <Button\r\n                onClick={() => {\r\n                  if (currentQuestionIndex === currentQuestions.length - 1) {\r\n                    // √öltima pergunta: rolar para o relat√≥rio\r\n                    const reportSection = document.getElementById('section-report')\r\n                    if (reportSection) {\r\n                      reportSection.scrollIntoView({ behavior: 'smooth', block: 'start' })\r\n                    }\r\n                  } else {\r\n                    // N√£o √© √∫ltima pergunta: ir para pr√≥xima\r\n                    goToNextQuestion()\r\n                  }\r\n                }}\r\n                className=\"flex items-center gap-2\"\r\n              >\r\n                {currentQuestionIndex === currentQuestions.length - 1\r\n                  ? 'Concluir Se√ß√£o'\r\n                  : 'Pr√≥xima pergunta'}\r\n                <ChevronRight className=\"size-4\" />\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Navega√ß√£o entre questionSets (se houver mais de um) */}\r\n            {sortedQuestionSets.length > 1 && (\r\n              <>\r\n                <Separator />\r\n                <div className=\"flex items-center justify-between text-sm\">\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={goToPreviousQuestionSet}\r\n                    disabled={\r\n                      sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id) === 0\r\n                    }\r\n                    className=\"flex items-center gap-2\"\r\n                  >\r\n                    <ChevronLeft className=\"size-4\" />\r\n                    Se√ß√£o anterior\r\n                  </Button>\r\n\r\n                  <div className=\"text-slate-500 dark:text-slate-400\">\r\n                    Se√ß√£o{' '}\r\n                    {sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id) + 1} de{' '}\r\n                    {sortedQuestionSets.length}\r\n                  </div>\r\n\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={goToNextQuestionSet}\r\n                    disabled={\r\n                      sortedQuestionSets.findIndex((qs) => qs.id === currentQuestionSet.id) ===\r\n                      sortedQuestionSets.length - 1\r\n                    }\r\n                    className=\"flex items-center gap-2\"\r\n                  >\r\n                    Pr√≥xima se√ß√£o\r\n                    <ChevronRight className=\"size-4\" />\r\n                  </Button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1825, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/MarkdownRenderer.tsx"],"sourcesContent":["import ReactMarkdown from 'react-markdown'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\n\r\ninterface MarkdownRendererProps {\r\n  content: string\r\n  className?: string\r\n}\r\n\r\nexport default function MarkdownRenderer({ content, className = '' }: MarkdownRendererProps) {\r\n  return (\r\n    <div className={`prose prose-slate dark:prose-invert max-w-none ${className}`}>\r\n      <ReactMarkdown\r\n        components={{\r\n          h1: ({ node, ...props }) => (\r\n            <h1 className=\"text-3xl font-bold mt-6 mb-4 text-slate-900 dark:text-slate-100\" {...props} />\r\n          ),\r\n          h2: ({ node, ...props }) => (\r\n            <h2 className=\"text-2xl font-semibold mt-5 mb-3 text-slate-800 dark:text-slate-200\" {...props} />\r\n          ),\r\n          h3: ({ node, ...props }) => (\r\n            <h3 className=\"text-xl font-semibold mt-4 mb-2 text-slate-700 dark:text-slate-300\" {...props} />\r\n          ),\r\n          p: ({ node, ...props }) => (\r\n            <p className=\"mb-4 text-slate-700 dark:text-slate-300 leading-relaxed\" {...props} />\r\n          ),\r\n          ul: ({ node, ...props }) => (\r\n            <ul className=\"list-disc list-inside mb-4 space-y-2 text-slate-700 dark:text-slate-300\" {...props} />\r\n          ),\r\n          ol: ({ node, ...props }) => (\r\n            <ol className=\"list-decimal list-inside mb-4 space-y-2 text-slate-700 dark:text-slate-300\" {...props} />\r\n          ),\r\n          li: ({ node, ...props }) => (\r\n            <li className=\"ml-4 text-slate-700 dark:text-slate-300\" {...props} />\r\n          ),\r\n          blockquote: ({ node, ...props }) => (\r\n            <blockquote\r\n              className=\"border-l-4 border-teal-500 pl-4 italic my-4 text-slate-600 dark:text-slate-400\"\r\n              {...props}\r\n            />\r\n          ),\r\n          code: ({ node, inline, ...props }: any) =>\r\n            inline ? (\r\n              <code\r\n                className=\"bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-sm font-mono text-slate-900 dark:text-slate-100\"\r\n                {...props}\r\n              />\r\n            ) : (\r\n              <code\r\n                className=\"block bg-slate-100 dark:bg-slate-800 p-4 rounded-lg overflow-x-auto text-sm font-mono text-slate-900 dark:text-slate-100\"\r\n                {...props}\r\n              />\r\n            ),\r\n          strong: ({ node, ...props }) => (\r\n            <strong className=\"font-bold text-slate-900 dark:text-slate-100\" {...props} />\r\n          ),\r\n          em: ({ node, ...props }) => (\r\n            <em className=\"italic text-slate-800 dark:text-slate-200\" {...props} />\r\n          ),\r\n          a: ({ node, ...props }) => (\r\n            <a\r\n              className=\"text-teal-600 dark:text-teal-400 hover:underline\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              {...props}\r\n            />\r\n          ),\r\n        }}\r\n      >\r\n        {content}\r\n      </ReactMarkdown>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;AAQe,SAAS,iBAAiB,EAAE,OAAO,EAAE,YAAY,EAAE,EAAyB;IACzF,qBACE,qKAAC;QAAI,WAAW,CAAC,+CAA+C,EAAE,WAAW;kBAC3E,cAAA,qKAAC,6WAAa;YACZ,YAAY;gBACV,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACrB,qKAAC;wBAAG,WAAU;wBAAmE,GAAG,KAAK;;;;;;gBAE3F,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACrB,qKAAC;wBAAG,WAAU;wBAAuE,GAAG,KAAK;;;;;;gBAE/F,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACrB,qKAAC;wBAAG,WAAU;wBAAsE,GAAG,KAAK;;;;;;gBAE9F,GAAG,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACpB,qKAAC;wBAAE,WAAU;wBAA2D,GAAG,KAAK;;;;;;gBAElF,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACrB,qKAAC;wBAAG,WAAU;wBAA2E,GAAG,KAAK;;;;;;gBAEnG,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACrB,qKAAC;wBAAG,WAAU;wBAA8E,GAAG,KAAK;;;;;;gBAEtG,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACrB,qKAAC;wBAAG,WAAU;wBAA2C,GAAG,KAAK;;;;;;gBAEnE,YAAY,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBAC7B,qKAAC;wBACC,WAAU;wBACT,GAAG,KAAK;;;;;;gBAGb,MAAM,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,OAAY,GACpC,uBACE,qKAAC;wBACC,WAAU;wBACT,GAAG,KAAK;;;;;+CAGX,qKAAC;wBACC,WAAU;wBACT,GAAG,KAAK;;;;;;gBAGf,QAAQ,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACzB,qKAAC;wBAAO,WAAU;wBAAgD,GAAG,KAAK;;;;;;gBAE5E,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACrB,qKAAC;wBAAG,WAAU;wBAA6C,GAAG,KAAK;;;;;;gBAErE,GAAG,CAAC,EAAE,IAAI,EAAE,GAAG,OAAO,iBACpB,qKAAC;wBACC,WAAU;wBACV,QAAO;wBACP,KAAI;wBACH,GAAG,KAAK;;;;;;YAGf;sBAEC;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 1967, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/dossier/SectionReportCard.tsx"],"sourcesContent":["import {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { FileText, RefreshCw, Loader2, AlertCircle, Download } from 'lucide-react'\r\nimport MarkdownRenderer from '@/components/MarkdownRenderer'\r\nimport { useState } from 'react'\r\nimport jsPDF from 'jspdf'\r\nimport html2canvas from 'html2canvas'\r\nimport { toast } from 'sonner'\r\n\r\ninterface SectionReportCardProps {\r\n  report: any | null\r\n  loading: boolean\r\n  generating: boolean\r\n  onGenerate: () => void\r\n  sectionCode: string\r\n  sectionTitle?: string\r\n}\r\n\r\nexport default function SectionReportCard({\r\n  report,\r\n  loading,\r\n  generating,\r\n  onGenerate,\r\n  sectionCode,\r\n  sectionTitle,\r\n}: SectionReportCardProps) {\r\n  const displayTitle = sectionTitle || 'Relat√≥rio desta Se√ß√£o'\r\n  const [exporting, setExporting] = useState(false)\r\n\r\n  const handleExportPDF = async () => {\r\n    if (!report || !report.report_markdown) {\r\n      toast.error('Nenhum relat√≥rio para exportar')\r\n      return\r\n    }\r\n\r\n    setExporting(true)\r\n    toast.info('Preparando PDF...')\r\n\r\n    try {\r\n      // Capturar o conte√∫do do relat√≥rio\r\n      const reportElement = document.getElementById(`report-content-${sectionCode}`)\r\n      if (!reportElement) {\r\n        throw new Error('Conte√∫do do relat√≥rio n√£o encontrado')\r\n      }\r\n\r\n      // Adicionar classe para estilos de exporta√ß√£o (remove bordas coloridas)\r\n      reportElement.classList.add('pdf-export-mode')\r\n\r\n      // Converter para canvas com otimiza√ß√µes para tamanho menor\r\n      const canvas = await html2canvas(reportElement, {\r\n        scale: 1.5, // Reduzido de 2 para 1.5 (boa qualidade, menor tamanho)\r\n        logging: false,\r\n        useCORS: true,\r\n        backgroundColor: '#ffffff', // Fundo branco s√≥lido\r\n      })\r\n\r\n      // Remover classe de exporta√ß√£o\r\n      reportElement.classList.remove('pdf-export-mode')\r\n\r\n      // Criar PDF\r\n      // Usar JPEG com compress√£o em vez de PNG (reduz tamanho significativamente)\r\n      const imgData = canvas.toDataURL('image/jpeg', 0.85)\r\n      const pdf = new jsPDF({\r\n        orientation: 'portrait',\r\n        unit: 'mm',\r\n        format: 'a4',\r\n        compress: true, // Ativar compress√£o do PDF\r\n      })\r\n\r\n      const imgWidth = 210 // A4 width in mm\r\n      const pageHeight = 297 // A4 height in mm\r\n      const imgHeight = (canvas.height * imgWidth) / canvas.width\r\n      let heightLeft = imgHeight\r\n      let position = 0\r\n\r\n      // Adicionar primeira p√°gina com compress√£o\r\n      pdf.addImage(imgData, 'JPEG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\r\n      heightLeft -= pageHeight\r\n\r\n      // Adicionar p√°ginas adicionais se necess√°rio\r\n      while (heightLeft > 0) {\r\n        position = heightLeft - imgHeight\r\n        pdf.addPage()\r\n        pdf.addImage(imgData, 'JPEG', 0, position, imgWidth, imgHeight, undefined, 'FAST')\r\n        heightLeft -= pageHeight\r\n      }\r\n\r\n      // Salvar PDF\r\n      const fileName = `relatorio-${sectionCode.toLowerCase()}-${new Date().toISOString().split('T')[0]}.pdf`\r\n      pdf.save(fileName)\r\n\r\n      toast.success('PDF exportado com sucesso!')\r\n    } catch (error) {\r\n      console.error('Erro ao exportar PDF:', error)\r\n      toast.error('Erro ao exportar PDF')\r\n      // Garantir que a classe √© removida mesmo em caso de erro\r\n      const reportElement = document.getElementById(`report-content-${sectionCode}`)\r\n      if (reportElement) {\r\n        reportElement.classList.remove('pdf-export-mode')\r\n      }\r\n    } finally {\r\n      setExporting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex justify-between items-center\">\r\n          <div>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <FileText className=\"size-5\" />\r\n              {displayTitle}\r\n            </CardTitle>\r\n            <CardDescription>\r\n              Relat√≥rio gerado por IA com an√°lise e insights sobre esta se√ß√£o\r\n            </CardDescription>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            {report && (\r\n              <Button\r\n                onClick={handleExportPDF}\r\n                disabled={exporting}\r\n                variant=\"outline\"\r\n                size=\"default\"\r\n              >\r\n                {exporting ? (\r\n                  <>\r\n                    <Loader2 className=\"mr-2 size-4 animate-spin\" />\r\n                    Exportando...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Download className=\"mr-2 size-4\" />\r\n                    Exportar PDF\r\n                  </>\r\n                )}\r\n              </Button>\r\n            )}\r\n            <Button\r\n              onClick={onGenerate}\r\n              disabled={generating}\r\n              variant={report ? 'outline' : 'default'}\r\n            >\r\n              {generating ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 size-4 animate-spin\" />\r\n                  Gerando...\r\n                </>\r\n              ) : report ? (\r\n                <>\r\n                  <RefreshCw className=\"mr-2 size-4\" />\r\n                  Regenerar\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <FileText className=\"mr-2 size-4\" />\r\n                  Gerar Relat√≥rio\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center py-8\">\r\n            <Loader2 className=\"size-6 animate-spin text-teal-600\" />\r\n          </div>\r\n        ) : report ? (\r\n          <div id={`report-content-${sectionCode}`} className=\"space-y-6\">\r\n            {report.status === 'error' && (\r\n              <div className=\"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\r\n                <AlertCircle className=\"size-5 text-red-600 dark:text-red-400\" />\r\n                <div className=\"flex-1\">\r\n                  <p className=\"text-sm font-medium text-red-800 dark:text-red-200\">\r\n                    Erro ao gerar relat√≥rio\r\n                  </p>\r\n                  {report.error_message && (\r\n                    <p className=\"text-xs text-red-600 dark:text-red-400 mt-1\">\r\n                      {report.error_message}\r\n                    </p>\r\n                  )}\r\n                  <p className=\"text-xs text-red-600 dark:text-red-400 mt-1\">\r\n                    Tente regenerar o relat√≥rio.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {report.status === 'stale' && (\r\n              <div className=\"flex items-center gap-2 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg\">\r\n                <AlertCircle className=\"size-5 text-amber-600 dark:text-amber-400\" />\r\n                <p className=\"text-sm text-amber-800 dark:text-amber-200\">\r\n                  Este relat√≥rio est√° desatualizado. Os dados da se√ß√£o foram alterados desde a √∫ltima gera√ß√£o.\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {/* CONTE√öDO PRINCIPAL: Markdown do relat√≥rio */}\r\n            {report.report_markdown && (\r\n              <div className=\"prose prose-slate dark:prose-invert max-w-none\">\r\n                <MarkdownRenderer content={report.report_markdown} />\r\n              </div>\r\n            )}\r\n\r\n            {/* INSIGHTS COMO COMPLEMENTO - Ap√≥s o markdown (apenas se√ß√µes relevantes) */}\r\n            {report.insights && (\r\n              <div className=\"mt-8 pt-8 border-t border-slate-200 dark:border-slate-800 space-y-6\">\r\n\r\n                {/* Resumo da Identidade (apenas para IDENTITY) */}\r\n                {report.insights.identity_summary && (\r\n                  <div className=\"space-y-4\">\r\n                    <h3 className=\"font-semibold text-slate-900 dark:text-slate-100\">Resumo da Identidade</h3>\r\n                    <div className=\"grid gap-4 md:grid-cols-2\">\r\n                      {report.insights.identity_summary.purpose && (\r\n                        <div className=\"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\r\n                          <p className=\"text-xs font-semibold text-blue-600 dark:text-blue-400 mb-1\">Prop√≥sito</p>\r\n                          <p className=\"text-sm text-slate-700 dark:text-slate-300\">{report.insights.identity_summary.purpose}</p>\r\n                        </div>\r\n                      )}\r\n                      {report.insights.identity_summary.vision && (\r\n                        <div className=\"p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg\">\r\n                          <p className=\"text-xs font-semibold text-purple-600 dark:text-purple-400 mb-1\">Vis√£o</p>\r\n                          <p className=\"text-sm text-slate-700 dark:text-slate-300\">{report.insights.identity_summary.vision}</p>\r\n                        </div>\r\n                      )}\r\n                      {report.insights.identity_summary.priority_audience && (\r\n                        <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\r\n                          <p className=\"text-xs font-semibold text-green-600 dark:text-green-400 mb-1\">P√∫blico Priorit√°rio</p>\r\n                          <p className=\"text-sm text-slate-700 dark:text-slate-300\">{report.insights.identity_summary.priority_audience}</p>\r\n                        </div>\r\n                      )}\r\n                      {report.insights.identity_summary.positioning && (\r\n                        <div className=\"p-4 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg\">\r\n                          <p className=\"text-xs font-semibold text-teal-600 dark:text-teal-400 mb-1\">Posicionamento</p>\r\n                          <p className=\"text-sm text-slate-700 dark:text-slate-300\">{report.insights.identity_summary.positioning}</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    {report.insights.identity_summary.values && report.insights.identity_summary.values.length > 0 && (\r\n                      <div className=\"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg\">\r\n                        <p className=\"text-xs font-semibold text-amber-600 dark:text-amber-400 mb-2\">Valores</p>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {report.insights.identity_summary.values.map((value: string, idx: number) => (\r\n                            <Badge key={idx} variant=\"outline\" className=\"bg-white dark:bg-slate-800\">\r\n                              {value}\r\n                            </Badge>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Alertas */}\r\n                {report.insights.alerts && report.insights.alerts.length > 0 && (\r\n                  <div className=\"space-y-2\">\r\n                    <h3 className=\"font-semibold text-slate-900 dark:text-slate-100\">Alertas</h3>\r\n                    {report.insights.alerts.map((alert: any, idx: number) => (\r\n                      <div\r\n                        key={idx}\r\n                        className={`p-3 rounded-lg border ${\r\n                          alert.severity === 'high'\r\n                            ? 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800'\r\n                            : alert.severity === 'medium'\r\n                              ? 'bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800'\r\n                              : 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800'\r\n                        }`}\r\n                      >\r\n                        <p className=\"font-medium text-sm\">{alert.title}</p>\r\n                        <p className=\"text-sm text-slate-600 dark:text-slate-400 mt-1\">{alert.detail}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Recomenda√ß√µes */}\r\n                {report.insights.recommendations && report.insights.recommendations.length > 0 && (\r\n                  <div className=\"space-y-2\">\r\n                    <h3 className=\"font-semibold text-slate-900 dark:text-slate-100\">Recomenda√ß√µes</h3>\r\n                    {report.insights.recommendations\r\n                      .sort((a: any, b: any) => (b.priority || 0) - (a.priority || 0))\r\n                      .map((rec: any, idx: number) => (\r\n                        <div\r\n                          key={idx}\r\n                          className=\"p-3 bg-teal-50 dark:bg-teal-900/20 border border-teal-200 dark:border-teal-800 rounded-lg\"\r\n                        >\r\n                          <div className=\"flex justify-between items-start mb-1\">\r\n                            <p className=\"font-medium text-sm\">{rec.title}</p>\r\n                            <Badge variant=\"outline\" className=\"text-xs\">\r\n                              Prioridade {rec.priority || 0}\r\n                            </Badge>\r\n                          </div>\r\n                          <p className=\"text-sm text-slate-600 dark:text-slate-400\">{rec.detail}</p>\r\n                        </div>\r\n                      ))}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Checklist */}\r\n                {report.insights.checklist && report.insights.checklist.length > 0 && (\r\n                  <div className=\"space-y-2\">\r\n                    <h3 className=\"font-semibold text-slate-900 dark:text-slate-100\">Checklist de Melhoria</h3>\r\n                    <div className=\"space-y-2\">\r\n                      {report.insights.checklist.map((item: string, idx: number) => (\r\n                        <div\r\n                          key={idx}\r\n                          className=\"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg\"\r\n                        >\r\n                          <input type=\"checkbox\" className=\"mt-1\" />\r\n                          <p className=\"text-sm text-slate-700 dark:text-slate-300 flex-1\">{item}</p>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Dados Faltantes */}\r\n                {report.insights.missing_data && report.insights.missing_data.length > 0 && (\r\n                  <div className=\"space-y-2\">\r\n                    <h3 className=\"font-semibold text-slate-900 dark:text-slate-100\">Dados Faltantes</h3>\r\n                    {report.insights.missing_data.map((item: any, idx: number) => (\r\n                      <div\r\n                        key={idx}\r\n                        className=\"p-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg\"\r\n                      >\r\n                        <p className=\"font-medium text-sm\">{item.item}</p>\r\n                        <p className=\"text-sm text-slate-600 dark:text-slate-400 mt-1\">{item.why_it_matters}</p>\r\n                        {item.how_to_fill && (\r\n                          <p className=\"text-xs text-slate-500 dark:text-slate-400 mt-1 italic\">\r\n                            Como preencher: {item.how_to_fill}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8 text-slate-500\">\r\n            <FileText className=\"size-12 mx-auto mb-3 opacity-50\" />\r\n            <p>Nenhum relat√≥rio gerado ainda.</p>\r\n            <p className=\"text-sm mt-1\">Clique em \"Gerar Relat√≥rio\" para criar um relat√≥rio com an√°lise e insights.</p>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2741, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/src/components/dossier/DossierSectionPage.tsx"],"sourcesContent":["import { useRouter } from 'next/router'\r\nimport { useState, useEffect, useRef, useCallback } from 'react'\r\nimport { useSectionData } from '@/hooks/useSectionData'\r\nimport { useSectionReport } from '@/hooks/useSectionReport'\r\nimport { saveAnswers } from '@/services/dossierService'\r\nimport QuestionWizard from '@/components/dossier/QuestionWizard'\r\nimport SectionReportCard from '@/components/dossier/SectionReportCard'\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/ui/card'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { Loader2 } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport type { Question } from '@/services/dossierService'\r\n\r\ninterface DossierSectionPageProps {\r\n  sectionCode: string\r\n  entityBlocks?: React.ReactNode\r\n}\r\n\r\nexport default function DossierSectionPage({\r\n  sectionCode,\r\n  entityBlocks,\r\n}: DossierSectionPageProps) {\r\n  const router = useRouter()\r\n  const dossierId = typeof router.query.dossierId === 'string' ? router.query.dossierId : undefined\r\n  const { sectionData, loading, error, completionPercent, refetch } =\r\n    useSectionData(dossierId, sectionCode)\r\n  const {\r\n    report,\r\n    loadingReport,\r\n    generatingReport,\r\n    handleGenerateReport,\r\n  } = useSectionReport(dossierId, sectionCode)\r\n\r\n  const [savingAnswers, setSavingAnswers] = useState<Set<string>>(new Set())\r\n  const [answersMap, setAnswersMap] = useState<Record<string, any>>({})\r\n  const saveTimeoutRef = useRef<Record<string, NodeJS.Timeout>>({})\r\n\r\n  // Inicializar answersMap quando sectionData mudar\r\n  useEffect(() => {\r\n    if (sectionData?.questionSets) {\r\n      console.log('üì• Carregando dados da se√ß√£o:', {\r\n        sectionCode,\r\n        questionSetsCount: sectionData.questionSets.length,\r\n      })\r\n\r\n      const initialAnswers: Record<string, any> = {}\r\n      let answersCount = 0\r\n\r\n      sectionData.questionSets.forEach((qs) => {\r\n        qs.questions.forEach((q) => {\r\n          if (q.answer && Object.keys(q.answer).length > 0) {\r\n            answersCount++\r\n            console.log('üìù Resposta encontrada:', {\r\n              questionId: q.id,\r\n              questionCode: q.code,\r\n              answerKeys: Object.keys(q.answer),\r\n              valueText: q.answer.value_text?.substring(0, 50),\r\n              valueNumber: q.answer.value_number,\r\n              valueJson: q.answer.value_json,\r\n            })\r\n          }\r\n\r\n          // Converter snake_case do banco para camelCase esperado pelo frontend\r\n          if (q.answer) {\r\n            const converted = {\r\n              id: q.answer.id,\r\n              valueText: q.answer.value_text,\r\n              valueNumber: q.answer.value_number,\r\n              valueJson: q.answer.value_json,\r\n              source: q.answer.source,\r\n            }\r\n            initialAnswers[q.id] = converted\r\n\r\n            if (converted.valueText || converted.valueNumber || converted.valueJson) {\r\n              console.log('üîÑ Convertido snake_case ‚Üí camelCase:', {\r\n                questionCode: q.code,\r\n                antes: { value_text: q.answer.value_text, value_number: q.answer.value_number },\r\n                depois: { valueText: converted.valueText, valueNumber: converted.valueNumber },\r\n              })\r\n            }\r\n          } else {\r\n            initialAnswers[q.id] = {}\r\n          }\r\n        })\r\n      })\r\n\r\n      console.log(`‚úÖ Total de ${answersCount} respostas carregadas`)\r\n      setAnswersMap(initialAnswers)\r\n    }\r\n  }, [sectionData, sectionCode])\r\n\r\n  // Cleanup timeouts on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      Object.values(saveTimeoutRef.current).forEach(clearTimeout)\r\n    }\r\n  }, [])\r\n\r\n  if (!dossierId) {\r\n    return null\r\n  }\r\n\r\n  const handleAnswerChange = useCallback(\r\n    (\r\n      question: Question,\r\n      value: {\r\n        valueText?: string\r\n        valueNumber?: number\r\n        valueJson?: any\r\n      },\r\n    ) => {\r\n      if (!question.id) return\r\n\r\n      // Atualizar estado local imediatamente para feedback visual\r\n      setAnswersMap((prev) => ({\r\n        ...prev,\r\n        [question.id]: value,\r\n      }))\r\n\r\n      // Limpar timeout anterior se existir\r\n      if (saveTimeoutRef.current[question.id]) {\r\n        clearTimeout(saveTimeoutRef.current[question.id])\r\n      }\r\n\r\n      // Marcar como salvando ap√≥s um pequeno delay (para evitar piscar o √≠cone)\r\n      const savingTimeout = setTimeout(() => {\r\n        setSavingAnswers((prev) => new Set(prev).add(question.id))\r\n      }, 300)\r\n\r\n      // Debounce: salvar ap√≥s 1 segundo de inatividade\r\n      saveTimeoutRef.current[question.id] = setTimeout(async () => {\r\n        try {\r\n          console.log('üíæ Salvando resposta:', {\r\n            dossierId,\r\n            questionId: question.id,\r\n            questionCode: question.code,\r\n            valueText: value.valueText?.substring(0, 50),\r\n            valueNumber: value.valueNumber,\r\n            valueJson: value.valueJson,\r\n          })\r\n\r\n          const result = await saveAnswers(dossierId, [\r\n            {\r\n              questionId: question.id,\r\n              valueText: value.valueText,\r\n              valueNumber: value.valueNumber,\r\n              valueJson: value.valueJson,\r\n              source: 'user',\r\n            },\r\n          ])\r\n\r\n          console.log('‚úÖ Resposta salva com sucesso:', result)\r\n\r\n          // N√£o fazer refetch aqui - o estado local j√° est√° atualizado\r\n          // Isso evita o refresh da tela enquanto o usu√°rio est√° digitando\r\n        } catch (err) {\r\n          console.error('‚ùå Erro ao salvar resposta:', err)\r\n          toast.error('Erro ao salvar resposta')\r\n\r\n          // Reverter mudan√ßa em caso de erro\r\n          setAnswersMap((prev) => ({\r\n            ...prev,\r\n            [question.id]: sectionData?.questionSets\r\n              .flatMap((qs) => qs.questions)\r\n              .find((q) => q.id === question.id)?.answer || {},\r\n          }))\r\n        } finally {\r\n          clearTimeout(savingTimeout)\r\n          setSavingAnswers((prev) => {\r\n            const next = new Set(prev)\r\n            next.delete(question.id)\r\n            return next\r\n          })\r\n          delete saveTimeoutRef.current[question.id]\r\n        }\r\n      }, 1000) // 1 segundo de debounce\r\n    },\r\n    [dossierId, sectionData],\r\n  )\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <Loader2 className=\"size-8 animate-spin text-teal-600\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"text-center text-red-600\">\r\n            <p>Erro ao carregar dados da se√ß√£o</p>\r\n            <p className=\"text-sm mt-2\">{error.message}</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (!sectionData) {\r\n    return (\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"text-center text-slate-500\">\r\n            <p>Nenhum dado encontrado para esta se√ß√£o</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Cabe√ßalho da Se√ß√£o */}\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex justify-between items-start\">\r\n            <div>\r\n              <CardTitle>{sectionData.section.name}</CardTitle>\r\n              {sectionData.section.description && (\r\n                <CardDescription className=\"mt-2\">\r\n                  {sectionData.section.description}\r\n                </CardDescription>\r\n              )}\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-sm text-slate-600 dark:text-slate-400 mb-1\">\r\n                Completude\r\n              </div>\r\n              <div className=\"text-2xl font-bold\">{completionPercent}%</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <Progress value={completionPercent} className=\"h-2\" />\r\n          </div>\r\n        </CardHeader>\r\n      </Card>\r\n\r\n      {/* Perguntas - Usar QuestionWizard para todas as se√ß√µes */}\r\n      <QuestionWizard\r\n        questionSets={sectionData.questionSets}\r\n        answersMap={answersMap}\r\n        savingAnswers={savingAnswers}\r\n        onAnswerChange={handleAnswerChange}\r\n        sectionCode={sectionCode}\r\n      />\r\n\r\n      {/* Blocos de Entidades */}\r\n      {entityBlocks && (\r\n        <div className=\"space-y-4\">\r\n          {entityBlocks}\r\n        </div>\r\n      )}\r\n\r\n      {/* Relat√≥rio da Se√ß√£o */}\r\n      <div id=\"section-report\">\r\n        <SectionReportCard\r\n          report={report}\r\n          loading={loadingReport}\r\n          generating={generatingReport}\r\n          onGenerate={handleGenerateReport}\r\n          sectionCode={sectionCode}\r\n          sectionTitle={`Relat√≥rio - ${sectionData.section.name}`}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3141, "column": 0}, "map": {"version":3,"sources":["file:///mnt/c/Users/Leonardo%20Machado/Documents/Planeamento%20dental/planeamento-dental/pages/dossie/%5BdossierId%5D/identity.tsx"],"sourcesContent":["import { useRouter } from 'next/router'\r\nimport DossierSectionPage from '@/components/dossier/DossierSectionPage'\r\n\r\nexport default function DossierIdentity() {\r\n  const router = useRouter()\r\n  const { dossierId } = router.query\r\n\r\n  if (!dossierId || typeof dossierId !== 'string') {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <DossierSectionPage\r\n      sectionCode=\"IDENTITY\"\r\n    />\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,qVAAS;IACxB,MAAM,EAAE,SAAS,EAAE,GAAG,OAAO,KAAK;IAElC,IAAI,CAAC,aAAa,OAAO,cAAc,UAAU;QAC/C,OAAO;IACT;IAEA,qBACE,qKAAC,uMAAkB;QACjB,aAAY;;;;;;AAGlB"}}]
}